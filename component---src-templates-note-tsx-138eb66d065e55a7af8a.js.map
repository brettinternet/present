{"version":3,"sources":["webpack:///./src/components/Reveal/Reveal.types.ts","webpack:///./src/components/Loader/Loader.types.ts","webpack:///./src/components/Loader/Loader.styles.ts","webpack:///./src/components/Loader/Loader.tsx","webpack:///./src/components/Portal/usePortal.ts","webpack:///./src/components/Portal/index.tsx","webpack:///./src/components/Loader/PageLoader.tsx","webpack:///./src/components/Reveal/index.tsx","webpack:///./src/templates/note.tsx","webpack:///./node_modules/reveal.js/js/reveal.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/reveal.js/css/theme sync ^\\.\\/.*\\.css$","webpack:///./src/templates sync","webpack:///./node_modules/prismjs/themes sync ^\\.\\/.*\\.css$"],"names":["Theme","LoaderLabelPosition","LoaderSize","spinAnimation","keyframes","transform","Label","color","Root","labelPosition","top","right","left","Circle","secondaryColor","size","xs","sm","md","lg","Loader","className","label","style","inverted","aria-label","usePortal","id","window","rootElemRef","useRef","useEffect","rootElem","existingParent","document","querySelector","parentElem","rootContainer","createElement","setAttribute","createRootElement","body","insertBefore","lastElementChild","nextElementSibling","appendChild","current","remove","childNodes","length","Portal","children","target","createPortal","Overlay","transitionDuration","isOpaque","PageLoader","props","toggleLoadingLag","delay","isLoading","transitionLag","setTimeout","setState","isTransition","stopTransition","transitionDelay","overlayRef","React","createRef","state","componentDidUpdate","prevProps","this","componentWillUnmount","clearTimeout","render","loaderProps","showLoader","ref","Component","defaultProps","katexCss","require","Revealer","renderHtml","dangerouslySetInnerHTML","__html","formatHtml","html","separator","separatorVertical","split","map","section","vertSection","join","componentDidMount","initialize","config","revealCss","themeCss","theme","height","styles","css","WHITE","hash","pageQuery","NoteTemplate","markdownRemark","data","frontmatter","GlobalStyles","Reveal","root","indexh","indexv","previousSlide","currentSlide","previousBackground","isMobileDevice","isChrome","autoSlidePlayer","SLIDES_SELECTOR","HORIZONTAL_SLIDES_SELECTOR","VERTICAL_SLIDES_SELECTOR","HOME_SLIDE_SELECTOR","UA","navigator","userAgent","width","margin","minScale","maxScale","controls","controlsTutorial","controlsLayout","controlsBackArrows","progress","slideNumber","showSlideNumber","hashOneBasedIndex","history","keyboard","keyboardCondition","overview","disableLayout","center","touch","loop","rtl","navigationMode","shuffle","fragments","fragmentInURL","embedded","help","pause","showNotes","autoPlayMedia","preloadIframes","autoSlide","autoSlideStoppable","autoSlideMethod","defaultTiming","mouseWheel","rollingLinks","hideAddressBar","previewLinks","postMessage","postMessageEvents","focusBodyOnPageVisibilityChange","transition","transitionSpeed","backgroundTransition","parallaxBackgroundImage","parallaxBackgroundSize","parallaxBackgroundRepeat","parallaxBackgroundPosition","parallaxBackgroundHorizontal","parallaxBackgroundVertical","pdfMaxPagesPerSlide","Number","POSITIVE_INFINITY","pdfSeparateFragments","pdfPageHeightOffset","viewDistance","display","hideInactiveCursor","hideCursorTime","dependencies","initialized","loaded","overviewSlideWidth","overviewSlideHeight","hasNavigatedRight","hasNavigatedDown","scale","slidesTransform","layout","dom","plugins","asyncDependencies","features","lastMouseWheelStep","writeURLTimeout","cursorHidden","cursorInactiveTimeout","eventsAreBound","autoSlideTimeout","autoSlideStartTime","autoSlidePaused","startX","startY","startCount","captured","threshold","keyboardShortcuts","registeredKeyBindings","initPlugins","pluginsToInitialize","Object","keys","loadAsyncDependencies","afterPlugInitialized","i","plugin","init","callback","then","statusDiv","forEach","s","loadScript","src","slides","classList","add","wrapper","test","background","createSingletonNode","progressbar","speakerNotes","pauseOverlay","controlsLeft","toArray","querySelectorAll","controlsRight","controlsUp","controlsDown","controlsPrev","controlsNext","controlsRightArrow","controlsDownArrow","getElementById","position","overflow","clip","addEventListener","event","charAt","JSON","parse","method","apply","args","setInterval","scrollTop","scrollLeft","horizontalSlide","verticalSlide","y","configure","readURL","updateBackground","dispatchEvent","isPrintingPDF","removeEventListeners","readyState","setupPDF","url","script","type","async","defer","onload","onreadystatechange","onerror","err","Error","head","lastChild","getStatusText","node","text","nodeType","textContent","isAriaHidden","getAttribute","isDisplayHidden","getComputedStyle","child","slideSize","getComputedSlideSize","innerWidth","innerHeight","pageWidth","Math","floor","pageHeight","slideWidth","slideHeight","injectStyleSheet","layoutSlideContents","hslide","h","contains","vslide","v","slide","contentHeight","scrollHeight","numberOfPages","max","ceil","min","page","parentNode","slideBackgroundElement","notes","getSlideNotes","notesLayout","notesElement","innerHTML","nextSibling","notesSpacing","bottom","slideNumberH","parseInt","slideNumberV","numberElement","formatSlideNumber","previousFragmentStep","previousPage","fragmentGroups","sortFragments","fragment","clonedPage","cloneNode","container","tagname","classname","nodes","testNode","createBackground","element","replace","contentElement","slideBackgroundContentElement","syncBackground","removeAttribute","backgroundColor","backgroundSize","backgroundRepeat","backgroundPosition","backgroundImage","opacity","backgroundVideo","backgroundIframe","backgroundOpacity","contrastColor","computedBackgroundStyle","rgb","colorToRgb","a","r","g","b","options","oldTransition","extend","numberOfSlides","transforms3d","resume","onDocumentMouseScroll","removeEventListener","anchors","len","anchor","span","enableRollingLinks","disableRollingLinks","onDocumentCursorActive","showCursor","enablePreviewLinks","disablePreviewLinks","destroy","canvas","requestAnimationFrame","Playback","Date","now","on","onAutoSlidePlayerClick","slideNumberDisplay","isSpeakerNotes","sync","addEventListeners","visibilityChange","onWindowHashChange","onWindowResize","onPointerDown","onPointerMove","onPointerUp","msPointerEnabled","onTouchStart","onTouchMove","onTouchEnd","onDocumentKeyDown","onDocumentKeyPress","onProgressClicked","onPageVisibilityChange","pointerEvents","match","eventName","el","onNavigateLeftClicked","onNavigateRightClicked","onNavigateUpClicked","onNavigateDownClicked","onNavigatePrevClicked","onNavigateNextClicked","o","Array","prototype","slice","call","deserialize","value","parseFloat","transformElement","WebkitTransform","MozTransform","msTransform","transformSlides","transforms","tag","styleSheet","cssText","createTextNode","getElementsByTagName","closestParent","selector","parent","matchesMethod","matches","matchesSelector","msMatchesSelector","hex3","hex6","substr","rgba","location","search","removeAddressBar","scrollTo","createEvent","initEvent","self","stringify","namespace","getState","onPreviewLinkClicked","toggleHelp","override","showHelp","closeOverlay","overlay","key","binding","description","preventDefault","removeChild","documentElement","setProperty","oldScale","presentationWidth","presentationHeight","zoom","updateProgress","updateParallax","isOverview","updateOverview","remainingHeight","newHeight","oldHeight","offsetHeight","removeProperty","getRemainingHeight","nodeName","nw","naturalWidth","videoWidth","nh","naturalHeight","videoHeight","es","offsetWidth","setPreviousVerticalIndex","stack","getPreviousVerticalIndex","attributeName","hasAttribute","activateOverview","overviewTransitions","cancelAutoSlide","onOverviewSlideClicked","updateSlidesVisibility","layoutOverview","hbackground","vbackground","vmin","deactivateOverview","cueAutoSlide","toggleOverview","locationHash","indexf","encodeURIComponent","getIndices","f","undefined","hashIndexBase","isVerticalSlide","cursor","hideCursor","wasPaused","togglePause","isPaused","toggleAutoSlide","resumeAutoSlide","pauseAutoSlide","horizontalSlides","stateBefore","concat","indexhBefore","indexvBefore","updateSlides","currentHorizontalSlide","currentVerticalSlides","navigateFragment","slideChanged","stateLoop","j","splice","pop","stopEmbeddedContent","startEmbeddedContent","updateControls","updateSlideNumber","updateNotes","updateFragments","writeURL","_appendParamToIframeSource","slideh","backgroundStack","slidev","verticalSlides","sourceAttribute","sourceURL","param","indexOf","unloadIframes","syncFragments","random","index","slidesLength","printMode","reverse","slideState","distanceX","horizontalSlidesLength","MAX_VALUE","x","verticalSlidesLength","abs","loadSlide","unloadSlide","oy","getProgress","format","push","getSlidePastCount","getTotalSlides","delimiter","isNaN","routes","availableRoutes","availableFragments","up","down","prev","next","includeAll","currentBackground","horizontalPast","horizontalFuture","backgroundh","backgroundv","currentBackgroundContent","backgroundImageURL","previousBackgroundHash","currentBackgroundHash","classToBubble","backgroundWidth","backgroundHeight","horizontalOffset","horizontalSlideCount","verticalOffsetMultiplier","verticalOffset","verticalSlideCount","tagName","preload","shouldPreload","media","sources","source","load","backgroundContent","backgroundVideoLoop","backgroundVideoMuted","encodeURI","video","muted","autoplay","excludeIframes","iframe","maxHeight","maxWidth","getSlideBackground","hiddenFragments","play","startEmbeddedMedia","promise","startEmbeddedIframe","isAttachedToDOM","isVisible","currentTime","contentWindow","pastCount","mainLoop","totalCount","allFragments","bits","name","decodeURIComponent","error","isSameNameAsCurrentSlide","indices","replaceState","pathname","isVertical","currentFragment","getSlides","getSlide","paused","grouped","ordered","unordered","sorted","group","changedFragments","shown","hidden","offset","lastVisibleFragment","nextFragment","previousFragment","fragmentAutoSlide","parentAutoSlide","slideAutoSlide","duration","playbackRate","isLastSlide","navigateNext","setPlaying","navigateLeft","navigateRight","navigateUp","navigateDown","navigatePrev","isLastVerticalSlide","isSwipePrevented","onUserInput","shiftKey","charCode","keyCode","autoSlideWasPaused","activeElementIsCE","activeElement","contentEditable","activeElementIsInput","activeElementIsNotes","prevSlideShortcut","firstSlideShortcut","metaKey","ctrlKey","lastSlideShortcut","unusedModifier","altKey","resumeKeyCodes","requestMethod","triggered","action","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","touches","clientX","clientY","currentX","currentY","deltaX","deltaY","pointerType","MSPOINTER_TYPE_TOUCH","delta","detail","wheelDelta","slidesTotal","slideIndex","webkitHidden","msHidden","blur","focus","currentTarget","showPreview","progressCheck","diameter","diameter2","thickness","playing","progressOffset","context","getContext","wasPlaying","animate","progressBefore","requestAnimationFrameMethod","bind","radius","endAngle","PI","startAngle","save","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","translate","iconSize","fillRect","moveTo","lineTo","restore","listener","off","VERSION","testElement","transforms2d","webkitRequestAnimationFrame","mozRequestAnimationFrame","checkCapabilities","scripts","scriptsToLoad","query","getQueryHash","condition","images","iframes","lazyLoadable","syncSlide","prevFragment","navigateTo","isAutoSliding","pausedFlag","overviewFlag","getSlidesAttributes","attributes","attribute","getPreviousSlide","getCurrentSlide","getScale","getConfig","shift","unescape","getRevealElement","getPlugins","isFirstSlide","isReady","useCapture","addKeyBinding","removeKeyBinding","registerPlugin","console","warn","hasPlugin","getPlugin","triggerKey","registerKeyboardShortcut","factory","$export","P","toObject","toAbsoluteIndex","toLength","module","exports","O","aLen","arguments","end","endPos","global","has","cof","inheritIfRequired","toPrimitive","fails","gOPN","gOPD","dP","$trim","trim","$Number","Base","proto","BROKEN_COF","TRIM","String","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","l","that","valueOf","constructor","webpackContext","req","webpackContextResolve","__webpack_require__","e","resolve","webpackEmptyContext"],"mappings":"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","file":"component---src-templates-note-tsx-138eb66d065e55a7af8a.js","sourcesContent":["export enum Theme {\r\n  BEIGE = \"beige\",\r\n  BLACK = \"black\",\r\n  BLOOD = \"blood\",\r\n  LEAGUE = \"league\",\r\n  MOON = \"moon\",\r\n  NIGHT = \"night\",\r\n  SERIF = \"serif\",\r\n  SIMPLE = \"simple\",\r\n  SKY = \"sky\",\r\n  SOLARIZED = \"solarized\",\r\n  WHITE = \"white\",\r\n}\r\n\r\nexport interface Config {\r\n  /**\r\n   * Display presentation control arrows\r\n   * @default true\r\n   */\r\n  controls?: boolean\r\n\r\n  /**\r\n   * Help the user learn the controls by providing hints, for example by\r\n   * bouncing the down arrow when they first encounter a vertical slide\r\n   * @default true\r\n   */\r\n  controlsTutorial?: boolean\r\n\r\n  /**\r\n   * Determines where controls appear, \"edges\" or \"bottom-right\"\r\n   * @default 'bottom-right'\r\n   */\r\n  //\r\n  controlsLayout?: \"bottom-right\" | \"edges\"\r\n\r\n  /**\r\n   * Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\r\n   * or \"visible\"\r\n   * @default 'faded'\r\n   */\r\n  controlsBackArrows?: \"faded\" | \"hidden\" | \"visible\"\r\n\r\n  /**\r\n   * Display a presentation progress bar\r\n   * @default true\r\n   */\r\n  progress?: boolean\r\n\r\n  /**\r\n   * Display the page number of the current slide\r\n   * @default false\r\n   */\r\n  slideNumber?: boolean\r\n\r\n  /**\r\n   * Add the current slide number to the URL hash so that reloading the\r\n   * page/copying the URL will return you to the same slide\r\n   * @default false\r\n   */\r\n  hash?: boolean\r\n\r\n  /**\r\n   * Push each slide change to the browser history. Implies `hash: true`\r\n   * @default false\r\n   */\r\n  history?: boolean\r\n\r\n  /**\r\n   * Enable keyboard shortcuts for navigation\r\n   * @default true\r\n   */\r\n  keyboard?: boolean\r\n\r\n  /**\r\n   * Enable the slide overview mode\r\n   * @default true\r\n   */\r\n  overview?: boolean\r\n\r\n  /**\r\n   * Vertical centering of slides\r\n   * @default true\r\n   */\r\n  center?: boolean\r\n\r\n  /**\r\n   * Enables touch navigation on devices with touch input\r\n   * @default true\r\n   */\r\n  touch?: boolean\r\n\r\n  /**\r\n   * Loop the presentation\r\n   * @default false\r\n   */\r\n  loop?: boolean\r\n\r\n  /**\r\n   * Change the presentation direction to be RTL\r\n   * @default false\r\n   */\r\n  rtl?: boolean\r\n\r\n  /**\r\n   * See https://github.com/hakimel/reveal.js/#navigation-mode\r\n   * @default 'default'\r\n   */\r\n  navigationMode?: \"default\"\r\n\r\n  /**\r\n   * Randomizes the order of slides each time the presentation loads\r\n   * @default false\r\n   */\r\n  shuffle?: boolean\r\n\r\n  /**\r\n   * Turns fragments on and off globally\r\n   * @default true\r\n   */\r\n  fragments?: boolean\r\n\r\n  /**\r\n   * Flags whether to include the current fragment in the URL,\r\n   * so that reloading brings you to the same fragment position\r\n   * @default false\r\n   */\r\n  fragmentInURL?: boolean\r\n\r\n  /**\r\n   * Flags if the presentation is running in an embedded mode,\r\n   * i.e. contained within a limited portion of the screen\r\n   * @default false\r\n   */\r\n  embedded?: boolean\r\n\r\n  /**\r\n   * Flags if we should show a help overlay when the questionmark\r\n   * key is pressed\r\n   * @default true\r\n   */\r\n  help?: boolean\r\n\r\n  /**\r\n   * Flags if speaker notes should be visible to all viewers\r\n   * @default false\r\n   */\r\n  showNotes?: boolean\r\n\r\n  /**\r\n   * Global override for autoplaying embedded media (video/audio/iframe)\r\n   * - null: Media will only autoplay if data-autoplay is present\r\n   * - true: All media will autoplay, regardless of individual setting\r\n   * - false: No media will autoplay, regardless of individual setting\r\n   * @default null\r\n   */\r\n  autoPlayMedia?: boolean | null\r\n\r\n  /**\r\n   * Global override for preloading lazy-loaded iframes\r\n   * - null: Iframes with data-src AND data-preload will be loaded when within\r\n   *    the viewDistance, iframes with only data-src will be loaded when visible\r\n   * - true: All iframes with data-src will be loaded when within the viewDistance\r\n   * - false: All iframes with data-src will be loaded only when visible\r\n   * @default null\r\n   */\r\n  preloadIframes?: boolean | null\r\n\r\n  /**\r\n   * Number of milliseconds between automatically proceeding to the\r\n   * next slide, disabled when set to 0, this value can be overwritten\r\n   * by using a data-autoslide attribute on your slides\r\n   * @default 0\r\n   */\r\n  autoSlide?: number\r\n\r\n  /**\r\n   * Stop auto-sliding after user input\r\n   * @default true\r\n   */\r\n  autoSlideStoppable?: boolean\r\n\r\n  /**\r\n   * Use this method for navigation when auto-sliding\r\n   * @default `Reveal.navigateNext`\r\n   */\r\n  autoSlideMethod?: string // Reveal.navigateNext\r\n\r\n  /**\r\n   * Specify the average time in seconds that you think you will spend\r\n   * presenting each slide. This is used to show a pacing timer in the\r\n   * speaker view\r\n   * @default 120\r\n   */\r\n  defaultTiming?: number\r\n\r\n  /**\r\n   * Enable slide navigation via mouse wheel\r\n   * @default false\r\n   */\r\n  mouseWheel?: boolean\r\n\r\n  /**\r\n   * Hide cursor if inactive\r\n   * @default true\r\n   */\r\n  hideInactiveCursor?: boolean\r\n\r\n  /**\r\n   * Time before the cursor is hidden (in ms)\r\n   * @default 5000\r\n   */\r\n  hideCursorTime?: number\r\n\r\n  /**\r\n   * Hides the address bar on mobile devices\r\n   * @default true\r\n   */\r\n  hideAddressBar?: boolean\r\n\r\n  /**\r\n   * Opens links in an iframe preview overlay\r\n   * Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\r\n   * individually\r\n   * @default false\r\n   */\r\n  previewLinks?: boolean\r\n\r\n  /**\r\n   * Transition style\r\n   * @default 'slide'\r\n   */\r\n  transition?: \"none\" | \"fade\" | \"slide\" | \"convex\" | \"concave\" | \"zoom\"\r\n\r\n  /**\r\n   * Transition speed\r\n   * @default 'default'\r\n   */\r\n  transitionSpeed?: \"default\" | \"fast\" | \"slow\"\r\n\r\n  /**\r\n   * Transition style for full page slide backgrounds\r\n   * @default 'fade'\r\n   */\r\n  backgroundTransition?:\r\n    | \"none\"\r\n    | \"fade\"\r\n    | \"slide\"\r\n    | \"convex\"\r\n    | \"concave\"\r\n    | \"zoom\"\r\n\r\n  /**\r\n   * Number of slides away from the current that are visible\r\n   * @default 3\r\n   */\r\n  viewDistance?: number\r\n\r\n  /**\r\n   * Parallax background image\r\n   * e.g. \"'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'\"\r\n   * @default \"\"\r\n   */\r\n  parallaxBackgroundImage?: string\r\n\r\n  /**\r\n   * Parallax background size\\\r\n   * CSS syntax, e.g. \"2100px 900px\"\r\n   * @default \"\"\r\n   */\r\n  parallaxBackgroundSize?: string\r\n\r\n  /**\r\n   * Number of pixels to move the parallax background per slide\r\n   * - Calculated automatically unless specified\r\n   * - Set to 0 to disable movement along an axis\r\n   * @default null\r\n   */\r\n  parallaxBackgroundHorizontal?: number\r\n\r\n  /**\r\n   * Number of pixels to move the parallax background per slide\r\n   * - Calculated automatically unless specified\r\n   * - Set to 0 to disable movement along an axis\r\n   * @default null\r\n   */\r\n  parallaxBackgroundVertical?: number\r\n\r\n  /**\r\n   * The display mode that will be used to show slides\r\n   * @default 'block'\r\n   */\r\n  display?: string\r\n}\r\n","import React from \"react\"\r\n\r\nexport enum LoaderLabelPosition {\r\n  \"top\",\r\n  \"right\",\r\n  \"left\",\r\n}\r\n\r\nexport enum LoaderSize {\r\n  \"xs\",\r\n  \"sm\",\r\n  \"md\",\r\n  \"lg\",\r\n}\r\n\r\nexport interface RootStyleProps {\r\n  labelPosition: LoaderLabelPosition\r\n}\r\n\r\nexport interface CircleStyleProps {\r\n  /**\r\n   * Determines how big the loading indicator is\r\n   */\r\n  size: LoaderSize\r\n\r\n  /**\r\n   * color of the piece that rotates\r\n   * @default 'black'\r\n   */\r\n  color?: string\r\n\r\n  /**\r\n   * Color of the circle\r\n   * @default 'lightgray'\r\n   */\r\n  secondaryColor?: string\r\n}\r\n\r\nexport interface LoaderProps {\r\n  /**\r\n   * Determines which direction the label is\r\n   * in relation to the spinner\r\n   */\r\n  labelPosition?: LoaderLabelPosition\r\n\r\n  /**\r\n   * Size of the loading spinner\r\n   */\r\n  size?: LoaderSize\r\n\r\n  /**\r\n   * Label text\r\n   */\r\n  label?: string | React.ReactNode\r\n\r\n  /**\r\n   * Invert the color scheme\r\n   */\r\n  inverted?: boolean\r\n\r\n  className?: string\r\n  style?: React.CSSProperties\r\n}\r\n","import styled from \"@emotion/styled\"\r\nimport { css, keyframes } from \"@emotion/core\"\r\nimport {\r\n  RootStyleProps,\r\n  CircleStyleProps,\r\n  LoaderLabelPosition,\r\n  LoaderSize,\r\n} from \"./Loader.types\"\r\n\r\nconst spinAnimation = keyframes({\r\n  \"0%\": {\r\n    transform: \"rotate(0deg)\",\r\n  },\r\n  \"100%\": {\r\n    transform: \"rotate(360deg)\",\r\n  },\r\n})\r\n\r\nexport const Label = styled.div<{ color?: \"string\" }>`\r\n  color: ${({ color }) => color || \"black\"};\r\n  margin: 1rem 0 0;\r\n  text-align: center;\r\n`\r\n\r\nexport const Root = styled.div<RootStyleProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  flex-direction: ${({ labelPosition }) => {\r\n    switch (labelPosition) {\r\n      case LoaderLabelPosition.top:\r\n        return \"column-reverse\"\r\n      case LoaderLabelPosition.right:\r\n        return \"row\"\r\n      case LoaderLabelPosition.left:\r\n        return \"row-reverse\"\r\n      default:\r\n        return \"column\"\r\n    }\r\n  }};\r\n\r\n  ${Label} {\r\n    margin: ${({ labelPosition }) => {\r\n      switch (labelPosition) {\r\n        case LoaderLabelPosition.top:\r\n          return \"0 0 1rem\"\r\n        case LoaderLabelPosition.right:\r\n          return \"0 0 0 1rem\"\r\n        case LoaderLabelPosition.left:\r\n          return \"0 1rem 0 0\"\r\n        default:\r\n          return \"1rem 0 0\"\r\n      }\r\n    }};\r\n  }\r\n`\r\n\r\nexport const Circle = styled.div<CircleStyleProps>`\r\n  border-radius: 50%;\r\n  /* Circular part (background color) */\r\n  border: 1.5px solid ${({ secondaryColor }) => secondaryColor || \"lightgray\"};\r\n  /* Spinning part (animated portion of the circle) */\r\n  border-top-color: ${({ color }) => color || \"black\"};\r\n  animation-name: ${spinAnimation};\r\n  animation-duration: 1.3s;\r\n  animation-iteration-count: infinite;\r\n  animation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67);\r\n  ${({ size }) => {\r\n    switch (size) {\r\n      case LoaderSize.xs:\r\n        return css`\r\n          width: 12px;\r\n          height: 12px;\r\n        `\r\n      case LoaderSize.sm:\r\n        return css`\r\n          width: 16px;\r\n          height: 16px;\r\n        `\r\n      case LoaderSize.md:\r\n        return css`\r\n          width: 20px;\r\n          height: 20px;\r\n        `\r\n      case LoaderSize.lg:\r\n        return css`\r\n          width: 28px;\r\n          height: 28px;\r\n        `\r\n    }\r\n  }};\r\n`\r\n","import React from \"react\"\r\n\r\nimport { Root, Circle, Label } from \"./Loader.styles\"\r\n\r\nimport { LoaderProps, LoaderSize } from \"./Loader.types\"\r\n\r\nexport const Loader: React.SFC<LoaderProps> = ({\r\n  className,\r\n  labelPosition,\r\n  label,\r\n  size = LoaderSize.sm,\r\n  style,\r\n  inverted,\r\n}) => (\r\n  <Root\r\n    style={style}\r\n    className={className}\r\n    labelPosition={labelPosition}\r\n    aria-label=\"Loading\"\r\n  >\r\n    <Circle size={size} inverted={inverted} />\r\n    {label && <Label>{label}</Label>}\r\n  </Root>\r\n)\r\n","/**\r\n * @source https://www.jayfreestone.com/writing/react-portals-with-hooks/\r\n */\r\nimport { useRef, useEffect } from \"react\"\r\n\r\nfunction createRootElement(id: string): Element {\r\n  const rootContainer = document.createElement(\"div\")\r\n  rootContainer.setAttribute(\"id\", id)\r\n  return rootContainer\r\n}\r\n\r\nfunction addRootElement(rootElem: Element) {\r\n  document.body.insertBefore(\r\n    rootElem,\r\n    document.body.lastElementChild.nextElementSibling\r\n  )\r\n}\r\n\r\nfunction usePortal(id: string): Element {\r\n  if (typeof window === \"undefined\") return\r\n\r\n  const rootElemRef = useRef(null)\r\n\r\n  useEffect(function setupElement() {\r\n    const existingParent = document.querySelector(`#${id}`)\r\n    const parentElem = existingParent || createRootElement(id)\r\n\r\n    if (!existingParent) {\r\n      addRootElement(parentElem)\r\n    }\r\n\r\n    parentElem.appendChild(rootElemRef.current)\r\n\r\n    return function removeElement() {\r\n      rootElemRef.current.remove()\r\n      if (parentElem.childNodes.length === -1) {\r\n        parentElem.remove()\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  /**\r\n   * @link https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\r\n   */\r\n  function getRootElem() {\r\n    if (!rootElemRef.current) {\r\n      rootElemRef.current = document.createElement(\"div\")\r\n    }\r\n    return rootElemRef.current\r\n  }\r\n\r\n  return getRootElem()\r\n}\r\n\r\nexport default usePortal\r\n","import React from \"react\"\r\nimport { createPortal } from \"react-dom\"\r\nimport usePortal from \"./usePortal\"\r\n\r\ninterface PortalProps {\r\n  id: string\r\n}\r\n\r\nconst Portal: React.SFC<PortalProps> = ({ id, children }) => {\r\n  const target = usePortal(id)\r\n  if (target) return createPortal(children, target)\r\n  else return <>{children}</>\r\n}\r\n\r\nexport default Portal\r\n","import React from \"react\"\r\nimport { LoaderSize, LoaderProps } from \"./Loader.types\"\r\nimport styled from \"@emotion/styled\"\r\n\r\nimport { Loader } from \"./Loader\"\r\nimport Portal from \"../Portal\"\r\n\r\ninterface OverlayProps {\r\n  isOpaque: boolean\r\n  transitionDuration: number\r\n}\r\n\r\nconst Overlay = styled.div<OverlayProps>`\r\n  z-index: 10;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: white;\r\n  transition: opacity ${({ transitionDuration }) => transitionDuration}ms;\r\n  opacity: ${({ isOpaque }) => (isOpaque ? 1 : 0)};\r\n`\r\n\r\ninterface PageLoaderProps {\r\n  children?: React.ReactNode\r\n  /**\r\n   * Whether loading is active\r\n   */\r\n  isLoading?: boolean\r\n\r\n  /**\r\n   * @default 500\r\n   */\r\n  transitionLag?: number\r\n\r\n  /**\r\n   * @default 250\r\n   */\r\n  transitionDuration?: number\r\n\r\n  loaderProps: LoaderProps\r\n}\r\n\r\ninterface PageLoaderState {\r\n  isLoading: boolean\r\n  isTransition: boolean\r\n}\r\n\r\nexport class PageLoader extends React.Component<\r\n  PageLoaderProps,\r\n  PageLoaderState\r\n> {\r\n  static defaultProps: Partial<PageLoaderProps> = {\r\n    transitionLag: 500,\r\n    transitionDuration: 250,\r\n  }\r\n  private transitionLag: number\r\n  private transitionDelay: number\r\n  private overlayRef: React.RefObject<HTMLDivElement>\r\n\r\n  constructor(props: PageLoaderProps) {\r\n    super(props)\r\n\r\n    this.overlayRef = React.createRef()\r\n\r\n    this.state = {\r\n      isLoading: props.isLoading,\r\n      isTransition: false,\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: PageLoaderProps) {\r\n    const { isLoading, transitionLag } = this.props\r\n    if (transitionLag && prevProps.isLoading !== isLoading) {\r\n      this.toggleLoadingLag(transitionLag, isLoading)\r\n    }\r\n  }\r\n\r\n  toggleLoadingLag = (delay: number, isLoading: boolean) => {\r\n    // @ts-ignore 🙄\r\n    this.transitionLag = setTimeout(\r\n      () =>\r\n        this.setState({ isLoading, isTransition: true }, this.stopTransition),\r\n      delay\r\n    )\r\n  }\r\n\r\n  stopTransition = () => {\r\n    // @ts-ignore 🙄\r\n    this.transitionDelay = setTimeout(\r\n      () => this.setState({ isTransition: false }),\r\n      this.props.transitionDuration\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.transitionLag)\r\n    clearTimeout(this.transitionDelay)\r\n  }\r\n\r\n  render() {\r\n    const { children, transitionDuration, loaderProps } = this.props\r\n    const { isLoading, isTransition } = this.state\r\n\r\n    const shouldUseLoader = isLoading || !children\r\n    const showLoader = isTransition || shouldUseLoader\r\n\r\n    return (\r\n      <>\r\n        {children}\r\n        {showLoader && (\r\n          <Portal id=\"loader\">\r\n            <Overlay\r\n              ref={this.overlayRef}\r\n              isOpaque={isLoading}\r\n              transitionDuration={transitionDuration}\r\n            >\r\n              <Loader size={LoaderSize.lg} {...loaderProps} />\r\n            </Overlay>\r\n          </Portal>\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { Theme, Config } from \"./Reveal.types\"\r\nimport { Global, css } from \"@emotion/core\"\r\n\r\n// import Reveal from \"reveal.js\"\r\nimport { PageLoader } from \"../Loader\"\r\n\r\nconst katexCss = require(`katex/dist/katex.min.css`)\r\n\r\ninterface RevealerProps {\r\n  config?: Config\r\n  html: string\r\n  separator?: string\r\n  separatorVertical?: string\r\n  separatorNotes?: string\r\n  theme?: Theme\r\n}\r\n\r\ninterface RevealerState {\r\n  isLoading: boolean\r\n}\r\n\r\n/**\r\n * @todo: write `notes` plugin for react\r\n * https://github.com/hakimel/reveal.js/tree/master/plugin/notes\r\n * https://stackoverflow.com/questions/47574490/open-a-component-in-new-window-on-a-click-in-react?rq=1\r\n */\r\nclass Revealer extends React.Component<RevealerProps, RevealerState> {\r\n  static defaultProps: Partial<RevealerProps> = {\r\n    theme: Theme.WHITE,\r\n    config: {\r\n      hash: true,\r\n    },\r\n  }\r\n\r\n  constructor(props: RevealerProps) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (typeof window !== \"undefined\") {\r\n      require(\"reveal.js\").initialize(this.props.config)\r\n    }\r\n\r\n    this.setState({\r\n      isLoading: false,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state\r\n    const { html, separator, separatorVertical } = this.props\r\n\r\n    const revealCss = require(\"reveal.js/css/reveal.css\")\r\n    const themeCss = require(`reveal.js/css/theme/${this.props.theme}.css`)\r\n    return (\r\n      <PageLoader isLoading={isLoading} style={{ height: \"100%\" }}>\r\n        <Global\r\n          styles={css`\r\n            ${revealCss}\r\n            ${katexCss}\r\n            .reveal {\r\n              height: 100vh !important;\r\n              overflow: hidden;\r\n\r\n              ${themeCss}}\r\n            }\r\n          `}\r\n        />\r\n        <div className=\"reveal\">\r\n          {this.renderHtml({\r\n            html,\r\n            separator,\r\n            separatorVertical,\r\n          })}\r\n        </div>\r\n      </PageLoader>\r\n    )\r\n  }\r\n\r\n  renderHtml = (props: {\r\n    html: string\r\n    separator: string\r\n    separatorVertical: string\r\n  }) => {\r\n    return (\r\n      <div\r\n        className=\"slides\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: this.formatHtml(props),\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  formatHtml = ({\r\n    html,\r\n    separator = \"\\n<hr>\\n\",\r\n    separatorVertical = \"\\n<p>—</p>\\n\",\r\n  }: {\r\n    html: string\r\n    separator: string\r\n    separatorVertical: string\r\n  }) => {\r\n    return html\r\n      .split(separator)\r\n      .map(\r\n        section =>\r\n          `<section>${section\r\n            .split(separatorVertical)\r\n            .map(vertSection => `<section>${vertSection}</section>`)\r\n            .join(\"\")}\r\n          </section>`\r\n      )\r\n      .join(\"\")\r\n  }\r\n}\r\n\r\nexport default Revealer\r\n","import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\n\r\nimport Reveal from \"../components/Reveal\"\r\nimport { Global, css } from \"@emotion/core\"\r\n\r\ninterface Frontmatter {\r\n  title: string\r\n  date: string\r\n  config: {}\r\n}\r\n\r\ninterface NoteProps {\r\n  data: {\r\n    markdownRemark: {\r\n      frontmatter: Frontmatter\r\n      html: string\r\n      rawMarkdownBody: string\r\n    }\r\n  }\r\n}\r\n\r\nconst NoteTemplate: React.SFC<NoteProps> = ({ data }) => {\r\n  const { markdownRemark } = data\r\n  const { frontmatter, html } = markdownRemark\r\n\r\n  /**\r\n   * https://github.com/PrismJS/prism/tree/master/themes\r\n   */\r\n  const prismThemePath = \"\"\r\n  const prismThemeName = \"prism-tomorrow\"\r\n  prismThemePath\r\n    ? require(prismThemePath)\r\n    : require(`prismjs/themes/${prismThemeName}.css`)\r\n\r\n  return (\r\n    <>\r\n      <GlobalStyles />\r\n      <Reveal config={frontmatter.config} html={html} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query NoteTemplate($filePath: String!) {\r\n    markdownRemark(fileAbsolutePath: { eq: $filePath }) {\r\n      html\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default NoteTemplate\r\n\r\n/**\r\n * @todo add line numbering styles\r\n * https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/?=prismjs#optional-add-line-numbering\r\n */\r\nfunction GlobalStyles() {\r\n  return (\r\n    <Global\r\n      styles={css`\r\n        .gatsby-highlight-code-line {\r\n          background-color: rgba(0, 0, 0, 0.5);\r\n          display: block;\r\n          margin-right: -1em;\r\n          margin-left: -1em;\r\n          padding-right: 1em;\r\n          padding-left: 0.75em;\r\n          border-left: 0.25em solid rgba(255, 255, 255, 0.5);\r\n        }\r\n      `}\r\n    />\r\n  )\r\n}\r\n","require(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\n/*!\n * reveal.js\n * http://revealjs.com\n * MIT licensed\n *\n * Copyright (C) 2019 Hakim El Hattab, http://hakim.se\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(function () {\n      root.Reveal = factory();\n      return root.Reveal;\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS.\n    module.exports = factory();\n  } else {\n    // Browser globals.\n    root.Reveal = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var Reveal; // The reveal.js version\n\n  var VERSION = '3.8.0';\n  var SLIDES_SELECTOR = '.slides section',\n      HORIZONTAL_SLIDES_SELECTOR = '.slides>section',\n      VERTICAL_SLIDES_SELECTOR = '.slides>section.present>section',\n      HOME_SLIDE_SELECTOR = '.slides>section:first-of-type',\n      UA = navigator.userAgent,\n      // Configuration defaults, can be overridden at initialization time\n  config = {\n    // The \"normal\" size of the presentation, aspect ratio will be preserved\n    // when the presentation is scaled to fit different resolutions\n    width: 960,\n    height: 700,\n    // Factor of the display size that should remain empty around the content\n    margin: 0.04,\n    // Bounds for smallest/largest possible scale to apply to content\n    minScale: 0.2,\n    maxScale: 2.0,\n    // Display presentation control arrows\n    controls: true,\n    // Help the user learn the controls by providing hints, for example by\n    // bouncing the down arrow when they first encounter a vertical slide\n    controlsTutorial: true,\n    // Determines where controls appear, \"edges\" or \"bottom-right\"\n    controlsLayout: 'bottom-right',\n    // Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\n    // or \"visible\"\n    controlsBackArrows: 'faded',\n    // Display a presentation progress bar\n    progress: true,\n    // Display the page number of the current slide\n    // - true:    Show slide number\n    // - false:   Hide slide number\n    //\n    // Can optionally be set as a string that specifies the number formatting:\n    // - \"h.v\":\t  Horizontal . vertical slide number (default)\n    // - \"h/v\":\t  Horizontal / vertical slide number\n    // - \"c\":\t  Flattened slide number\n    // - \"c/t\":\t  Flattened slide number / total slides\n    //\n    // Alternatively, you can provide a function that returns the slide\n    // number for the current slide. The function needs to return an array\n    // with one string [slideNumber] or three strings [n1,delimiter,n2].\n    // See #formatSlideNumber().\n    slideNumber: false,\n    // Can be used to limit the contexts in which the slide number appears\n    // - \"all\":      Always show the slide number\n    // - \"print\":    Only when printing to PDF\n    // - \"speaker\":  Only in the speaker view\n    showSlideNumber: 'all',\n    // Use 1 based indexing for # links to match slide number (default is zero\n    // based)\n    hashOneBasedIndex: false,\n    // Add the current slide number to the URL hash so that reloading the\n    // page/copying the URL will return you to the same slide\n    hash: false,\n    // Push each slide change to the browser history.  Implies `hash: true`\n    history: false,\n    // Enable keyboard shortcuts for navigation\n    keyboard: true,\n    // Optional function that blocks keyboard events when retuning false\n    keyboardCondition: null,\n    // Enable the slide overview mode\n    overview: true,\n    // Disables the default reveal.js slide layout so that you can use\n    // custom CSS layout\n    disableLayout: false,\n    // Vertical centering of slides\n    center: true,\n    // Enables touch navigation on devices with touch input\n    touch: true,\n    // Loop the presentation\n    loop: false,\n    // Change the presentation direction to be RTL\n    rtl: false,\n    // Changes the behavior of our navigation directions.\n    //\n    // \"default\"\n    // Left/right arrow keys step between horizontal slides, up/down\n    // arrow keys step between vertical slides. Space key steps through\n    // all slides (both horizontal and vertical).\n    //\n    // \"linear\"\n    // Removes the up/down arrows. Left/right arrows step through all\n    // slides (both horizontal and vertical).\n    //\n    // \"grid\"\n    // When this is enabled, stepping left/right from a vertical stack\n    // to an adjacent vertical stack will land you at the same vertical\n    // index.\n    //\n    // Consider a deck with six slides ordered in two vertical stacks:\n    // 1.1    2.1\n    // 1.2    2.2\n    // 1.3    2.3\n    //\n    // If you're on slide 1.3 and navigate right, you will normally move\n    // from 1.3 -> 2.1. If \"grid\" is used, the same navigation takes you\n    // from 1.3 -> 2.3.\n    navigationMode: 'default',\n    // Randomizes the order of slides each time the presentation loads\n    shuffle: false,\n    // Turns fragments on and off globally\n    fragments: true,\n    // Flags whether to include the current fragment in the URL,\n    // so that reloading brings you to the same fragment position\n    fragmentInURL: false,\n    // Flags if the presentation is running in an embedded mode,\n    // i.e. contained within a limited portion of the screen\n    embedded: false,\n    // Flags if we should show a help overlay when the question-mark\n    // key is pressed\n    help: true,\n    // Flags if it should be possible to pause the presentation (blackout)\n    pause: true,\n    // Flags if speaker notes should be visible to all viewers\n    showNotes: false,\n    // Global override for autolaying embedded media (video/audio/iframe)\n    // - null:   Media will only autoplay if data-autoplay is present\n    // - true:   All media will autoplay, regardless of individual setting\n    // - false:  No media will autoplay, regardless of individual setting\n    autoPlayMedia: null,\n    // Global override for preloading lazy-loaded iframes\n    // - null:   Iframes with data-src AND data-preload will be loaded when within\n    //           the viewDistance, iframes with only data-src will be loaded when visible\n    // - true:   All iframes with data-src will be loaded when within the viewDistance\n    // - false:  All iframes with data-src will be loaded only when visible\n    preloadIframes: null,\n    // Controls automatic progression to the next slide\n    // - 0:      Auto-sliding only happens if the data-autoslide HTML attribute\n    //           is present on the current slide or fragment\n    // - 1+:     All slides will progress automatically at the given interval\n    // - false:  No auto-sliding, even if data-autoslide is present\n    autoSlide: 0,\n    // Stop auto-sliding after user input\n    autoSlideStoppable: true,\n    // Use this method for navigation when auto-sliding (defaults to navigateNext)\n    autoSlideMethod: null,\n    // Specify the average time in seconds that you think you will spend\n    // presenting each slide. This is used to show a pacing timer in the\n    // speaker view\n    defaultTiming: null,\n    // Enable slide navigation via mouse wheel\n    mouseWheel: false,\n    // Apply a 3D roll to links on hover\n    rollingLinks: false,\n    // Hides the address bar on mobile devices\n    hideAddressBar: true,\n    // Opens links in an iframe preview overlay\n    // Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\n    // individually\n    previewLinks: false,\n    // Exposes the reveal.js API through window.postMessage\n    postMessage: true,\n    // Dispatches all reveal.js events to the parent window through postMessage\n    postMessageEvents: false,\n    // Focuses body when page changes visibility to ensure keyboard shortcuts work\n    focusBodyOnPageVisibilityChange: true,\n    // Transition style\n    transition: 'slide',\n    // none/fade/slide/convex/concave/zoom\n    // Transition speed\n    transitionSpeed: 'default',\n    // default/fast/slow\n    // Transition style for full page slide backgrounds\n    backgroundTransition: 'fade',\n    // none/fade/slide/convex/concave/zoom\n    // Parallax background image\n    parallaxBackgroundImage: '',\n    // CSS syntax, e.g. \"a.jpg\"\n    // Parallax background size\n    parallaxBackgroundSize: '',\n    // CSS syntax, e.g. \"3000px 2000px\"\n    // Parallax background repeat\n    parallaxBackgroundRepeat: '',\n    // repeat/repeat-x/repeat-y/no-repeat/initial/inherit\n    // Parallax background position\n    parallaxBackgroundPosition: '',\n    // CSS syntax, e.g. \"top left\"\n    // Amount of pixels to move the parallax background per slide step\n    parallaxBackgroundHorizontal: null,\n    parallaxBackgroundVertical: null,\n    // The maximum number of pages a single slide can expand onto when printing\n    // to PDF, unlimited by default\n    pdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,\n    // Prints each fragment on a separate slide\n    pdfSeparateFragments: true,\n    // Offset used to reduce the height of content within exported PDF pages.\n    // This exists to account for environment differences based on how you\n    // print to PDF. CLI printing options, like phantomjs and wkpdf, can end\n    // on precisely the total height of the document whereas in-browser\n    // printing has to end one pixel before.\n    pdfPageHeightOffset: -1,\n    // Number of slides away from the current that are visible\n    viewDistance: 3,\n    // The display mode that will be used to show slides\n    display: 'block',\n    // Hide cursor if inactive\n    hideInactiveCursor: true,\n    // Time before the cursor is hidden (in ms)\n    hideCursorTime: 5000,\n    // Script dependencies to load\n    dependencies: []\n  },\n      // Flags if Reveal.initialize() has been called\n  initialized = false,\n      // Flags if reveal.js is loaded (has dispatched the 'ready' event)\n  loaded = false,\n      // Flags if the overview mode is currently active\n  overview = false,\n      // Holds the dimensions of our overview slides, including margins\n  overviewSlideWidth = null,\n      overviewSlideHeight = null,\n      // The horizontal and vertical index of the currently active slide\n  indexh,\n      indexv,\n      // The previous and current slide HTML elements\n  previousSlide,\n      currentSlide,\n      previousBackground,\n      // Remember which directions that the user has navigated towards\n  hasNavigatedRight = false,\n      hasNavigatedDown = false,\n      // Slides may hold a data-state attribute which we pick up and apply\n  // as a class to the body. This list contains the combined state of\n  // all current slides.\n  state = [],\n      // The current scale of the presentation (see width/height config)\n  scale = 1,\n      // CSS transform that is currently applied to the slides container,\n  // split into two groups\n  slidesTransform = {\n    layout: '',\n    overview: ''\n  },\n      // Cached references to DOM elements\n  dom = {},\n      // A list of registered reveal.js plugins\n  plugins = {},\n      // List of asynchronously loaded reveal.js dependencies\n  asyncDependencies = [],\n      // Features supported by the browser, see #checkCapabilities()\n  features = {},\n      // Client is a mobile device, see #checkCapabilities()\n  isMobileDevice,\n      // Client is a desktop Chrome, see #checkCapabilities()\n  isChrome,\n      // Throttles mouse wheel navigation\n  lastMouseWheelStep = 0,\n      // Delays updates to the URL due to a Chrome thumbnailer bug\n  writeURLTimeout = 0,\n      // Is the mouse pointer currently hidden from view\n  cursorHidden = false,\n      // Timeout used to determine when the cursor is inactive\n  cursorInactiveTimeout = 0,\n      // Flags if the interaction event listeners are bound\n  eventsAreBound = false,\n      // The current auto-slide duration\n  autoSlide = 0,\n      // Auto slide properties\n  autoSlidePlayer,\n      autoSlideTimeout = 0,\n      autoSlideStartTime = -1,\n      autoSlidePaused = false,\n      // Holds information about the currently ongoing touch input\n  touch = {\n    startX: 0,\n    startY: 0,\n    startCount: 0,\n    captured: false,\n    threshold: 40\n  },\n      // A key:value map of shortcut keyboard keys and descriptions of\n  // the actions they trigger, generated in #configure()\n  keyboardShortcuts = {},\n      // Holds custom key code mappings\n  registeredKeyBindings = {};\n  /**\n   * Starts up the presentation if the client is capable.\n   */\n\n  function initialize(options) {\n    // Make sure we only initialize once\n    if (initialized === true) return;\n    initialized = true;\n    checkCapabilities();\n\n    if (!features.transforms2d && !features.transforms3d) {\n      document.body.setAttribute('class', 'no-transforms'); // Since JS won't be running any further, we load all lazy\n      // loading elements upfront\n\n      var images = toArray(document.getElementsByTagName('img')),\n          iframes = toArray(document.getElementsByTagName('iframe'));\n      var lazyLoadable = images.concat(iframes);\n\n      for (var i = 0, len = lazyLoadable.length; i < len; i++) {\n        var element = lazyLoadable[i];\n\n        if (element.getAttribute('data-src')) {\n          element.setAttribute('src', element.getAttribute('data-src'));\n          element.removeAttribute('data-src');\n        }\n      } // If the browser doesn't support core features we won't be\n      // using JavaScript to control the presentation\n\n\n      return;\n    } // Cache references to key DOM elements\n\n\n    dom.wrapper = document.querySelector('.reveal');\n    dom.slides = document.querySelector('.reveal .slides'); // Force a layout when the whole page, incl fonts, has loaded\n\n    window.addEventListener('load', layout, false);\n    var query = Reveal.getQueryHash(); // Do not accept new dependencies via query config to avoid\n    // the potential of malicious script injection\n\n    if (typeof query['dependencies'] !== 'undefined') delete query['dependencies']; // Copy options over to our config object\n\n    extend(config, options);\n    extend(config, query); // Hide the address bar in mobile browsers\n\n    hideAddressBar(); // Loads dependencies and continues to #start() once done\n\n    load();\n  }\n  /**\n   * Inspect the client to see what it's capable of, this\n   * should only happens once per runtime.\n   */\n\n\n  function checkCapabilities() {\n    isMobileDevice = /(iphone|ipod|ipad|android)/gi.test(UA);\n    isChrome = /chrome/i.test(UA) && !/edge/i.test(UA);\n    var testElement = document.createElement('div');\n    features.transforms3d = 'WebkitPerspective' in testElement.style || 'MozPerspective' in testElement.style || 'msPerspective' in testElement.style || 'OPerspective' in testElement.style || 'perspective' in testElement.style;\n    features.transforms2d = 'WebkitTransform' in testElement.style || 'MozTransform' in testElement.style || 'msTransform' in testElement.style || 'OTransform' in testElement.style || 'transform' in testElement.style;\n    features.requestAnimationFrameMethod = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n    features.requestAnimationFrame = typeof features.requestAnimationFrameMethod === 'function';\n    features.canvas = !!document.createElement('canvas').getContext; // Transitions in the overview are disabled in desktop and\n    // Safari due to lag\n\n    features.overviewTransitions = !/Version\\/[\\d\\.]+.*Safari/.test(UA); // Flags if we should use zoom instead of transform to scale\n    // up slides. Zoom produces crisper results but has a lot of\n    // xbrowser quirks so we only use it in whitelsited browsers.\n\n    features.zoom = 'zoom' in testElement.style && !isMobileDevice && (isChrome || /Version\\/[\\d\\.]+.*Safari/.test(UA));\n  }\n  /**\n   * Loads the dependencies of reveal.js. Dependencies are\n   * defined via the configuration option 'dependencies'\n   * and will be loaded prior to starting/binding reveal.js.\n   * Some dependencies may have an 'async' flag, if so they\n   * will load after reveal.js has been started up.\n   */\n\n\n  function load() {\n    var scripts = [],\n        scriptsToLoad = 0;\n    config.dependencies.forEach(function (s) {\n      // Load if there's no condition or the condition is truthy\n      if (!s.condition || s.condition()) {\n        if (s.async) {\n          asyncDependencies.push(s);\n        } else {\n          scripts.push(s);\n        }\n      }\n    });\n\n    if (scripts.length) {\n      scriptsToLoad = scripts.length; // Load synchronous scripts\n\n      scripts.forEach(function (s) {\n        loadScript(s.src, function () {\n          if (typeof s.callback === 'function') s.callback();\n\n          if (--scriptsToLoad === 0) {\n            initPlugins();\n          }\n        });\n      });\n    } else {\n      initPlugins();\n    }\n  }\n  /**\n   * Initializes our plugins and waits for them to be ready\n   * before proceeding.\n   */\n\n\n  function initPlugins() {\n    var pluginsToInitialize = Object.keys(plugins).length; // If there are no plugins, skip this step\n\n    if (pluginsToInitialize === 0) {\n      loadAsyncDependencies();\n    } // ... otherwise initialize plugins\n    else {\n        var afterPlugInitialized = function afterPlugInitialized() {\n          if (--pluginsToInitialize === 0) {\n            loadAsyncDependencies();\n          }\n        };\n\n        for (var i in plugins) {\n          var plugin = plugins[i]; // If the plugin has an 'init' method, invoke it\n\n          if (typeof plugin.init === 'function') {\n            var callback = plugin.init(); // If the plugin returned a Promise, wait for it\n\n            if (callback && typeof callback.then === 'function') {\n              callback.then(afterPlugInitialized);\n            } else {\n              afterPlugInitialized();\n            }\n          } else {\n            afterPlugInitialized();\n          }\n        }\n      }\n  }\n  /**\n   * Loads all async reveal.js dependencies.\n   */\n\n\n  function loadAsyncDependencies() {\n    if (asyncDependencies.length) {\n      asyncDependencies.forEach(function (s) {\n        loadScript(s.src, s.callback);\n      });\n    }\n\n    start();\n  }\n  /**\n   * Loads a JavaScript file from the given URL and executes it.\n   *\n   * @param {string} url Address of the .js file to load\n   * @param {function} callback Method to invoke when the script\n   * has loaded and executed\n   */\n\n\n  function loadScript(url, callback) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.async = false;\n    script.defer = false;\n    script.src = url;\n\n    if (callback) {\n      // Success callback\n      script.onload = script.onreadystatechange = function (event) {\n        if (event.type === \"load\" || /loaded|complete/.test(script.readyState)) {\n          // Kill event listeners\n          script.onload = script.onreadystatechange = script.onerror = null;\n          callback();\n        }\n      }; // Error callback\n\n\n      script.onerror = function (err) {\n        // Kill event listeners\n        script.onload = script.onreadystatechange = script.onerror = null;\n        callback(new Error('Failed loading script: ' + script.src + '\\n' + err));\n      };\n    } // Append the script at the end of <head>\n\n\n    var head = document.querySelector('head');\n    head.insertBefore(script, head.lastChild);\n  }\n  /**\n   * Starts up reveal.js by binding input events and navigating\n   * to the current URL deeplink if there is one.\n   */\n\n\n  function start() {\n    loaded = true; // Make sure we've got all the DOM elements we need\n\n    setupDOM(); // Listen to messages posted to this window\n\n    setupPostMessage(); // Prevent the slides from being scrolled out of view\n\n    setupScrollPrevention(); // Resets all vertical slides so that only the first is visible\n\n    resetVerticalSlides(); // Updates the presentation to match the current configuration values\n\n    configure(); // Read the initial hash\n\n    readURL(); // Update all backgrounds\n\n    updateBackground(true); // Notify listeners that the presentation is ready but use a 1ms\n    // timeout to ensure it's not fired synchronously after #initialize()\n\n    setTimeout(function () {\n      // Enable transitions now that we're loaded\n      dom.slides.classList.remove('no-transition');\n      dom.wrapper.classList.add('ready');\n      dispatchEvent('ready', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }, 1); // Special setup and config is required when printing to PDF\n\n    if (isPrintingPDF()) {\n      removeEventListeners(); // The document needs to have loaded for the PDF layout\n      // measurements to be accurate\n\n      if (document.readyState === 'complete') {\n        setupPDF();\n      } else {\n        window.addEventListener('load', setupPDF);\n      }\n    }\n  }\n  /**\n   * Finds and stores references to DOM elements which are\n   * required by the presentation. If a required element is\n   * not found, it is created.\n   */\n\n\n  function setupDOM() {\n    // Prevent transitions while we're loading\n    dom.slides.classList.add('no-transition');\n\n    if (isMobileDevice) {\n      dom.wrapper.classList.add('no-hover');\n    } else {\n      dom.wrapper.classList.remove('no-hover');\n    }\n\n    if (/iphone/gi.test(UA)) {\n      dom.wrapper.classList.add('ua-iphone');\n    } else {\n      dom.wrapper.classList.remove('ua-iphone');\n    } // Background element\n\n\n    dom.background = createSingletonNode(dom.wrapper, 'div', 'backgrounds', null); // Progress bar\n\n    dom.progress = createSingletonNode(dom.wrapper, 'div', 'progress', '<span></span>');\n    dom.progressbar = dom.progress.querySelector('span'); // Arrow controls\n\n    dom.controls = createSingletonNode(dom.wrapper, 'aside', 'controls', '<button class=\"navigate-left\" aria-label=\"previous slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-right\" aria-label=\"next slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-up\" aria-label=\"above slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-down\" aria-label=\"below slide\"><div class=\"controls-arrow\"></div></button>'); // Slide number\n\n    dom.slideNumber = createSingletonNode(dom.wrapper, 'div', 'slide-number', ''); // Element containing notes that are visible to the audience\n\n    dom.speakerNotes = createSingletonNode(dom.wrapper, 'div', 'speaker-notes', null);\n    dom.speakerNotes.setAttribute('data-prevent-swipe', '');\n    dom.speakerNotes.setAttribute('tabindex', '0'); // Overlay graphic which is displayed during the paused mode\n\n    dom.pauseOverlay = createSingletonNode(dom.wrapper, 'div', 'pause-overlay', config.controls ? '<button class=\"resume-button\">Resume presentation</button>' : null);\n    dom.wrapper.setAttribute('role', 'application'); // There can be multiple instances of controls throughout the page\n\n    dom.controlsLeft = toArray(document.querySelectorAll('.navigate-left'));\n    dom.controlsRight = toArray(document.querySelectorAll('.navigate-right'));\n    dom.controlsUp = toArray(document.querySelectorAll('.navigate-up'));\n    dom.controlsDown = toArray(document.querySelectorAll('.navigate-down'));\n    dom.controlsPrev = toArray(document.querySelectorAll('.navigate-prev'));\n    dom.controlsNext = toArray(document.querySelectorAll('.navigate-next')); // The right and down arrows in the standard reveal.js controls\n\n    dom.controlsRightArrow = dom.controls.querySelector('.navigate-right');\n    dom.controlsDownArrow = dom.controls.querySelector('.navigate-down');\n    dom.statusDiv = createStatusDiv();\n  }\n  /**\n   * Creates a hidden div with role aria-live to announce the\n   * current slide content. Hide the div off-screen to make it\n   * available only to Assistive Technologies.\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function createStatusDiv() {\n    var statusDiv = document.getElementById('aria-status-div');\n\n    if (!statusDiv) {\n      statusDiv = document.createElement('div');\n      statusDiv.style.position = 'absolute';\n      statusDiv.style.height = '1px';\n      statusDiv.style.width = '1px';\n      statusDiv.style.overflow = 'hidden';\n      statusDiv.style.clip = 'rect( 1px, 1px, 1px, 1px )';\n      statusDiv.setAttribute('id', 'aria-status-div');\n      statusDiv.setAttribute('aria-live', 'polite');\n      statusDiv.setAttribute('aria-atomic', 'true');\n      dom.wrapper.appendChild(statusDiv);\n    }\n\n    return statusDiv;\n  }\n  /**\n   * Converts the given HTML element into a string of text\n   * that can be announced to a screen reader. Hidden\n   * elements are excluded.\n   */\n\n\n  function getStatusText(node) {\n    var text = ''; // Text node\n\n    if (node.nodeType === 3) {\n      text += node.textContent;\n    } // Element node\n    else if (node.nodeType === 1) {\n        var isAriaHidden = node.getAttribute('aria-hidden');\n        var isDisplayHidden = window.getComputedStyle(node)['display'] === 'none';\n\n        if (isAriaHidden !== 'true' && !isDisplayHidden) {\n          toArray(node.childNodes).forEach(function (child) {\n            text += getStatusText(child);\n          });\n        }\n      }\n\n    return text;\n  }\n  /**\n   * Configures the presentation for printing to a static\n   * PDF.\n   */\n\n\n  function setupPDF() {\n    var slideSize = getComputedSlideSize(window.innerWidth, window.innerHeight); // Dimensions of the PDF pages\n\n    var pageWidth = Math.floor(slideSize.width * (1 + config.margin)),\n        pageHeight = Math.floor(slideSize.height * (1 + config.margin)); // Dimensions of slides within the pages\n\n    var slideWidth = slideSize.width,\n        slideHeight = slideSize.height; // Let the browser know what page size we want to print\n\n    injectStyleSheet('@page{size:' + pageWidth + 'px ' + pageHeight + 'px; margin: 0px;}'); // Limit the size of certain elements to the dimensions of the slide\n\n    injectStyleSheet('.reveal section>img, .reveal section>video, .reveal section>iframe{max-width: ' + slideWidth + 'px; max-height:' + slideHeight + 'px}');\n    document.body.classList.add('print-pdf');\n    document.body.style.width = pageWidth + 'px';\n    document.body.style.height = pageHeight + 'px'; // Make sure stretch elements fit on slide\n\n    layoutSlideContents(slideWidth, slideHeight); // Add each slide's index as attributes on itself, we need these\n    // indices to generate slide numbers below\n\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (hslide, h) {\n      hslide.setAttribute('data-index-h', h);\n\n      if (hslide.classList.contains('stack')) {\n        toArray(hslide.querySelectorAll('section')).forEach(function (vslide, v) {\n          vslide.setAttribute('data-index-h', h);\n          vslide.setAttribute('data-index-v', v);\n        });\n      }\n    }); // Slide and slide background layout\n\n    toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n      // Vertical stacks are not centred since their section\n      // children will be\n      if (slide.classList.contains('stack') === false) {\n        // Center the slide inside of the page, giving the slide some margin\n        var left = (pageWidth - slideWidth) / 2,\n            top = (pageHeight - slideHeight) / 2;\n        var contentHeight = slide.scrollHeight;\n        var numberOfPages = Math.max(Math.ceil(contentHeight / pageHeight), 1); // Adhere to configured pages per slide limit\n\n        numberOfPages = Math.min(numberOfPages, config.pdfMaxPagesPerSlide); // Center slides vertically\n\n        if (numberOfPages === 1 && config.center || slide.classList.contains('center')) {\n          top = Math.max((pageHeight - contentHeight) / 2, 0);\n        } // Wrap the slide in a page element and hide its overflow\n        // so that no page ever flows onto another\n\n\n        var page = document.createElement('div');\n        page.className = 'pdf-page';\n        page.style.height = (pageHeight + config.pdfPageHeightOffset) * numberOfPages + 'px';\n        slide.parentNode.insertBefore(page, slide);\n        page.appendChild(slide); // Position the slide inside of the page\n\n        slide.style.left = left + 'px';\n        slide.style.top = top + 'px';\n        slide.style.width = slideWidth + 'px';\n\n        if (slide.slideBackgroundElement) {\n          page.insertBefore(slide.slideBackgroundElement, slide);\n        } // Inject notes if `showNotes` is enabled\n\n\n        if (config.showNotes) {\n          // Are there notes for this slide?\n          var notes = getSlideNotes(slide);\n\n          if (notes) {\n            var notesSpacing = 8;\n            var notesLayout = typeof config.showNotes === 'string' ? config.showNotes : 'inline';\n            var notesElement = document.createElement('div');\n            notesElement.classList.add('speaker-notes');\n            notesElement.classList.add('speaker-notes-pdf');\n            notesElement.setAttribute('data-layout', notesLayout);\n            notesElement.innerHTML = notes;\n\n            if (notesLayout === 'separate-page') {\n              page.parentNode.insertBefore(notesElement, page.nextSibling);\n            } else {\n              notesElement.style.left = notesSpacing + 'px';\n              notesElement.style.bottom = notesSpacing + 'px';\n              notesElement.style.width = pageWidth - notesSpacing * 2 + 'px';\n              page.appendChild(notesElement);\n            }\n          }\n        } // Inject slide numbers if `slideNumbers` are enabled\n\n\n        if (config.slideNumber && /all|print/i.test(config.showSlideNumber)) {\n          var slideNumberH = parseInt(slide.getAttribute('data-index-h'), 10) + 1,\n              slideNumberV = parseInt(slide.getAttribute('data-index-v'), 10) + 1;\n          var numberElement = document.createElement('div');\n          numberElement.classList.add('slide-number');\n          numberElement.classList.add('slide-number-pdf');\n          numberElement.innerHTML = formatSlideNumber(slideNumberH, '.', slideNumberV);\n          page.appendChild(numberElement);\n        } // Copy page and show fragments one after another\n\n\n        if (config.pdfSeparateFragments) {\n          // Each fragment 'group' is an array containing one or more\n          // fragments. Multiple fragments that appear at the same time\n          // are part of the same group.\n          var fragmentGroups = sortFragments(page.querySelectorAll('.fragment'), true);\n          var previousFragmentStep;\n          var previousPage;\n          fragmentGroups.forEach(function (fragments) {\n            // Remove 'current-fragment' from the previous group\n            if (previousFragmentStep) {\n              previousFragmentStep.forEach(function (fragment) {\n                fragment.classList.remove('current-fragment');\n              });\n            } // Show the fragments for the current index\n\n\n            fragments.forEach(function (fragment) {\n              fragment.classList.add('visible', 'current-fragment');\n            }); // Create a separate page for the current fragment state\n\n            var clonedPage = page.cloneNode(true);\n            page.parentNode.insertBefore(clonedPage, (previousPage || page).nextSibling);\n            previousFragmentStep = fragments;\n            previousPage = clonedPage;\n          }); // Reset the first/original page so that all fragments are hidden\n\n          fragmentGroups.forEach(function (fragments) {\n            fragments.forEach(function (fragment) {\n              fragment.classList.remove('visible', 'current-fragment');\n            });\n          });\n        } // Show all fragments\n        else {\n            toArray(page.querySelectorAll('.fragment:not(.fade-out)')).forEach(function (fragment) {\n              fragment.classList.add('visible');\n            });\n          }\n      }\n    }); // Notify subscribers that the PDF layout is good to go\n\n    dispatchEvent('pdf-ready');\n  }\n  /**\n   * This is an unfortunate necessity. Some actions – such as\n   * an input field being focused in an iframe or using the\n   * keyboard to expand text selection beyond the bounds of\n   * a slide – can trigger our content to be pushed out of view.\n   * This scrolling can not be prevented by hiding overflow in\n   * CSS (we already do) so we have to resort to repeatedly\n   * checking if the slides have been offset :(\n   */\n\n\n  function setupScrollPrevention() {\n    setInterval(function () {\n      if (dom.wrapper.scrollTop !== 0 || dom.wrapper.scrollLeft !== 0) {\n        dom.wrapper.scrollTop = 0;\n        dom.wrapper.scrollLeft = 0;\n      }\n    }, 1000);\n  }\n  /**\n   * Creates an HTML element and returns a reference to it.\n   * If the element already exists the existing instance will\n   * be returned.\n   *\n   * @param {HTMLElement} container\n   * @param {string} tagname\n   * @param {string} classname\n   * @param {string} innerHTML\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function createSingletonNode(container, tagname, classname, innerHTML) {\n    // Find all nodes matching the description\n    var nodes = container.querySelectorAll('.' + classname); // Check all matches to find one which is a direct child of\n    // the specified container\n\n    for (var i = 0; i < nodes.length; i++) {\n      var testNode = nodes[i];\n\n      if (testNode.parentNode === container) {\n        return testNode;\n      }\n    } // If no node was found, create it now\n\n\n    var node = document.createElement(tagname);\n    node.className = classname;\n\n    if (typeof innerHTML === 'string') {\n      node.innerHTML = innerHTML;\n    }\n\n    container.appendChild(node);\n    return node;\n  }\n  /**\n   * Creates the slide background elements and appends them\n   * to the background container. One element is created per\n   * slide no matter if the given slide has visible background.\n   */\n\n\n  function createBackgrounds() {\n    var printMode = isPrintingPDF(); // Clear prior backgrounds\n\n    dom.background.innerHTML = '';\n    dom.background.classList.add('no-transition'); // Iterate over all horizontal slides\n\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (slideh) {\n      var backgroundStack = createBackground(slideh, dom.background); // Iterate over all vertical slides\n\n      toArray(slideh.querySelectorAll('section')).forEach(function (slidev) {\n        createBackground(slidev, backgroundStack);\n        backgroundStack.classList.add('stack');\n      });\n    }); // Add parallax background if specified\n\n    if (config.parallaxBackgroundImage) {\n      dom.background.style.backgroundImage = 'url(\"' + config.parallaxBackgroundImage + '\")';\n      dom.background.style.backgroundSize = config.parallaxBackgroundSize;\n      dom.background.style.backgroundRepeat = config.parallaxBackgroundRepeat;\n      dom.background.style.backgroundPosition = config.parallaxBackgroundPosition; // Make sure the below properties are set on the element - these properties are\n      // needed for proper transitions to be set on the element via CSS. To remove\n      // annoying background slide-in effect when the presentation starts, apply\n      // these properties after short time delay\n\n      setTimeout(function () {\n        dom.wrapper.classList.add('has-parallax-background');\n      }, 1);\n    } else {\n      dom.background.style.backgroundImage = '';\n      dom.wrapper.classList.remove('has-parallax-background');\n    }\n  }\n  /**\n   * Creates a background for the given slide.\n   *\n   * @param {HTMLElement} slide\n   * @param {HTMLElement} container The element that the background\n   * should be appended to\n   * @return {HTMLElement} New background div\n   */\n\n\n  function createBackground(slide, container) {\n    // Main slide background element\n    var element = document.createElement('div');\n    element.className = 'slide-background ' + slide.className.replace(/present|past|future/, ''); // Inner background element that wraps images/videos/iframes\n\n    var contentElement = document.createElement('div');\n    contentElement.className = 'slide-background-content';\n    element.appendChild(contentElement);\n    container.appendChild(element);\n    slide.slideBackgroundElement = element;\n    slide.slideBackgroundContentElement = contentElement; // Syncs the background to reflect all current background settings\n\n    syncBackground(slide);\n    return element;\n  }\n  /**\n   * Renders all of the visual properties of a slide background\n   * based on the various background attributes.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function syncBackground(slide) {\n    var element = slide.slideBackgroundElement,\n        contentElement = slide.slideBackgroundContentElement; // Reset the prior background state in case this is not the\n    // initial sync\n\n    slide.classList.remove('has-dark-background');\n    slide.classList.remove('has-light-background');\n    element.removeAttribute('data-loaded');\n    element.removeAttribute('data-background-hash');\n    element.removeAttribute('data-background-size');\n    element.removeAttribute('data-background-transition');\n    element.style.backgroundColor = '';\n    contentElement.style.backgroundSize = '';\n    contentElement.style.backgroundRepeat = '';\n    contentElement.style.backgroundPosition = '';\n    contentElement.style.backgroundImage = '';\n    contentElement.style.opacity = '';\n    contentElement.innerHTML = '';\n    var data = {\n      background: slide.getAttribute('data-background'),\n      backgroundSize: slide.getAttribute('data-background-size'),\n      backgroundImage: slide.getAttribute('data-background-image'),\n      backgroundVideo: slide.getAttribute('data-background-video'),\n      backgroundIframe: slide.getAttribute('data-background-iframe'),\n      backgroundColor: slide.getAttribute('data-background-color'),\n      backgroundRepeat: slide.getAttribute('data-background-repeat'),\n      backgroundPosition: slide.getAttribute('data-background-position'),\n      backgroundTransition: slide.getAttribute('data-background-transition'),\n      backgroundOpacity: slide.getAttribute('data-background-opacity')\n    };\n\n    if (data.background) {\n      // Auto-wrap image urls in url(...)\n      if (/^(http|file|\\/\\/)/gi.test(data.background) || /\\.(svg|png|jpg|jpeg|gif|bmp)([?#\\s]|$)/gi.test(data.background)) {\n        slide.setAttribute('data-background-image', data.background);\n      } else {\n        element.style.background = data.background;\n      }\n    } // Create a hash for this combination of background settings.\n    // This is used to determine when two slide backgrounds are\n    // the same.\n\n\n    if (data.background || data.backgroundColor || data.backgroundImage || data.backgroundVideo || data.backgroundIframe) {\n      element.setAttribute('data-background-hash', data.background + data.backgroundSize + data.backgroundImage + data.backgroundVideo + data.backgroundIframe + data.backgroundColor + data.backgroundRepeat + data.backgroundPosition + data.backgroundTransition + data.backgroundOpacity);\n    } // Additional and optional background properties\n\n\n    if (data.backgroundSize) element.setAttribute('data-background-size', data.backgroundSize);\n    if (data.backgroundColor) element.style.backgroundColor = data.backgroundColor;\n    if (data.backgroundTransition) element.setAttribute('data-background-transition', data.backgroundTransition); // Background image options are set on the content wrapper\n\n    if (data.backgroundSize) contentElement.style.backgroundSize = data.backgroundSize;\n    if (data.backgroundRepeat) contentElement.style.backgroundRepeat = data.backgroundRepeat;\n    if (data.backgroundPosition) contentElement.style.backgroundPosition = data.backgroundPosition;\n    if (data.backgroundOpacity) contentElement.style.opacity = data.backgroundOpacity; // If this slide has a background color, we add a class that\n    // signals if it is light or dark. If the slide has no background\n    // color, no class will be added\n\n    var contrastColor = data.backgroundColor; // If no bg color was found, check the computed background\n\n    if (!contrastColor) {\n      var computedBackgroundStyle = window.getComputedStyle(element);\n\n      if (computedBackgroundStyle && computedBackgroundStyle.backgroundColor) {\n        contrastColor = computedBackgroundStyle.backgroundColor;\n      }\n    }\n\n    if (contrastColor) {\n      var rgb = colorToRgb(contrastColor); // Ignore fully transparent backgrounds. Some browsers return\n      // rgba(0,0,0,0) when reading the computed background color of\n      // an element with no background\n\n      if (rgb && rgb.a !== 0) {\n        if (colorBrightness(contrastColor) < 128) {\n          slide.classList.add('has-dark-background');\n        } else {\n          slide.classList.add('has-light-background');\n        }\n      }\n    }\n  }\n  /**\n   * Registers a listener to postMessage events, this makes it\n   * possible to call all reveal.js API methods from another\n   * window. For example:\n   *\n   * revealWindow.postMessage( JSON.stringify({\n   *   method: 'slide',\n   *   args: [ 2 ]\n   * }), '*' );\n   */\n\n\n  function setupPostMessage() {\n    if (config.postMessage) {\n      window.addEventListener('message', function (event) {\n        var data = event.data; // Make sure we're dealing with JSON\n\n        if (typeof data === 'string' && data.charAt(0) === '{' && data.charAt(data.length - 1) === '}') {\n          data = JSON.parse(data); // Check if the requested method can be found\n\n          if (data.method && typeof Reveal[data.method] === 'function') {\n            Reveal[data.method].apply(Reveal, data.args);\n          }\n        }\n      }, false);\n    }\n  }\n  /**\n   * Applies the configuration settings from the config\n   * object. May be called multiple times.\n   *\n   * @param {object} options\n   */\n\n\n  function configure(options) {\n    var oldTransition = config.transition; // New config options may be passed when this method\n    // is invoked through the API after initialization\n\n    if (typeof options === 'object') extend(config, options); // Abort if reveal.js hasn't finished loading, config\n    // changes will be applied automatically once loading\n    // finishes\n\n    if (loaded === false) return;\n    var numberOfSlides = dom.wrapper.querySelectorAll(SLIDES_SELECTOR).length; // Remove the previously configured transition class\n\n    dom.wrapper.classList.remove(oldTransition); // Force linear transition based on browser capabilities\n\n    if (features.transforms3d === false) config.transition = 'linear';\n    dom.wrapper.classList.add(config.transition);\n    dom.wrapper.setAttribute('data-transition-speed', config.transitionSpeed);\n    dom.wrapper.setAttribute('data-background-transition', config.backgroundTransition);\n    dom.controls.style.display = config.controls ? 'block' : 'none';\n    dom.progress.style.display = config.progress ? 'block' : 'none';\n    dom.controls.setAttribute('data-controls-layout', config.controlsLayout);\n    dom.controls.setAttribute('data-controls-back-arrows', config.controlsBackArrows);\n\n    if (config.shuffle) {\n      shuffle();\n    }\n\n    if (config.rtl) {\n      dom.wrapper.classList.add('rtl');\n    } else {\n      dom.wrapper.classList.remove('rtl');\n    }\n\n    if (config.center) {\n      dom.wrapper.classList.add('center');\n    } else {\n      dom.wrapper.classList.remove('center');\n    } // Exit the paused mode if it was configured off\n\n\n    if (config.pause === false) {\n      resume();\n    }\n\n    if (config.showNotes) {\n      dom.speakerNotes.setAttribute('data-layout', typeof config.showNotes === 'string' ? config.showNotes : 'inline');\n    }\n\n    if (config.mouseWheel) {\n      document.addEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\n      document.addEventListener('mousewheel', onDocumentMouseScroll, false);\n    } else {\n      document.removeEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\n      document.removeEventListener('mousewheel', onDocumentMouseScroll, false);\n    } // Rolling 3D links\n\n\n    if (config.rollingLinks) {\n      enableRollingLinks();\n    } else {\n      disableRollingLinks();\n    } // Auto-hide the mouse pointer when its inactive\n\n\n    if (config.hideInactiveCursor) {\n      document.addEventListener('mousemove', onDocumentCursorActive, false);\n      document.addEventListener('mousedown', onDocumentCursorActive, false);\n    } else {\n      showCursor();\n      document.removeEventListener('mousemove', onDocumentCursorActive, false);\n      document.removeEventListener('mousedown', onDocumentCursorActive, false);\n    } // Iframe link previews\n\n\n    if (config.previewLinks) {\n      enablePreviewLinks();\n      disablePreviewLinks('[data-preview-link=false]');\n    } else {\n      disablePreviewLinks();\n      enablePreviewLinks('[data-preview-link]:not([data-preview-link=false])');\n    } // Remove existing auto-slide controls\n\n\n    if (autoSlidePlayer) {\n      autoSlidePlayer.destroy();\n      autoSlidePlayer = null;\n    } // Generate auto-slide controls if needed\n\n\n    if (numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable && features.canvas && features.requestAnimationFrame) {\n      autoSlidePlayer = new Playback(dom.wrapper, function () {\n        return Math.min(Math.max((Date.now() - autoSlideStartTime) / autoSlide, 0), 1);\n      });\n      autoSlidePlayer.on('click', onAutoSlidePlayerClick);\n      autoSlidePaused = false;\n    } // When fragments are turned off they should be visible\n\n\n    if (config.fragments === false) {\n      toArray(dom.slides.querySelectorAll('.fragment')).forEach(function (element) {\n        element.classList.add('visible');\n        element.classList.remove('current-fragment');\n      });\n    } // Slide numbers\n\n\n    var slideNumberDisplay = 'none';\n\n    if (config.slideNumber && !isPrintingPDF()) {\n      if (config.showSlideNumber === 'all') {\n        slideNumberDisplay = 'block';\n      } else if (config.showSlideNumber === 'speaker' && isSpeakerNotes()) {\n        slideNumberDisplay = 'block';\n      }\n    }\n\n    dom.slideNumber.style.display = slideNumberDisplay; // Add the navigation mode to the DOM so we can adjust styling\n\n    if (config.navigationMode !== 'default') {\n      dom.wrapper.setAttribute('data-navigation-mode', config.navigationMode);\n    } else {\n      dom.wrapper.removeAttribute('data-navigation-mode');\n    } // Define our contextual list of keyboard shortcuts\n\n\n    if (config.navigationMode === 'linear') {\n      keyboardShortcuts['&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J'] = 'Next slide';\n      keyboardShortcuts['&#8592;  ,  &#8593;  ,  P  ,  H  ,  K'] = 'Previous slide';\n    } else {\n      keyboardShortcuts['N  ,  SPACE'] = 'Next slide';\n      keyboardShortcuts['P'] = 'Previous slide';\n      keyboardShortcuts['&#8592;  ,  H'] = 'Navigate left';\n      keyboardShortcuts['&#8594;  ,  L'] = 'Navigate right';\n      keyboardShortcuts['&#8593;  ,  K'] = 'Navigate up';\n      keyboardShortcuts['&#8595;  ,  J'] = 'Navigate down';\n    }\n\n    keyboardShortcuts['Home  ,  &#8984;/CTRL &#8592;'] = 'First slide';\n    keyboardShortcuts['End  ,  &#8984;/CTRL &#8594;'] = 'Last slide';\n    keyboardShortcuts['B  ,  .'] = 'Pause';\n    keyboardShortcuts['F'] = 'Fullscreen';\n    keyboardShortcuts['ESC, O'] = 'Slide overview';\n    sync();\n  }\n  /**\n   * Binds all event listeners.\n   */\n\n\n  function addEventListeners() {\n    eventsAreBound = true;\n    window.addEventListener('hashchange', onWindowHashChange, false);\n    window.addEventListener('resize', onWindowResize, false);\n\n    if (config.touch) {\n      if ('onpointerdown' in window) {\n        // Use W3C pointer events\n        dom.wrapper.addEventListener('pointerdown', onPointerDown, false);\n        dom.wrapper.addEventListener('pointermove', onPointerMove, false);\n        dom.wrapper.addEventListener('pointerup', onPointerUp, false);\n      } else if (window.navigator.msPointerEnabled) {\n        // IE 10 uses prefixed version of pointer events\n        dom.wrapper.addEventListener('MSPointerDown', onPointerDown, false);\n        dom.wrapper.addEventListener('MSPointerMove', onPointerMove, false);\n        dom.wrapper.addEventListener('MSPointerUp', onPointerUp, false);\n      } else {\n        // Fall back to touch events\n        dom.wrapper.addEventListener('touchstart', onTouchStart, false);\n        dom.wrapper.addEventListener('touchmove', onTouchMove, false);\n        dom.wrapper.addEventListener('touchend', onTouchEnd, false);\n      }\n    }\n\n    if (config.keyboard) {\n      document.addEventListener('keydown', onDocumentKeyDown, false);\n      document.addEventListener('keypress', onDocumentKeyPress, false);\n    }\n\n    if (config.progress && dom.progress) {\n      dom.progress.addEventListener('click', onProgressClicked, false);\n    }\n\n    dom.pauseOverlay.addEventListener('click', resume, false);\n\n    if (config.focusBodyOnPageVisibilityChange) {\n      var visibilityChange;\n\n      if ('hidden' in document) {\n        visibilityChange = 'visibilitychange';\n      } else if ('msHidden' in document) {\n        visibilityChange = 'msvisibilitychange';\n      } else if ('webkitHidden' in document) {\n        visibilityChange = 'webkitvisibilitychange';\n      }\n\n      if (visibilityChange) {\n        document.addEventListener(visibilityChange, onPageVisibilityChange, false);\n      }\n    } // Listen to both touch and click events, in case the device\n    // supports both\n\n\n    var pointerEvents = ['touchstart', 'click']; // Only support touch for Android, fixes double navigations in\n    // stock browser\n\n    if (UA.match(/android/gi)) {\n      pointerEvents = ['touchstart'];\n    }\n\n    pointerEvents.forEach(function (eventName) {\n      dom.controlsLeft.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateLeftClicked, false);\n      });\n      dom.controlsRight.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateRightClicked, false);\n      });\n      dom.controlsUp.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateUpClicked, false);\n      });\n      dom.controlsDown.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateDownClicked, false);\n      });\n      dom.controlsPrev.forEach(function (el) {\n        el.addEventListener(eventName, onNavigatePrevClicked, false);\n      });\n      dom.controlsNext.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateNextClicked, false);\n      });\n    });\n  }\n  /**\n   * Unbinds all event listeners.\n   */\n\n\n  function removeEventListeners() {\n    eventsAreBound = false;\n    document.removeEventListener('keydown', onDocumentKeyDown, false);\n    document.removeEventListener('keypress', onDocumentKeyPress, false);\n    window.removeEventListener('hashchange', onWindowHashChange, false);\n    window.removeEventListener('resize', onWindowResize, false);\n    dom.wrapper.removeEventListener('pointerdown', onPointerDown, false);\n    dom.wrapper.removeEventListener('pointermove', onPointerMove, false);\n    dom.wrapper.removeEventListener('pointerup', onPointerUp, false);\n    dom.wrapper.removeEventListener('MSPointerDown', onPointerDown, false);\n    dom.wrapper.removeEventListener('MSPointerMove', onPointerMove, false);\n    dom.wrapper.removeEventListener('MSPointerUp', onPointerUp, false);\n    dom.wrapper.removeEventListener('touchstart', onTouchStart, false);\n    dom.wrapper.removeEventListener('touchmove', onTouchMove, false);\n    dom.wrapper.removeEventListener('touchend', onTouchEnd, false);\n    dom.pauseOverlay.removeEventListener('click', resume, false);\n\n    if (config.progress && dom.progress) {\n      dom.progress.removeEventListener('click', onProgressClicked, false);\n    }\n\n    ['touchstart', 'click'].forEach(function (eventName) {\n      dom.controlsLeft.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateLeftClicked, false);\n      });\n      dom.controlsRight.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateRightClicked, false);\n      });\n      dom.controlsUp.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateUpClicked, false);\n      });\n      dom.controlsDown.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateDownClicked, false);\n      });\n      dom.controlsPrev.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigatePrevClicked, false);\n      });\n      dom.controlsNext.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateNextClicked, false);\n      });\n    });\n  }\n  /**\n   * Registers a new plugin with this reveal.js instance.\n   *\n   * reveal.js waits for all regisered plugins to initialize\n   * before considering itself ready, as long as the plugin\n   * is registered before calling `Reveal.initialize()`.\n   */\n\n\n  function registerPlugin(id, plugin) {\n    if (plugins[id] === undefined) {\n      plugins[id] = plugin; // If a plugin is registered after reveal.js is loaded,\n      // initialize it right away\n\n      if (loaded && typeof plugin.init === 'function') {\n        plugin.init();\n      }\n    } else {\n      console.warn('reveal.js: \"' + id + '\" plugin has already been registered');\n    }\n  }\n  /**\n   * Checks if a specific plugin has been registered.\n   *\n   * @param {String} id Unique plugin identifier\n   */\n\n\n  function hasPlugin(id) {\n    return !!plugins[id];\n  }\n  /**\n   * Returns the specific plugin instance, if a plugin\n   * with the given ID has been registered.\n   *\n   * @param {String} id Unique plugin identifier\n   */\n\n\n  function getPlugin(id) {\n    return plugins[id];\n  }\n  /**\n   * Add a custom key binding with optional description to\n   * be added to the help screen.\n   */\n\n\n  function addKeyBinding(binding, callback) {\n    if (typeof binding === 'object' && binding.keyCode) {\n      registeredKeyBindings[binding.keyCode] = {\n        callback: callback,\n        key: binding.key,\n        description: binding.description\n      };\n    } else {\n      registeredKeyBindings[binding] = {\n        callback: callback,\n        key: null,\n        description: null\n      };\n    }\n  }\n  /**\n   * Removes the specified custom key binding.\n   */\n\n\n  function removeKeyBinding(keyCode) {\n    delete registeredKeyBindings[keyCode];\n  }\n  /**\n   * Extend object a with the properties of object b.\n   * If there's a conflict, object b takes precedence.\n   *\n   * @param {object} a\n   * @param {object} b\n   */\n\n\n  function extend(a, b) {\n    for (var i in b) {\n      a[i] = b[i];\n    }\n\n    return a;\n  }\n  /**\n   * Converts the target object to an array.\n   *\n   * @param {object} o\n   * @return {object[]}\n   */\n\n\n  function toArray(o) {\n    return Array.prototype.slice.call(o);\n  }\n  /**\n   * Utility for deserializing a value.\n   *\n   * @param {*} value\n   * @return {*}\n   */\n\n\n  function deserialize(value) {\n    if (typeof value === 'string') {\n      if (value === 'null') return null;else if (value === 'true') return true;else if (value === 'false') return false;else if (value.match(/^-?[\\d\\.]+$/)) return parseFloat(value);\n    }\n\n    return value;\n  }\n  /**\n   * Measures the distance in pixels between point a\n   * and point b.\n   *\n   * @param {object} a point with x/y properties\n   * @param {object} b point with x/y properties\n   *\n   * @return {number}\n   */\n\n\n  function distanceBetween(a, b) {\n    var dx = a.x - b.x,\n        dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n  /**\n   * Applies a CSS transform to the target element.\n   *\n   * @param {HTMLElement} element\n   * @param {string} transform\n   */\n\n\n  function transformElement(element, transform) {\n    element.style.WebkitTransform = transform;\n    element.style.MozTransform = transform;\n    element.style.msTransform = transform;\n    element.style.transform = transform;\n  }\n  /**\n   * Applies CSS transforms to the slides container. The container\n   * is transformed from two separate sources: layout and the overview\n   * mode.\n   *\n   * @param {object} transforms\n   */\n\n\n  function transformSlides(transforms) {\n    // Pick up new transforms from arguments\n    if (typeof transforms.layout === 'string') slidesTransform.layout = transforms.layout;\n    if (typeof transforms.overview === 'string') slidesTransform.overview = transforms.overview; // Apply the transforms to the slides container\n\n    if (slidesTransform.layout) {\n      transformElement(dom.slides, slidesTransform.layout + ' ' + slidesTransform.overview);\n    } else {\n      transformElement(dom.slides, slidesTransform.overview);\n    }\n  }\n  /**\n   * Injects the given CSS styles into the DOM.\n   *\n   * @param {string} value\n   */\n\n\n  function injectStyleSheet(value) {\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n\n    if (tag.styleSheet) {\n      tag.styleSheet.cssText = value;\n    } else {\n      tag.appendChild(document.createTextNode(value));\n    }\n\n    document.getElementsByTagName('head')[0].appendChild(tag);\n  }\n  /**\n   * Find the closest parent that matches the given\n   * selector.\n   *\n   * @param {HTMLElement} target The child element\n   * @param {String} selector The CSS selector to match\n   * the parents against\n   *\n   * @return {HTMLElement} The matched parent or null\n   * if no matching parent was found\n   */\n\n\n  function closestParent(target, selector) {\n    var parent = target.parentNode;\n\n    while (parent) {\n      // There's some overhead doing this each time, we don't\n      // want to rewrite the element prototype but should still\n      // be enough to feature detect once at startup...\n      var matchesMethod = parent.matches || parent.matchesSelector || parent.msMatchesSelector; // If we find a match, we're all set\n\n      if (matchesMethod && matchesMethod.call(parent, selector)) {\n        return parent;\n      } // Keep searching\n\n\n      parent = parent.parentNode;\n    }\n\n    return null;\n  }\n  /**\n   * Converts various color input formats to an {r:0,g:0,b:0} object.\n   *\n   * @param {string} color The string representation of a color\n   * @example\n   * colorToRgb('#000');\n   * @example\n   * colorToRgb('#000000');\n   * @example\n   * colorToRgb('rgb(0,0,0)');\n   * @example\n   * colorToRgb('rgba(0,0,0)');\n   *\n   * @return {{r: number, g: number, b: number, [a]: number}|null}\n   */\n\n\n  function colorToRgb(color) {\n    var hex3 = color.match(/^#([0-9a-f]{3})$/i);\n\n    if (hex3 && hex3[1]) {\n      hex3 = hex3[1];\n      return {\n        r: parseInt(hex3.charAt(0), 16) * 0x11,\n        g: parseInt(hex3.charAt(1), 16) * 0x11,\n        b: parseInt(hex3.charAt(2), 16) * 0x11\n      };\n    }\n\n    var hex6 = color.match(/^#([0-9a-f]{6})$/i);\n\n    if (hex6 && hex6[1]) {\n      hex6 = hex6[1];\n      return {\n        r: parseInt(hex6.substr(0, 2), 16),\n        g: parseInt(hex6.substr(2, 2), 16),\n        b: parseInt(hex6.substr(4, 2), 16)\n      };\n    }\n\n    var rgb = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n\n    if (rgb) {\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    }\n\n    var rgba = color.match(/^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*([\\d]+|[\\d]*.[\\d]+)\\s*\\)$/i);\n\n    if (rgba) {\n      return {\n        r: parseInt(rgba[1], 10),\n        g: parseInt(rgba[2], 10),\n        b: parseInt(rgba[3], 10),\n        a: parseFloat(rgba[4])\n      };\n    }\n\n    return null;\n  }\n  /**\n   * Calculates brightness on a scale of 0-255.\n   *\n   * @param {string} color See colorToRgb for supported formats.\n   * @see {@link colorToRgb}\n   */\n\n\n  function colorBrightness(color) {\n    if (typeof color === 'string') color = colorToRgb(color);\n\n    if (color) {\n      return (color.r * 299 + color.g * 587 + color.b * 114) / 1000;\n    }\n\n    return null;\n  }\n  /**\n   * Returns the remaining height within the parent of the\n   * target element.\n   *\n   * remaining height = [ configured parent height ] - [ current parent height ]\n   *\n   * @param {HTMLElement} element\n   * @param {number} [height]\n   */\n\n\n  function getRemainingHeight(element, height) {\n    height = height || 0;\n\n    if (element) {\n      var newHeight,\n          oldHeight = element.style.height; // Change the .stretch element height to 0 in order find the height of all\n      // the other elements\n\n      element.style.height = '0px'; // In Overview mode, the parent (.slide) height is set of 700px.\n      // Restore it temporarily to its natural height.\n\n      element.parentNode.style.height = 'auto';\n      newHeight = height - element.parentNode.offsetHeight; // Restore the old height, just in case\n\n      element.style.height = oldHeight + 'px'; // Clear the parent (.slide) height. .removeProperty works in IE9+\n\n      element.parentNode.style.removeProperty('height');\n      return newHeight;\n    }\n\n    return height;\n  }\n  /**\n   * Checks if this instance is being used to print a PDF.\n   */\n\n\n  function isPrintingPDF() {\n    return /print-pdf/gi.test(window.location.search);\n  }\n  /**\n   * Hides the address bar if we're on a mobile device.\n   */\n\n\n  function hideAddressBar() {\n    if (config.hideAddressBar && isMobileDevice) {\n      // Events that should trigger the address bar to hide\n      window.addEventListener('load', removeAddressBar, false);\n      window.addEventListener('orientationchange', removeAddressBar, false);\n    }\n  }\n  /**\n   * Causes the address bar to hide on mobile devices,\n   * more vertical space ftw.\n   */\n\n\n  function removeAddressBar() {\n    setTimeout(function () {\n      window.scrollTo(0, 1);\n    }, 10);\n  }\n  /**\n   * Dispatches an event of the specified type from the\n   * reveal DOM element.\n   */\n\n\n  function dispatchEvent(type, args) {\n    var event = document.createEvent('HTMLEvents', 1, 2);\n    event.initEvent(type, true, true);\n    extend(event, args);\n    dom.wrapper.dispatchEvent(event); // If we're in an iframe, post each reveal.js event to the\n    // parent window. Used by the notes plugin\n\n    if (config.postMessageEvents && window.parent !== window.self) {\n      window.parent.postMessage(JSON.stringify({\n        namespace: 'reveal',\n        eventName: type,\n        state: getState()\n      }), '*');\n    }\n  }\n  /**\n   * Wrap all links in 3D goodness.\n   */\n\n\n  function enableRollingLinks() {\n    if (features.transforms3d && !('msPerspective' in document.body.style)) {\n      var anchors = dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ' a');\n\n      for (var i = 0, len = anchors.length; i < len; i++) {\n        var anchor = anchors[i];\n\n        if (anchor.textContent && !anchor.querySelector('*') && (!anchor.className || !anchor.classList.contains(anchor, 'roll'))) {\n          var span = document.createElement('span');\n          span.setAttribute('data-title', anchor.text);\n          span.innerHTML = anchor.innerHTML;\n          anchor.classList.add('roll');\n          anchor.innerHTML = '';\n          anchor.appendChild(span);\n        }\n      }\n    }\n  }\n  /**\n   * Unwrap all 3D links.\n   */\n\n\n  function disableRollingLinks() {\n    var anchors = dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ' a.roll');\n\n    for (var i = 0, len = anchors.length; i < len; i++) {\n      var anchor = anchors[i];\n      var span = anchor.querySelector('span');\n\n      if (span) {\n        anchor.classList.remove('roll');\n        anchor.innerHTML = span.innerHTML;\n      }\n    }\n  }\n  /**\n   * Bind preview frame links.\n   *\n   * @param {string} [selector=a] - selector for anchors\n   */\n\n\n  function enablePreviewLinks(selector) {\n    var anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n    anchors.forEach(function (element) {\n      if (/^(http|www)/gi.test(element.getAttribute('href'))) {\n        element.addEventListener('click', onPreviewLinkClicked, false);\n      }\n    });\n  }\n  /**\n   * Unbind preview frame links.\n   */\n\n\n  function disablePreviewLinks(selector) {\n    var anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n    anchors.forEach(function (element) {\n      if (/^(http|www)/gi.test(element.getAttribute('href'))) {\n        element.removeEventListener('click', onPreviewLinkClicked, false);\n      }\n    });\n  }\n  /**\n   * Opens a preview window for the target URL.\n   *\n   * @param {string} url - url for preview iframe src\n   */\n\n\n  function showPreview(url) {\n    closeOverlay();\n    dom.overlay = document.createElement('div');\n    dom.overlay.classList.add('overlay');\n    dom.overlay.classList.add('overlay-preview');\n    dom.wrapper.appendChild(dom.overlay);\n    dom.overlay.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '<a class=\"external\" href=\"' + url + '\" target=\"_blank\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"spinner\"></div>', '<div class=\"viewport\">', '<iframe src=\"' + url + '\"></iframe>', '<small class=\"viewport-inner\">', '<span class=\"x-frame-error\">Unable to load iframe. This is likely due to the site\\'s policy (x-frame-options).</span>', '</small>', '</div>'].join('');\n    dom.overlay.querySelector('iframe').addEventListener('load', function (event) {\n      dom.overlay.classList.add('loaded');\n    }, false);\n    dom.overlay.querySelector('.close').addEventListener('click', function (event) {\n      closeOverlay();\n      event.preventDefault();\n    }, false);\n    dom.overlay.querySelector('.external').addEventListener('click', function (event) {\n      closeOverlay();\n    }, false);\n    setTimeout(function () {\n      dom.overlay.classList.add('visible');\n    }, 1);\n  }\n  /**\n   * Open or close help overlay window.\n   *\n   * @param {Boolean} [override] Flag which overrides the\n   * toggle logic and forcibly sets the desired state. True means\n   * help is open, false means it's closed.\n   */\n\n\n  function toggleHelp(override) {\n    if (typeof override === 'boolean') {\n      override ? showHelp() : closeOverlay();\n    } else {\n      if (dom.overlay) {\n        closeOverlay();\n      } else {\n        showHelp();\n      }\n    }\n  }\n  /**\n   * Opens an overlay window with help material.\n   */\n\n\n  function showHelp() {\n    if (config.help) {\n      closeOverlay();\n      dom.overlay = document.createElement('div');\n      dom.overlay.classList.add('overlay');\n      dom.overlay.classList.add('overlay-help');\n      dom.wrapper.appendChild(dom.overlay);\n      var html = '<p class=\"title\">Keyboard Shortcuts</p><br/>';\n      html += '<table><th>KEY</th><th>ACTION</th>';\n\n      for (var key in keyboardShortcuts) {\n        html += '<tr><td>' + key + '</td><td>' + keyboardShortcuts[key] + '</td></tr>';\n      } // Add custom key bindings that have associated descriptions\n\n\n      for (var binding in registeredKeyBindings) {\n        if (registeredKeyBindings[binding].key && registeredKeyBindings[binding].description) {\n          html += '<tr><td>' + registeredKeyBindings[binding].key + '</td><td>' + registeredKeyBindings[binding].description + '</td></tr>';\n        }\n      }\n\n      html += '</table>';\n      dom.overlay.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"viewport\">', '<div class=\"viewport-inner\">' + html + '</div>', '</div>'].join('');\n      dom.overlay.querySelector('.close').addEventListener('click', function (event) {\n        closeOverlay();\n        event.preventDefault();\n      }, false);\n      setTimeout(function () {\n        dom.overlay.classList.add('visible');\n      }, 1);\n    }\n  }\n  /**\n   * Closes any currently open overlay.\n   */\n\n\n  function closeOverlay() {\n    if (dom.overlay) {\n      dom.overlay.parentNode.removeChild(dom.overlay);\n      dom.overlay = null;\n    }\n  }\n  /**\n   * Applies JavaScript-controlled layout rules to the\n   * presentation.\n   */\n\n\n  function layout() {\n    if (dom.wrapper && !isPrintingPDF()) {\n      if (!config.disableLayout) {\n        // On some mobile devices '100vh' is taller than the visible\n        // viewport which leads to part of the presentation being\n        // cut off. To work around this we define our own '--vh' custom\n        // property where 100x adds up to the correct height.\n        //\n        // https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n        if (isMobileDevice) {\n          document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');\n        }\n\n        var size = getComputedSlideSize();\n        var oldScale = scale; // Layout the contents of the slides\n\n        layoutSlideContents(config.width, config.height);\n        dom.slides.style.width = size.width + 'px';\n        dom.slides.style.height = size.height + 'px'; // Determine scale of content to fit within available space\n\n        scale = Math.min(size.presentationWidth / size.width, size.presentationHeight / size.height); // Respect max/min scale settings\n\n        scale = Math.max(scale, config.minScale);\n        scale = Math.min(scale, config.maxScale); // Don't apply any scaling styles if scale is 1\n\n        if (scale === 1) {\n          dom.slides.style.zoom = '';\n          dom.slides.style.left = '';\n          dom.slides.style.top = '';\n          dom.slides.style.bottom = '';\n          dom.slides.style.right = '';\n          transformSlides({\n            layout: ''\n          });\n        } else {\n          // Prefer zoom for scaling up so that content remains crisp.\n          // Don't use zoom to scale down since that can lead to shifts\n          // in text layout/line breaks.\n          if (scale > 1 && features.zoom) {\n            dom.slides.style.zoom = scale;\n            dom.slides.style.left = '';\n            dom.slides.style.top = '';\n            dom.slides.style.bottom = '';\n            dom.slides.style.right = '';\n            transformSlides({\n              layout: ''\n            });\n          } // Apply scale transform as a fallback\n          else {\n              dom.slides.style.zoom = '';\n              dom.slides.style.left = '50%';\n              dom.slides.style.top = '50%';\n              dom.slides.style.bottom = 'auto';\n              dom.slides.style.right = 'auto';\n              transformSlides({\n                layout: 'translate(-50%, -50%) scale(' + scale + ')'\n              });\n            }\n        } // Select all slides, vertical and horizontal\n\n\n        var slides = toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR));\n\n        for (var i = 0, len = slides.length; i < len; i++) {\n          var slide = slides[i]; // Don't bother updating invisible slides\n\n          if (slide.style.display === 'none') {\n            continue;\n          }\n\n          if (config.center || slide.classList.contains('center')) {\n            // Vertical stacks are not centred since their section\n            // children will be\n            if (slide.classList.contains('stack')) {\n              slide.style.top = 0;\n            } else {\n              slide.style.top = Math.max((size.height - slide.scrollHeight) / 2, 0) + 'px';\n            }\n          } else {\n            slide.style.top = '';\n          }\n        }\n\n        if (oldScale !== scale) {\n          dispatchEvent('resize', {\n            'oldScale': oldScale,\n            'scale': scale,\n            'size': size\n          });\n        }\n      }\n\n      updateProgress();\n      updateParallax();\n\n      if (isOverview()) {\n        updateOverview();\n      }\n    }\n  }\n  /**\n   * Applies layout logic to the contents of all slides in\n   * the presentation.\n   *\n   * @param {string|number} width\n   * @param {string|number} height\n   */\n\n\n  function layoutSlideContents(width, height) {\n    // Handle sizing of elements with the 'stretch' class\n    toArray(dom.slides.querySelectorAll('section > .stretch')).forEach(function (element) {\n      // Determine how much vertical space we can use\n      var remainingHeight = getRemainingHeight(element, height); // Consider the aspect ratio of media elements\n\n      if (/(img|video)/gi.test(element.nodeName)) {\n        var nw = element.naturalWidth || element.videoWidth,\n            nh = element.naturalHeight || element.videoHeight;\n        var es = Math.min(width / nw, remainingHeight / nh);\n        element.style.width = nw * es + 'px';\n        element.style.height = nh * es + 'px';\n      } else {\n        element.style.width = width + 'px';\n        element.style.height = remainingHeight + 'px';\n      }\n    });\n  }\n  /**\n   * Calculates the computed pixel size of our slides. These\n   * values are based on the width and height configuration\n   * options.\n   *\n   * @param {number} [presentationWidth=dom.wrapper.offsetWidth]\n   * @param {number} [presentationHeight=dom.wrapper.offsetHeight]\n   */\n\n\n  function getComputedSlideSize(presentationWidth, presentationHeight) {\n    var size = {\n      // Slide size\n      width: config.width,\n      height: config.height,\n      // Presentation size\n      presentationWidth: presentationWidth || dom.wrapper.offsetWidth,\n      presentationHeight: presentationHeight || dom.wrapper.offsetHeight\n    }; // Reduce available space by margin\n\n    size.presentationWidth -= size.presentationWidth * config.margin;\n    size.presentationHeight -= size.presentationHeight * config.margin; // Slide width may be a percentage of available width\n\n    if (typeof size.width === 'string' && /%$/.test(size.width)) {\n      size.width = parseInt(size.width, 10) / 100 * size.presentationWidth;\n    } // Slide height may be a percentage of available height\n\n\n    if (typeof size.height === 'string' && /%$/.test(size.height)) {\n      size.height = parseInt(size.height, 10) / 100 * size.presentationHeight;\n    }\n\n    return size;\n  }\n  /**\n   * Stores the vertical index of a stack so that the same\n   * vertical slide can be selected when navigating to and\n   * from the stack.\n   *\n   * @param {HTMLElement} stack The vertical stack element\n   * @param {string|number} [v=0] Index to memorize\n   */\n\n\n  function setPreviousVerticalIndex(stack, v) {\n    if (typeof stack === 'object' && typeof stack.setAttribute === 'function') {\n      stack.setAttribute('data-previous-indexv', v || 0);\n    }\n  }\n  /**\n   * Retrieves the vertical index which was stored using\n   * #setPreviousVerticalIndex() or 0 if no previous index\n   * exists.\n   *\n   * @param {HTMLElement} stack The vertical stack element\n   */\n\n\n  function getPreviousVerticalIndex(stack) {\n    if (typeof stack === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains('stack')) {\n      // Prefer manually defined start-indexv\n      var attributeName = stack.hasAttribute('data-start-indexv') ? 'data-start-indexv' : 'data-previous-indexv';\n      return parseInt(stack.getAttribute(attributeName) || 0, 10);\n    }\n\n    return 0;\n  }\n  /**\n   * Displays the overview of slides (quick nav) by scaling\n   * down and arranging all slide elements.\n   */\n\n\n  function activateOverview() {\n    // Only proceed if enabled in config\n    if (config.overview && !isOverview()) {\n      overview = true;\n      dom.wrapper.classList.add('overview');\n      dom.wrapper.classList.remove('overview-deactivating');\n\n      if (features.overviewTransitions) {\n        setTimeout(function () {\n          dom.wrapper.classList.add('overview-animated');\n        }, 1);\n      } // Don't auto-slide while in overview mode\n\n\n      cancelAutoSlide(); // Move the backgrounds element into the slide container to\n      // that the same scaling is applied\n\n      dom.slides.appendChild(dom.background); // Clicking on an overview slide navigates to it\n\n      toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n        if (!slide.classList.contains('stack')) {\n          slide.addEventListener('click', onOverviewSlideClicked, true);\n        }\n      }); // Calculate slide sizes\n\n      var margin = 70;\n      var slideSize = getComputedSlideSize();\n      overviewSlideWidth = slideSize.width + margin;\n      overviewSlideHeight = slideSize.height + margin; // Reverse in RTL mode\n\n      if (config.rtl) {\n        overviewSlideWidth = -overviewSlideWidth;\n      }\n\n      updateSlidesVisibility();\n      layoutOverview();\n      updateOverview();\n      layout(); // Notify observers of the overview showing\n\n      dispatchEvent('overviewshown', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }\n  }\n  /**\n   * Uses CSS transforms to position all slides in a grid for\n   * display inside of the overview mode.\n   */\n\n\n  function layoutOverview() {\n    // Layout slides\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (hslide, h) {\n      hslide.setAttribute('data-index-h', h);\n      transformElement(hslide, 'translate3d(' + h * overviewSlideWidth + 'px, 0, 0)');\n\n      if (hslide.classList.contains('stack')) {\n        toArray(hslide.querySelectorAll('section')).forEach(function (vslide, v) {\n          vslide.setAttribute('data-index-h', h);\n          vslide.setAttribute('data-index-v', v);\n          transformElement(vslide, 'translate3d(0, ' + v * overviewSlideHeight + 'px, 0)');\n        });\n      }\n    }); // Layout slide backgrounds\n\n    toArray(dom.background.childNodes).forEach(function (hbackground, h) {\n      transformElement(hbackground, 'translate3d(' + h * overviewSlideWidth + 'px, 0, 0)');\n      toArray(hbackground.querySelectorAll('.slide-background')).forEach(function (vbackground, v) {\n        transformElement(vbackground, 'translate3d(0, ' + v * overviewSlideHeight + 'px, 0)');\n      });\n    });\n  }\n  /**\n   * Moves the overview viewport to the current slides.\n   * Called each time the current slide changes.\n   */\n\n\n  function updateOverview() {\n    var vmin = Math.min(window.innerWidth, window.innerHeight);\n    var scale = Math.max(vmin / 5, 150) / vmin;\n    transformSlides({\n      overview: ['scale(' + scale + ')', 'translateX(' + -indexh * overviewSlideWidth + 'px)', 'translateY(' + -indexv * overviewSlideHeight + 'px)'].join(' ')\n    });\n  }\n  /**\n   * Exits the slide overview and enters the currently\n   * active slide.\n   */\n\n\n  function deactivateOverview() {\n    // Only proceed if enabled in config\n    if (config.overview) {\n      overview = false;\n      dom.wrapper.classList.remove('overview');\n      dom.wrapper.classList.remove('overview-animated'); // Temporarily add a class so that transitions can do different things\n      // depending on whether they are exiting/entering overview, or just\n      // moving from slide to slide\n\n      dom.wrapper.classList.add('overview-deactivating');\n      setTimeout(function () {\n        dom.wrapper.classList.remove('overview-deactivating');\n      }, 1); // Move the background element back out\n\n      dom.wrapper.appendChild(dom.background); // Clean up changes made to slides\n\n      toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n        transformElement(slide, '');\n        slide.removeEventListener('click', onOverviewSlideClicked, true);\n      }); // Clean up changes made to backgrounds\n\n      toArray(dom.background.querySelectorAll('.slide-background')).forEach(function (background) {\n        transformElement(background, '');\n      });\n      transformSlides({\n        overview: ''\n      });\n      slide(indexh, indexv);\n      layout();\n      cueAutoSlide(); // Notify observers of the overview hiding\n\n      dispatchEvent('overviewhidden', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }\n  }\n  /**\n   * Toggles the slide overview mode on and off.\n   *\n   * @param {Boolean} [override] Flag which overrides the\n   * toggle logic and forcibly sets the desired state. True means\n   * overview is open, false means it's closed.\n   */\n\n\n  function toggleOverview(override) {\n    if (typeof override === 'boolean') {\n      override ? activateOverview() : deactivateOverview();\n    } else {\n      isOverview() ? deactivateOverview() : activateOverview();\n    }\n  }\n  /**\n   * Checks if the overview is currently active.\n   *\n   * @return {Boolean} true if the overview is active,\n   * false otherwise\n   */\n\n\n  function isOverview() {\n    return overview;\n  }\n  /**\n   * Return a hash URL that will resolve to the current slide location.\n   */\n\n\n  function locationHash() {\n    var url = '/'; // Attempt to create a named link based on the slide's ID\n\n    var id = currentSlide ? currentSlide.getAttribute('id') : null;\n\n    if (id) {\n      id = encodeURIComponent(id);\n    }\n\n    var indexf;\n\n    if (config.fragmentInURL) {\n      indexf = getIndices().f;\n    } // If the current slide has an ID, use that as a named link,\n    // but we don't support named links with a fragment index\n\n\n    if (typeof id === 'string' && id.length && indexf === undefined) {\n      url = '/' + id;\n    } // Otherwise use the /h/v index\n    else {\n        var hashIndexBase = config.hashOneBasedIndex ? 1 : 0;\n        if (indexh > 0 || indexv > 0 || indexf !== undefined) url += indexh + hashIndexBase;\n        if (indexv > 0 || indexf !== undefined) url += '/' + (indexv + hashIndexBase);\n        if (indexf !== undefined) url += '/' + indexf;\n      }\n\n    return url;\n  }\n  /**\n   * Checks if the current or specified slide is vertical\n   * (nested within another slide).\n   *\n   * @param {HTMLElement} [slide=currentSlide] The slide to check\n   * orientation of\n   * @return {Boolean}\n   */\n\n\n  function isVerticalSlide(slide) {\n    // Prefer slide argument, otherwise use current slide\n    slide = slide ? slide : currentSlide;\n    return slide && slide.parentNode && !!slide.parentNode.nodeName.match(/section/i);\n  }\n  /**\n   * Handling the fullscreen functionality via the fullscreen API\n   *\n   * @see http://fullscreen.spec.whatwg.org/\n   * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n   */\n\n\n  function enterFullscreen() {\n    var element = document.documentElement; // Check which implementation is available\n\n    var requestMethod = element.requestFullscreen || element.webkitRequestFullscreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullscreen;\n\n    if (requestMethod) {\n      requestMethod.apply(element);\n    }\n  }\n  /**\n   * Shows the mouse pointer after it has been hidden with\n   * #hideCursor.\n   */\n\n\n  function showCursor() {\n    if (cursorHidden) {\n      cursorHidden = false;\n      dom.wrapper.style.cursor = '';\n    }\n  }\n  /**\n   * Hides the mouse pointer when it's on top of the .reveal\n   * container.\n   */\n\n\n  function hideCursor() {\n    if (cursorHidden === false) {\n      cursorHidden = true;\n      dom.wrapper.style.cursor = 'none';\n    }\n  }\n  /**\n   * Enters the paused mode which fades everything on screen to\n   * black.\n   */\n\n\n  function pause() {\n    if (config.pause) {\n      var wasPaused = dom.wrapper.classList.contains('paused');\n      cancelAutoSlide();\n      dom.wrapper.classList.add('paused');\n\n      if (wasPaused === false) {\n        dispatchEvent('paused');\n      }\n    }\n  }\n  /**\n   * Exits from the paused mode.\n   */\n\n\n  function resume() {\n    var wasPaused = dom.wrapper.classList.contains('paused');\n    dom.wrapper.classList.remove('paused');\n    cueAutoSlide();\n\n    if (wasPaused) {\n      dispatchEvent('resumed');\n    }\n  }\n  /**\n   * Toggles the paused mode on and off.\n   */\n\n\n  function togglePause(override) {\n    if (typeof override === 'boolean') {\n      override ? pause() : resume();\n    } else {\n      isPaused() ? resume() : pause();\n    }\n  }\n  /**\n   * Checks if we are currently in the paused mode.\n   *\n   * @return {Boolean}\n   */\n\n\n  function isPaused() {\n    return dom.wrapper.classList.contains('paused');\n  }\n  /**\n   * Toggles the auto slide mode on and off.\n   *\n   * @param {Boolean} [override] Flag which sets the desired state.\n   * True means autoplay starts, false means it stops.\n   */\n\n\n  function toggleAutoSlide(override) {\n    if (typeof override === 'boolean') {\n      override ? resumeAutoSlide() : pauseAutoSlide();\n    } else {\n      autoSlidePaused ? resumeAutoSlide() : pauseAutoSlide();\n    }\n  }\n  /**\n   * Checks if the auto slide mode is currently on.\n   *\n   * @return {Boolean}\n   */\n\n\n  function isAutoSliding() {\n    return !!(autoSlide && !autoSlidePaused);\n  }\n  /**\n   * Steps from the current point in the presentation to the\n   * slide which matches the specified horizontal and vertical\n   * indices.\n   *\n   * @param {number} [h=indexh] Horizontal index of the target slide\n   * @param {number} [v=indexv] Vertical index of the target slide\n   * @param {number} [f] Index of a fragment within the\n   * target slide to activate\n   * @param {number} [o] Origin for use in multimaster environments\n   */\n\n\n  function slide(h, v, f, o) {\n    // Remember where we were at before\n    previousSlide = currentSlide; // Query all horizontal slides in the deck\n\n    var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR); // Abort if there are no slides\n\n    if (horizontalSlides.length === 0) return; // If no vertical index is specified and the upcoming slide is a\n    // stack, resume at its previous vertical index\n\n    if (v === undefined && !isOverview()) {\n      v = getPreviousVerticalIndex(horizontalSlides[h]);\n    } // If we were on a vertical stack, remember what vertical index\n    // it was on so we can resume at the same position when returning\n\n\n    if (previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains('stack')) {\n      setPreviousVerticalIndex(previousSlide.parentNode, indexv);\n    } // Remember the state before this slide\n\n\n    var stateBefore = state.concat(); // Reset the state array\n\n    state.length = 0;\n    var indexhBefore = indexh || 0,\n        indexvBefore = indexv || 0; // Activate and transition to the new slide\n\n    indexh = updateSlides(HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h);\n    indexv = updateSlides(VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v); // Update the visibility of slides now that the indices have changed\n\n    updateSlidesVisibility();\n    layout(); // Update the overview if it's currently active\n\n    if (isOverview()) {\n      updateOverview();\n    } // Find the current horizontal slide and any possible vertical slides\n    // within it\n\n\n    var currentHorizontalSlide = horizontalSlides[indexh],\n        currentVerticalSlides = currentHorizontalSlide.querySelectorAll('section'); // Store references to the previous and current slides\n\n    currentSlide = currentVerticalSlides[indexv] || currentHorizontalSlide; // Show fragment, if specified\n\n    if (typeof f !== 'undefined') {\n      navigateFragment(f);\n    } // Dispatch an event if the slide changed\n\n\n    var slideChanged = indexh !== indexhBefore || indexv !== indexvBefore;\n\n    if (!slideChanged) {\n      // Ensure that the previous slide is never the same as the current\n      previousSlide = null;\n    } // Solves an edge case where the previous slide maintains the\n    // 'present' class when navigating between adjacent vertical\n    // stacks\n\n\n    if (previousSlide && previousSlide !== currentSlide) {\n      previousSlide.classList.remove('present');\n      previousSlide.setAttribute('aria-hidden', 'true'); // Reset all slides upon navigate to home\n      // Issue: #285\n\n      if (dom.wrapper.querySelector(HOME_SLIDE_SELECTOR).classList.contains('present')) {\n        // Launch async task\n        setTimeout(function () {\n          var slides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.stack')),\n              i;\n\n          for (i in slides) {\n            if (slides[i]) {\n              // Reset stack\n              setPreviousVerticalIndex(slides[i], 0);\n            }\n          }\n        }, 0);\n      }\n    } // Apply the new state\n\n\n    stateLoop: for (var i = 0, len = state.length; i < len; i++) {\n      // Check if this state existed on the previous slide. If it\n      // did, we will avoid adding it repeatedly\n      for (var j = 0; j < stateBefore.length; j++) {\n        if (stateBefore[j] === state[i]) {\n          stateBefore.splice(j, 1);\n          continue stateLoop;\n        }\n      }\n\n      document.documentElement.classList.add(state[i]); // Dispatch custom event matching the state's name\n\n      dispatchEvent(state[i]);\n    } // Clean up the remains of the previous state\n\n\n    while (stateBefore.length) {\n      document.documentElement.classList.remove(stateBefore.pop());\n    }\n\n    if (slideChanged) {\n      dispatchEvent('slidechanged', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'previousSlide': previousSlide,\n        'currentSlide': currentSlide,\n        'origin': o\n      });\n    } // Handle embedded content\n\n\n    if (slideChanged || !previousSlide) {\n      stopEmbeddedContent(previousSlide);\n      startEmbeddedContent(currentSlide);\n    } // Announce the current slide contents, for screen readers\n\n\n    dom.statusDiv.textContent = getStatusText(currentSlide);\n    updateControls();\n    updateProgress();\n    updateBackground();\n    updateParallax();\n    updateSlideNumber();\n    updateNotes();\n    updateFragments(); // Update the URL hash\n\n    writeURL();\n    cueAutoSlide();\n  }\n  /**\n   * Syncs the presentation with the current DOM. Useful\n   * when new slides or control elements are added or when\n   * the configuration has changed.\n   */\n\n\n  function sync() {\n    // Subscribe to input\n    removeEventListeners();\n    addEventListeners(); // Force a layout to make sure the current config is accounted for\n\n    layout(); // Reflect the current autoSlide value\n\n    autoSlide = config.autoSlide; // Start auto-sliding if it's enabled\n\n    cueAutoSlide(); // Re-create the slide backgrounds\n\n    createBackgrounds(); // Write the current hash to the URL\n\n    writeURL();\n    sortAllFragments();\n    updateControls();\n    updateProgress();\n    updateSlideNumber();\n    updateSlidesVisibility();\n    updateBackground(true);\n    updateNotesVisibility();\n    updateNotes();\n    formatEmbeddedContent(); // Start or stop embedded content depending on global config\n\n    if (config.autoPlayMedia === false) {\n      stopEmbeddedContent(currentSlide, {\n        unloadIframes: false\n      });\n    } else {\n      startEmbeddedContent(currentSlide);\n    }\n\n    if (isOverview()) {\n      layoutOverview();\n    }\n  }\n  /**\n   * Updates reveal.js to keep in sync with new slide attributes. For\n   * example, if you add a new `data-background-image` you can call\n   * this to have reveal.js render the new background image.\n   *\n   * Similar to #sync() but more efficient when you only need to\n   * refresh a specific slide.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function syncSlide(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide;\n    syncBackground(slide);\n    syncFragments(slide);\n    updateBackground();\n    updateNotes();\n    loadSlide(slide);\n  }\n  /**\n   * Formats the fragments on the given slide so that they have\n   * valid indices. Call this if fragments are changed in the DOM\n   * after reveal.js has already initialized.\n   *\n   * @param {HTMLElement} slide\n   * @return {Array} a list of the HTML fragments that were synced\n   */\n\n\n  function syncFragments(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide;\n    return sortFragments(slide.querySelectorAll('.fragment'));\n  }\n  /**\n   * Resets all vertical slides so that only the first\n   * is visible.\n   */\n\n\n  function resetVerticalSlides() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    horizontalSlides.forEach(function (horizontalSlide) {\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n      verticalSlides.forEach(function (verticalSlide, y) {\n        if (y > 0) {\n          verticalSlide.classList.remove('present');\n          verticalSlide.classList.remove('past');\n          verticalSlide.classList.add('future');\n          verticalSlide.setAttribute('aria-hidden', 'true');\n        }\n      });\n    });\n  }\n  /**\n   * Sorts and formats all of fragments in the\n   * presentation.\n   */\n\n\n  function sortAllFragments() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    horizontalSlides.forEach(function (horizontalSlide) {\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n      verticalSlides.forEach(function (verticalSlide, y) {\n        sortFragments(verticalSlide.querySelectorAll('.fragment'));\n      });\n      if (verticalSlides.length === 0) sortFragments(horizontalSlide.querySelectorAll('.fragment'));\n    });\n  }\n  /**\n   * Randomly shuffles all slides in the deck.\n   */\n\n\n  function shuffle() {\n    var slides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    slides.forEach(function (slide) {\n      // Insert this slide next to another random slide. This may\n      // cause the slide to insert before itself but that's fine.\n      dom.slides.insertBefore(slide, slides[Math.floor(Math.random() * slides.length)]);\n    });\n  }\n  /**\n   * Updates one dimension of slides by showing the slide\n   * with the specified index.\n   *\n   * @param {string} selector A CSS selector that will fetch\n   * the group of slides we are working with\n   * @param {number} index The index of the slide that should be\n   * shown\n   *\n   * @return {number} The index of the slide that is now shown,\n   * might differ from the passed in index if it was out of\n   * bounds.\n   */\n\n\n  function updateSlides(selector, index) {\n    // Select all slides and convert the NodeList result to\n    // an array\n    var slides = toArray(dom.wrapper.querySelectorAll(selector)),\n        slidesLength = slides.length;\n    var printMode = isPrintingPDF();\n\n    if (slidesLength) {\n      // Should the index loop?\n      if (config.loop) {\n        index %= slidesLength;\n\n        if (index < 0) {\n          index = slidesLength + index;\n        }\n      } // Enforce max and minimum index bounds\n\n\n      index = Math.max(Math.min(index, slidesLength - 1), 0);\n\n      for (var i = 0; i < slidesLength; i++) {\n        var element = slides[i];\n        var reverse = config.rtl && !isVerticalSlide(element);\n        element.classList.remove('past');\n        element.classList.remove('present');\n        element.classList.remove('future'); // http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\n        element.setAttribute('hidden', '');\n        element.setAttribute('aria-hidden', 'true'); // If this element contains vertical slides\n\n        if (element.querySelector('section')) {\n          element.classList.add('stack');\n        } // If we're printing static slides, all slides are \"present\"\n\n\n        if (printMode) {\n          element.classList.add('present');\n          continue;\n        }\n\n        if (i < index) {\n          // Any element previous to index is given the 'past' class\n          element.classList.add(reverse ? 'future' : 'past');\n\n          if (config.fragments) {\n            // Show all fragments in prior slides\n            toArray(element.querySelectorAll('.fragment')).forEach(function (fragment) {\n              fragment.classList.add('visible');\n              fragment.classList.remove('current-fragment');\n            });\n          }\n        } else if (i > index) {\n          // Any element subsequent to index is given the 'future' class\n          element.classList.add(reverse ? 'past' : 'future');\n\n          if (config.fragments) {\n            // Hide all fragments in future slides\n            toArray(element.querySelectorAll('.fragment.visible')).forEach(function (fragment) {\n              fragment.classList.remove('visible');\n              fragment.classList.remove('current-fragment');\n            });\n          }\n        }\n      } // Mark the current slide as present\n\n\n      slides[index].classList.add('present');\n      slides[index].removeAttribute('hidden');\n      slides[index].removeAttribute('aria-hidden'); // If this slide has a state associated with it, add it\n      // onto the current state of the deck\n\n      var slideState = slides[index].getAttribute('data-state');\n\n      if (slideState) {\n        state = state.concat(slideState.split(' '));\n      }\n    } else {\n      // Since there are no slides we can't be anywhere beyond the\n      // zeroth index\n      index = 0;\n    }\n\n    return index;\n  }\n  /**\n   * Optimization method; hide all slides that are far away\n   * from the present slide.\n   */\n\n\n  function updateSlidesVisibility() {\n    // Select all slides and convert the NodeList result to\n    // an array\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)),\n        horizontalSlidesLength = horizontalSlides.length,\n        distanceX,\n        distanceY;\n\n    if (horizontalSlidesLength && typeof indexh !== 'undefined') {\n      // The number of steps away from the present slide that will\n      // be visible\n      var viewDistance = isOverview() ? 10 : config.viewDistance; // Limit view distance on weaker devices\n\n      if (isMobileDevice) {\n        viewDistance = isOverview() ? 6 : 2;\n      } // All slides need to be visible when exporting to PDF\n\n\n      if (isPrintingPDF()) {\n        viewDistance = Number.MAX_VALUE;\n      }\n\n      for (var x = 0; x < horizontalSlidesLength; x++) {\n        var horizontalSlide = horizontalSlides[x];\n        var verticalSlides = toArray(horizontalSlide.querySelectorAll('section')),\n            verticalSlidesLength = verticalSlides.length; // Determine how far away this slide is from the present\n\n        distanceX = Math.abs((indexh || 0) - x) || 0; // If the presentation is looped, distance should measure\n        // 1 between the first and last slides\n\n        if (config.loop) {\n          distanceX = Math.abs(((indexh || 0) - x) % (horizontalSlidesLength - viewDistance)) || 0;\n        } // Show the horizontal slide if it's within the view distance\n\n\n        if (distanceX < viewDistance) {\n          loadSlide(horizontalSlide);\n        } else {\n          unloadSlide(horizontalSlide);\n        }\n\n        if (verticalSlidesLength) {\n          var oy = getPreviousVerticalIndex(horizontalSlide);\n\n          for (var y = 0; y < verticalSlidesLength; y++) {\n            var verticalSlide = verticalSlides[y];\n            distanceY = x === (indexh || 0) ? Math.abs((indexv || 0) - y) : Math.abs(y - oy);\n\n            if (distanceX + distanceY < viewDistance) {\n              loadSlide(verticalSlide);\n            } else {\n              unloadSlide(verticalSlide);\n            }\n          }\n        }\n      } // Flag if there are ANY vertical slides, anywhere in the deck\n\n\n      if (dom.wrapper.querySelectorAll('.slides>section>section').length) {\n        dom.wrapper.classList.add('has-vertical-slides');\n      } else {\n        dom.wrapper.classList.remove('has-vertical-slides');\n      } // Flag if there are ANY horizontal slides, anywhere in the deck\n\n\n      if (dom.wrapper.querySelectorAll('.slides>section').length > 1) {\n        dom.wrapper.classList.add('has-horizontal-slides');\n      } else {\n        dom.wrapper.classList.remove('has-horizontal-slides');\n      }\n    }\n  }\n  /**\n   * Pick up notes from the current slide and display them\n   * to the viewer.\n   *\n   * @see {@link config.showNotes}\n   */\n\n\n  function updateNotes() {\n    if (config.showNotes && dom.speakerNotes && currentSlide && !isPrintingPDF()) {\n      dom.speakerNotes.innerHTML = getSlideNotes() || '<span class=\"notes-placeholder\">No notes on this slide.</span>';\n    }\n  }\n  /**\n   * Updates the visibility of the speaker notes sidebar that\n   * is used to share annotated slides. The notes sidebar is\n   * only visible if showNotes is true and there are notes on\n   * one or more slides in the deck.\n   */\n\n\n  function updateNotesVisibility() {\n    if (config.showNotes && hasNotes()) {\n      dom.wrapper.classList.add('show-notes');\n    } else {\n      dom.wrapper.classList.remove('show-notes');\n    }\n  }\n  /**\n   * Checks if there are speaker notes for ANY slide in the\n   * presentation.\n   */\n\n\n  function hasNotes() {\n    return dom.slides.querySelectorAll('[data-notes], aside.notes').length > 0;\n  }\n  /**\n   * Updates the progress bar to reflect the current slide.\n   */\n\n\n  function updateProgress() {\n    // Update progress if enabled\n    if (config.progress && dom.progressbar) {\n      dom.progressbar.style.width = getProgress() * dom.wrapper.offsetWidth + 'px';\n    }\n  }\n  /**\n   * Updates the slide number to match the current slide.\n   */\n\n\n  function updateSlideNumber() {\n    // Update slide number if enabled\n    if (config.slideNumber && dom.slideNumber) {\n      var value;\n      var format = 'h.v';\n\n      if (typeof config.slideNumber === 'function') {\n        value = config.slideNumber();\n      } else {\n        // Check if a custom number format is available\n        if (typeof config.slideNumber === 'string') {\n          format = config.slideNumber;\n        } // If there are ONLY vertical slides in this deck, always use\n        // a flattened slide number\n\n\n        if (!/c/.test(format) && dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR).length === 1) {\n          format = 'c';\n        }\n\n        value = [];\n\n        switch (format) {\n          case 'c':\n            value.push(getSlidePastCount() + 1);\n            break;\n\n          case 'c/t':\n            value.push(getSlidePastCount() + 1, '/', getTotalSlides());\n            break;\n\n          case 'h/v':\n            value.push(indexh + 1);\n            if (isVerticalSlide()) value.push('/', indexv + 1);\n            break;\n\n          default:\n            value.push(indexh + 1);\n            if (isVerticalSlide()) value.push('.', indexv + 1);\n        }\n      }\n\n      dom.slideNumber.innerHTML = formatSlideNumber(value[0], value[1], value[2]);\n    }\n  }\n  /**\n   * Applies HTML formatting to a slide number before it's\n   * written to the DOM.\n   *\n   * @param {number} a Current slide\n   * @param {string} delimiter Character to separate slide numbers\n   * @param {(number|*)} b Total slides\n   * @return {string} HTML string fragment\n   */\n\n\n  function formatSlideNumber(a, delimiter, b) {\n    var url = '#' + locationHash();\n\n    if (typeof b === 'number' && !isNaN(b)) {\n      return '<a href=\"' + url + '\">' + '<span class=\"slide-number-a\">' + a + '</span>' + '<span class=\"slide-number-delimiter\">' + delimiter + '</span>' + '<span class=\"slide-number-b\">' + b + '</span>' + '</a>';\n    } else {\n      return '<a href=\"' + url + '\">' + '<span class=\"slide-number-a\">' + a + '</span>' + '</a>';\n    }\n  }\n  /**\n   * Updates the state of all control/navigation arrows.\n   */\n\n\n  function updateControls() {\n    var routes = availableRoutes();\n    var fragments = availableFragments(); // Remove the 'enabled' class from all directions\n\n    dom.controlsLeft.concat(dom.controlsRight).concat(dom.controlsUp).concat(dom.controlsDown).concat(dom.controlsPrev).concat(dom.controlsNext).forEach(function (node) {\n      node.classList.remove('enabled');\n      node.classList.remove('fragmented'); // Set 'disabled' attribute on all directions\n\n      node.setAttribute('disabled', 'disabled');\n    }); // Add the 'enabled' class to the available routes; remove 'disabled' attribute to enable buttons\n\n    if (routes.left) dom.controlsLeft.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.right) dom.controlsRight.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.up) dom.controlsUp.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.down) dom.controlsDown.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    }); // Prev/next buttons\n\n    if (routes.left || routes.up) dom.controlsPrev.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.right || routes.down) dom.controlsNext.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    }); // Highlight fragment directions\n\n    if (currentSlide) {\n      // Always apply fragment decorator to prev/next buttons\n      if (fragments.prev) dom.controlsPrev.forEach(function (el) {\n        el.classList.add('fragmented', 'enabled');\n        el.removeAttribute('disabled');\n      });\n      if (fragments.next) dom.controlsNext.forEach(function (el) {\n        el.classList.add('fragmented', 'enabled');\n        el.removeAttribute('disabled');\n      }); // Apply fragment decorators to directional buttons based on\n      // what slide axis they are in\n\n      if (isVerticalSlide(currentSlide)) {\n        if (fragments.prev) dom.controlsUp.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n        if (fragments.next) dom.controlsDown.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n      } else {\n        if (fragments.prev) dom.controlsLeft.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n        if (fragments.next) dom.controlsRight.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n      }\n    }\n\n    if (config.controlsTutorial) {\n      // Highlight control arrows with an animation to ensure\n      // that the viewer knows how to navigate\n      if (!hasNavigatedDown && routes.down) {\n        dom.controlsDownArrow.classList.add('highlight');\n      } else {\n        dom.controlsDownArrow.classList.remove('highlight');\n\n        if (!hasNavigatedRight && routes.right && indexv === 0) {\n          dom.controlsRightArrow.classList.add('highlight');\n        } else {\n          dom.controlsRightArrow.classList.remove('highlight');\n        }\n      }\n    }\n  }\n  /**\n   * Updates the background elements to reflect the current\n   * slide.\n   *\n   * @param {boolean} includeAll If true, the backgrounds of\n   * all vertical slides (not just the present) will be updated.\n   */\n\n\n  function updateBackground(includeAll) {\n    var currentBackground = null; // Reverse past/future classes when in RTL mode\n\n    var horizontalPast = config.rtl ? 'future' : 'past',\n        horizontalFuture = config.rtl ? 'past' : 'future'; // Update the classes of all backgrounds to match the\n    // states of their slides (past/present/future)\n\n    toArray(dom.background.childNodes).forEach(function (backgroundh, h) {\n      backgroundh.classList.remove('past');\n      backgroundh.classList.remove('present');\n      backgroundh.classList.remove('future');\n\n      if (h < indexh) {\n        backgroundh.classList.add(horizontalPast);\n      } else if (h > indexh) {\n        backgroundh.classList.add(horizontalFuture);\n      } else {\n        backgroundh.classList.add('present'); // Store a reference to the current background element\n\n        currentBackground = backgroundh;\n      }\n\n      if (includeAll || h === indexh) {\n        toArray(backgroundh.querySelectorAll('.slide-background')).forEach(function (backgroundv, v) {\n          backgroundv.classList.remove('past');\n          backgroundv.classList.remove('present');\n          backgroundv.classList.remove('future');\n\n          if (v < indexv) {\n            backgroundv.classList.add('past');\n          } else if (v > indexv) {\n            backgroundv.classList.add('future');\n          } else {\n            backgroundv.classList.add('present'); // Only if this is the present horizontal and vertical slide\n\n            if (h === indexh) currentBackground = backgroundv;\n          }\n        });\n      }\n    }); // Stop content inside of previous backgrounds\n\n    if (previousBackground) {\n      stopEmbeddedContent(previousBackground);\n    } // Start content in the current background\n\n\n    if (currentBackground) {\n      startEmbeddedContent(currentBackground);\n      var currentBackgroundContent = currentBackground.querySelector('.slide-background-content');\n\n      if (currentBackgroundContent) {\n        var backgroundImageURL = currentBackgroundContent.style.backgroundImage || ''; // Restart GIFs (doesn't work in Firefox)\n\n        if (/\\.gif/i.test(backgroundImageURL)) {\n          currentBackgroundContent.style.backgroundImage = '';\n          window.getComputedStyle(currentBackgroundContent).opacity;\n          currentBackgroundContent.style.backgroundImage = backgroundImageURL;\n        }\n      } // Don't transition between identical backgrounds. This\n      // prevents unwanted flicker.\n\n\n      var previousBackgroundHash = previousBackground ? previousBackground.getAttribute('data-background-hash') : null;\n      var currentBackgroundHash = currentBackground.getAttribute('data-background-hash');\n\n      if (currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== previousBackground) {\n        dom.background.classList.add('no-transition');\n      }\n\n      previousBackground = currentBackground;\n    } // If there's a background brightness flag for this slide,\n    // bubble it to the .reveal container\n\n\n    if (currentSlide) {\n      ['has-light-background', 'has-dark-background'].forEach(function (classToBubble) {\n        if (currentSlide.classList.contains(classToBubble)) {\n          dom.wrapper.classList.add(classToBubble);\n        } else {\n          dom.wrapper.classList.remove(classToBubble);\n        }\n      });\n    } // Allow the first background to apply without transition\n\n\n    setTimeout(function () {\n      dom.background.classList.remove('no-transition');\n    }, 1);\n  }\n  /**\n   * Updates the position of the parallax background based\n   * on the current slide index.\n   */\n\n\n  function updateParallax() {\n    if (config.parallaxBackgroundImage) {\n      var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n          verticalSlides = dom.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n      var backgroundSize = dom.background.style.backgroundSize.split(' '),\n          backgroundWidth,\n          backgroundHeight;\n\n      if (backgroundSize.length === 1) {\n        backgroundWidth = backgroundHeight = parseInt(backgroundSize[0], 10);\n      } else {\n        backgroundWidth = parseInt(backgroundSize[0], 10);\n        backgroundHeight = parseInt(backgroundSize[1], 10);\n      }\n\n      var slideWidth = dom.background.offsetWidth,\n          horizontalSlideCount = horizontalSlides.length,\n          horizontalOffsetMultiplier,\n          horizontalOffset;\n\n      if (typeof config.parallaxBackgroundHorizontal === 'number') {\n        horizontalOffsetMultiplier = config.parallaxBackgroundHorizontal;\n      } else {\n        horizontalOffsetMultiplier = horizontalSlideCount > 1 ? (backgroundWidth - slideWidth) / (horizontalSlideCount - 1) : 0;\n      }\n\n      horizontalOffset = horizontalOffsetMultiplier * indexh * -1;\n      var slideHeight = dom.background.offsetHeight,\n          verticalSlideCount = verticalSlides.length,\n          verticalOffsetMultiplier,\n          verticalOffset;\n\n      if (typeof config.parallaxBackgroundVertical === 'number') {\n        verticalOffsetMultiplier = config.parallaxBackgroundVertical;\n      } else {\n        verticalOffsetMultiplier = (backgroundHeight - slideHeight) / (verticalSlideCount - 1);\n      }\n\n      verticalOffset = verticalSlideCount > 0 ? verticalOffsetMultiplier * indexv : 0;\n      dom.background.style.backgroundPosition = horizontalOffset + 'px ' + -verticalOffset + 'px';\n    }\n  }\n  /**\n   * Should the given element be preloaded?\n   * Decides based on local element attributes and global config.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function shouldPreload(element) {\n    // Prefer an explicit global preload setting\n    var preload = config.preloadIframes; // If no global setting is available, fall back on the element's\n    // own preload setting\n\n    if (typeof preload !== 'boolean') {\n      preload = element.hasAttribute('data-preload');\n    }\n\n    return preload;\n  }\n  /**\n   * Called when the given slide is within the configured view\n   * distance. Shows the slide element and loads any content\n   * that is set to load lazily (data-src).\n   *\n   * @param {HTMLElement} slide Slide to show\n   */\n\n\n  function loadSlide(slide, options) {\n    options = options || {}; // Show the slide element\n\n    slide.style.display = config.display; // Media elements with data-src attributes\n\n    toArray(slide.querySelectorAll('img[data-src], video[data-src], audio[data-src], iframe[data-src]')).forEach(function (element) {\n      if (element.tagName !== 'IFRAME' || shouldPreload(element)) {\n        element.setAttribute('src', element.getAttribute('data-src'));\n        element.setAttribute('data-lazy-loaded', '');\n        element.removeAttribute('data-src');\n      }\n    }); // Media elements with <source> children\n\n    toArray(slide.querySelectorAll('video, audio')).forEach(function (media) {\n      var sources = 0;\n      toArray(media.querySelectorAll('source[data-src]')).forEach(function (source) {\n        source.setAttribute('src', source.getAttribute('data-src'));\n        source.removeAttribute('data-src');\n        source.setAttribute('data-lazy-loaded', '');\n        sources += 1;\n      }); // If we rewrote sources for this video/audio element, we need\n      // to manually tell it to load from its new origin\n\n      if (sources > 0) {\n        media.load();\n      }\n    }); // Show the corresponding background element\n\n    var background = slide.slideBackgroundElement;\n\n    if (background) {\n      background.style.display = 'block';\n      var backgroundContent = slide.slideBackgroundContentElement; // If the background contains media, load it\n\n      if (background.hasAttribute('data-loaded') === false) {\n        background.setAttribute('data-loaded', 'true');\n        var backgroundImage = slide.getAttribute('data-background-image'),\n            backgroundVideo = slide.getAttribute('data-background-video'),\n            backgroundVideoLoop = slide.hasAttribute('data-background-video-loop'),\n            backgroundVideoMuted = slide.hasAttribute('data-background-video-muted'),\n            backgroundIframe = slide.getAttribute('data-background-iframe'); // Images\n\n        if (backgroundImage) {\n          backgroundContent.style.backgroundImage = 'url(' + encodeURI(backgroundImage) + ')';\n        } // Videos\n        else if (backgroundVideo && !isSpeakerNotes()) {\n            var video = document.createElement('video');\n\n            if (backgroundVideoLoop) {\n              video.setAttribute('loop', '');\n            }\n\n            if (backgroundVideoMuted) {\n              video.muted = true;\n            } // Inline video playback works (at least in Mobile Safari) as\n            // long as the video is muted and the `playsinline` attribute is\n            // present\n\n\n            if (isMobileDevice) {\n              video.muted = true;\n              video.autoplay = true;\n              video.setAttribute('playsinline', '');\n            } // Support comma separated lists of video sources\n\n\n            backgroundVideo.split(',').forEach(function (source) {\n              video.innerHTML += '<source src=\"' + source + '\">';\n            });\n            backgroundContent.appendChild(video);\n          } // Iframes\n          else if (backgroundIframe && options.excludeIframes !== true) {\n              var iframe = document.createElement('iframe');\n              iframe.setAttribute('allowfullscreen', '');\n              iframe.setAttribute('mozallowfullscreen', '');\n              iframe.setAttribute('webkitallowfullscreen', ''); // Only load autoplaying content when the slide is shown to\n              // avoid having it play in the background\n\n              if (/autoplay=(1|true|yes)/gi.test(backgroundIframe)) {\n                iframe.setAttribute('data-src', backgroundIframe);\n              } else {\n                iframe.setAttribute('src', backgroundIframe);\n              }\n\n              iframe.style.width = '100%';\n              iframe.style.height = '100%';\n              iframe.style.maxHeight = '100%';\n              iframe.style.maxWidth = '100%';\n              backgroundContent.appendChild(iframe);\n            }\n      }\n    }\n  }\n  /**\n   * Unloads and hides the given slide. This is called when the\n   * slide is moved outside of the configured view distance.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function unloadSlide(slide) {\n    // Hide the slide element\n    slide.style.display = 'none'; // Hide the corresponding background element\n\n    var background = getSlideBackground(slide);\n\n    if (background) {\n      background.style.display = 'none';\n    } // Reset lazy-loaded media elements with src attributes\n\n\n    toArray(slide.querySelectorAll('video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]')).forEach(function (element) {\n      element.setAttribute('data-src', element.getAttribute('src'));\n      element.removeAttribute('src');\n    }); // Reset lazy-loaded media elements with <source> children\n\n    toArray(slide.querySelectorAll('video[data-lazy-loaded] source[src], audio source[src]')).forEach(function (source) {\n      source.setAttribute('data-src', source.getAttribute('src'));\n      source.removeAttribute('src');\n    });\n  }\n  /**\n   * Determine what available routes there are for navigation.\n   *\n   * @return {{left: boolean, right: boolean, up: boolean, down: boolean}}\n   */\n\n\n  function availableRoutes() {\n    var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n        verticalSlides = dom.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n    var routes = {\n      left: indexh > 0,\n      right: indexh < horizontalSlides.length - 1,\n      up: indexv > 0,\n      down: indexv < verticalSlides.length - 1\n    }; // Looped presentations can always be navigated as long as\n    // there are slides available\n\n    if (config.loop) {\n      if (horizontalSlides.length > 1) {\n        routes.left = true;\n        routes.right = true;\n      }\n\n      if (verticalSlides.length > 1) {\n        routes.up = true;\n        routes.down = true;\n      }\n    } // Reverse horizontal controls for rtl\n\n\n    if (config.rtl) {\n      var left = routes.left;\n      routes.left = routes.right;\n      routes.right = left;\n    }\n\n    return routes;\n  }\n  /**\n   * Returns an object describing the available fragment\n   * directions.\n   *\n   * @return {{prev: boolean, next: boolean}}\n   */\n\n\n  function availableFragments() {\n    if (currentSlide && config.fragments) {\n      var fragments = currentSlide.querySelectorAll('.fragment');\n      var hiddenFragments = currentSlide.querySelectorAll('.fragment:not(.visible)');\n      return {\n        prev: fragments.length - hiddenFragments.length > 0,\n        next: !!hiddenFragments.length\n      };\n    } else {\n      return {\n        prev: false,\n        next: false\n      };\n    }\n  }\n  /**\n   * Enforces origin-specific format rules for embedded media.\n   */\n\n\n  function formatEmbeddedContent() {\n    var _appendParamToIframeSource = function _appendParamToIframeSource(sourceAttribute, sourceURL, param) {\n      toArray(dom.slides.querySelectorAll('iframe[' + sourceAttribute + '*=\"' + sourceURL + '\"]')).forEach(function (el) {\n        var src = el.getAttribute(sourceAttribute);\n\n        if (src && src.indexOf(param) === -1) {\n          el.setAttribute(sourceAttribute, src + (!/\\?/.test(src) ? '?' : '&') + param);\n        }\n      });\n    }; // YouTube frames must include \"?enablejsapi=1\"\n\n\n    _appendParamToIframeSource('src', 'youtube.com/embed/', 'enablejsapi=1');\n\n    _appendParamToIframeSource('data-src', 'youtube.com/embed/', 'enablejsapi=1'); // Vimeo frames must include \"?api=1\"\n\n\n    _appendParamToIframeSource('src', 'player.vimeo.com/', 'api=1');\n\n    _appendParamToIframeSource('data-src', 'player.vimeo.com/', 'api=1');\n  }\n  /**\n   * Start playback of any embedded content inside of\n   * the given element.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function startEmbeddedContent(element) {\n    if (element && !isSpeakerNotes()) {\n      // Restart GIFs\n      toArray(element.querySelectorAll('img[src$=\".gif\"]')).forEach(function (el) {\n        // Setting the same unchanged source like this was confirmed\n        // to work in Chrome, FF & Safari\n        el.setAttribute('src', el.getAttribute('src'));\n      }); // HTML5 media elements\n\n      toArray(element.querySelectorAll('video, audio')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        } // Prefer an explicit global autoplay setting\n\n\n        var autoplay = config.autoPlayMedia; // If no global setting is available, fall back on the element's\n        // own autoplay setting\n\n        if (typeof autoplay !== 'boolean') {\n          autoplay = el.hasAttribute('data-autoplay') || !!closestParent(el, '.slide-background');\n        }\n\n        if (autoplay && typeof el.play === 'function') {\n          // If the media is ready, start playback\n          if (el.readyState > 1) {\n            startEmbeddedMedia({\n              target: el\n            });\n          } // Mobile devices never fire a loaded event so instead\n          // of waiting, we initiate playback\n          else if (isMobileDevice) {\n              var promise = el.play(); // If autoplay does not work, ensure that the controls are visible so\n              // that the viewer can start the media on their own\n\n              if (promise && typeof promise[\"catch\"] === 'function' && el.controls === false) {\n                promise[\"catch\"](function () {\n                  el.controls = true; // Once the video does start playing, hide the controls again\n\n                  el.addEventListener('play', function () {\n                    el.controls = false;\n                  });\n                });\n              }\n            } // If the media isn't loaded, wait before playing\n            else {\n                el.removeEventListener('loadeddata', startEmbeddedMedia); // remove first to avoid dupes\n\n                el.addEventListener('loadeddata', startEmbeddedMedia);\n              }\n        }\n      }); // Normal iframes\n\n      toArray(element.querySelectorAll('iframe[src]')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        }\n\n        startEmbeddedIframe({\n          target: el\n        });\n      }); // Lazy loading iframes\n\n      toArray(element.querySelectorAll('iframe[data-src]')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        }\n\n        if (el.getAttribute('src') !== el.getAttribute('data-src')) {\n          el.removeEventListener('load', startEmbeddedIframe); // remove first to avoid dupes\n\n          el.addEventListener('load', startEmbeddedIframe);\n          el.setAttribute('src', el.getAttribute('data-src'));\n        }\n      });\n    }\n  }\n  /**\n   * Starts playing an embedded video/audio element after\n   * it has finished loading.\n   *\n   * @param {object} event\n   */\n\n\n  function startEmbeddedMedia(event) {\n    var isAttachedToDOM = !!closestParent(event.target, 'html'),\n        isVisible = !!closestParent(event.target, '.present');\n\n    if (isAttachedToDOM && isVisible) {\n      event.target.currentTime = 0;\n      event.target.play();\n    }\n\n    event.target.removeEventListener('loadeddata', startEmbeddedMedia);\n  }\n  /**\n   * \"Starts\" the content of an embedded iframe using the\n   * postMessage API.\n   *\n   * @param {object} event\n   */\n\n\n  function startEmbeddedIframe(event) {\n    var iframe = event.target;\n\n    if (iframe && iframe.contentWindow) {\n      var isAttachedToDOM = !!closestParent(event.target, 'html'),\n          isVisible = !!closestParent(event.target, '.present');\n\n      if (isAttachedToDOM && isVisible) {\n        // Prefer an explicit global autoplay setting\n        var autoplay = config.autoPlayMedia; // If no global setting is available, fall back on the element's\n        // own autoplay setting\n\n        if (typeof autoplay !== 'boolean') {\n          autoplay = iframe.hasAttribute('data-autoplay') || !!closestParent(iframe, '.slide-background');\n        } // YouTube postMessage API\n\n\n        if (/youtube\\.com\\/embed\\//.test(iframe.getAttribute('src')) && autoplay) {\n          iframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n        } // Vimeo postMessage API\n        else if (/player\\.vimeo\\.com\\//.test(iframe.getAttribute('src')) && autoplay) {\n            iframe.contentWindow.postMessage('{\"method\":\"play\"}', '*');\n          } // Generic postMessage API\n          else {\n              iframe.contentWindow.postMessage('slide:start', '*');\n            }\n      }\n    }\n  }\n  /**\n   * Stop playback of any embedded content inside of\n   * the targeted slide.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function stopEmbeddedContent(element, options) {\n    options = extend({\n      // Defaults\n      unloadIframes: true\n    }, options || {});\n\n    if (element && element.parentNode) {\n      // HTML5 media elements\n      toArray(element.querySelectorAll('video, audio')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && typeof el.pause === 'function') {\n          el.setAttribute('data-paused-by-reveal', '');\n          el.pause();\n        }\n      }); // Generic postMessage API for non-lazy loaded iframes\n\n      toArray(element.querySelectorAll('iframe')).forEach(function (el) {\n        if (el.contentWindow) el.contentWindow.postMessage('slide:stop', '*');\n        el.removeEventListener('load', startEmbeddedIframe);\n      }); // YouTube postMessage API\n\n      toArray(element.querySelectorAll('iframe[src*=\"youtube.com/embed/\"]')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && el.contentWindow && typeof el.contentWindow.postMessage === 'function') {\n          el.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n        }\n      }); // Vimeo postMessage API\n\n      toArray(element.querySelectorAll('iframe[src*=\"player.vimeo.com/\"]')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && el.contentWindow && typeof el.contentWindow.postMessage === 'function') {\n          el.contentWindow.postMessage('{\"method\":\"pause\"}', '*');\n        }\n      });\n\n      if (options.unloadIframes === true) {\n        // Unload lazy-loaded iframes\n        toArray(element.querySelectorAll('iframe[data-src]')).forEach(function (el) {\n          // Only removing the src doesn't actually unload the frame\n          // in all browsers (Firefox) so we set it to blank first\n          el.setAttribute('src', 'about:blank');\n          el.removeAttribute('src');\n        });\n      }\n    }\n  }\n  /**\n   * Returns the number of past slides. This can be used as a global\n   * flattened index for slides.\n   *\n   * @return {number} Past slide count\n   */\n\n\n  function getSlidePastCount() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)); // The number of past slides\n\n    var pastCount = 0; // Step through all slides and count the past ones\n\n    mainLoop: for (var i = 0; i < horizontalSlides.length; i++) {\n      var horizontalSlide = horizontalSlides[i];\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n\n      for (var j = 0; j < verticalSlides.length; j++) {\n        // Stop as soon as we arrive at the present\n        if (verticalSlides[j].classList.contains('present')) {\n          break mainLoop;\n        }\n\n        pastCount++;\n      } // Stop as soon as we arrive at the present\n\n\n      if (horizontalSlide.classList.contains('present')) {\n        break;\n      } // Don't count the wrapping section for vertical slides\n\n\n      if (horizontalSlide.classList.contains('stack') === false) {\n        pastCount++;\n      }\n    }\n\n    return pastCount;\n  }\n  /**\n   * Returns a value ranging from 0-1 that represents\n   * how far into the presentation we have navigated.\n   *\n   * @return {number}\n   */\n\n\n  function getProgress() {\n    // The number of past and total slides\n    var totalCount = getTotalSlides();\n    var pastCount = getSlidePastCount();\n\n    if (currentSlide) {\n      var allFragments = currentSlide.querySelectorAll('.fragment'); // If there are fragments in the current slide those should be\n      // accounted for in the progress.\n\n      if (allFragments.length > 0) {\n        var visibleFragments = currentSlide.querySelectorAll('.fragment.visible'); // This value represents how big a portion of the slide progress\n        // that is made up by its fragments (0-1)\n\n        var fragmentWeight = 0.9; // Add fragment progress to the past slide count\n\n        pastCount += visibleFragments.length / allFragments.length * fragmentWeight;\n      }\n    }\n\n    return Math.min(pastCount / (totalCount - 1), 1);\n  }\n  /**\n   * Checks if this presentation is running inside of the\n   * speaker notes window.\n   *\n   * @return {boolean}\n   */\n\n\n  function isSpeakerNotes() {\n    return !!window.location.search.match(/receiver/gi);\n  }\n  /**\n   * Reads the current URL (hash) and navigates accordingly.\n   */\n\n\n  function readURL() {\n    var hash = window.location.hash; // Attempt to parse the hash as either an index or name\n\n    var bits = hash.slice(2).split('/'),\n        name = hash.replace(/#|\\//gi, ''); // If the first bit is not fully numeric and there is a name we\n    // can assume that this is a named link\n\n    if (!/^[0-9]*$/.test(bits[0]) && name.length) {\n      var element; // Ensure the named link is a valid HTML ID attribute\n\n      try {\n        element = document.getElementById(decodeURIComponent(name));\n      } catch (error) {} // Ensure that we're not already on a slide with the same name\n\n\n      var isSameNameAsCurrentSlide = currentSlide ? currentSlide.getAttribute('id') === name : false;\n\n      if (element) {\n        // If the slide exists and is not the current slide...\n        if (!isSameNameAsCurrentSlide) {\n          // ...find the position of the named slide and navigate to it\n          var indices = Reveal.getIndices(element);\n          slide(indices.h, indices.v);\n        }\n      } // If the slide doesn't exist, navigate to the current slide\n      else {\n          slide(indexh || 0, indexv || 0);\n        }\n    } else {\n      var hashIndexBase = config.hashOneBasedIndex ? 1 : 0; // Read the index components of the hash\n\n      var h = parseInt(bits[0], 10) - hashIndexBase || 0,\n          v = parseInt(bits[1], 10) - hashIndexBase || 0,\n          f;\n\n      if (config.fragmentInURL) {\n        f = parseInt(bits[2], 10);\n\n        if (isNaN(f)) {\n          f = undefined;\n        }\n      }\n\n      if (h !== indexh || v !== indexv || f !== undefined) {\n        slide(h, v, f);\n      }\n    }\n  }\n  /**\n   * Updates the page URL (hash) to reflect the current\n   * state.\n   *\n   * @param {number} delay The time in ms to wait before\n   * writing the hash\n   */\n\n\n  function writeURL(delay) {\n    // Make sure there's never more than one timeout running\n    clearTimeout(writeURLTimeout); // If a delay is specified, timeout this call\n\n    if (typeof delay === 'number') {\n      writeURLTimeout = setTimeout(writeURL, delay);\n    } else if (currentSlide) {\n      // If we're configured to push to history OR the history\n      // API is not avaialble.\n      if (config.history || !window.history) {\n        window.location.hash = locationHash();\n      } // If we're configured to reflect the current slide in the\n      // URL without pushing to history.\n      else if (config.hash) {\n          window.history.replaceState(null, null, '#' + locationHash());\n        } // If history and hash are both disabled, a hash may still\n        // be added to the URL by clicking on a href with a hash\n        // target. Counter this by always removing the hash.\n        else {\n            window.history.replaceState(null, null, window.location.pathname + window.location.search);\n          }\n    }\n  }\n  /**\n   * Retrieves the h/v location and fragment of the current,\n   * or specified, slide.\n   *\n   * @param {HTMLElement} [slide] If specified, the returned\n   * index will be for this slide rather than the currently\n   * active one\n   *\n   * @return {{h: number, v: number, f: number}}\n   */\n\n\n  function getIndices(slide) {\n    // By default, return the current indices\n    var h = indexh,\n        v = indexv,\n        f; // If a slide is specified, return the indices of that slide\n\n    if (slide) {\n      var isVertical = isVerticalSlide(slide);\n      var slideh = isVertical ? slide.parentNode : slide; // Select all horizontal slides\n\n      var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)); // Now that we know which the horizontal slide is, get its index\n\n      h = Math.max(horizontalSlides.indexOf(slideh), 0); // Assume we're not vertical\n\n      v = undefined; // If this is a vertical slide, grab the vertical index\n\n      if (isVertical) {\n        v = Math.max(toArray(slide.parentNode.querySelectorAll('section')).indexOf(slide), 0);\n      }\n    }\n\n    if (!slide && currentSlide) {\n      var hasFragments = currentSlide.querySelectorAll('.fragment').length > 0;\n\n      if (hasFragments) {\n        var currentFragment = currentSlide.querySelector('.current-fragment');\n\n        if (currentFragment && currentFragment.hasAttribute('data-fragment-index')) {\n          f = parseInt(currentFragment.getAttribute('data-fragment-index'), 10);\n        } else {\n          f = currentSlide.querySelectorAll('.fragment.visible').length - 1;\n        }\n      }\n    }\n\n    return {\n      h: h,\n      v: v,\n      f: f\n    };\n  }\n  /**\n   * Retrieves all slides in this presentation.\n   */\n\n\n  function getSlides() {\n    return toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ':not(.stack)'));\n  }\n  /**\n   * Returns an array of objects where each object represents the\n   * attributes on its respective slide.\n   */\n\n\n  function getSlidesAttributes() {\n    return getSlides().map(function (slide) {\n      var attributes = {};\n\n      for (var i = 0; i < slide.attributes.length; i++) {\n        var attribute = slide.attributes[i];\n        attributes[attribute.name] = attribute.value;\n      }\n\n      return attributes;\n    });\n  }\n  /**\n   * Retrieves the total number of slides in this presentation.\n   *\n   * @return {number}\n   */\n\n\n  function getTotalSlides() {\n    return getSlides().length;\n  }\n  /**\n   * Returns the slide element matching the specified index.\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function getSlide(x, y) {\n    var horizontalSlide = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)[x];\n    var verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll('section');\n\n    if (verticalSlides && verticalSlides.length && typeof y === 'number') {\n      return verticalSlides ? verticalSlides[y] : undefined;\n    }\n\n    return horizontalSlide;\n  }\n  /**\n   * Returns the background element for the given slide.\n   * All slides, even the ones with no background properties\n   * defined, have a background element so as long as the\n   * index is valid an element will be returned.\n   *\n   * @param {mixed} x Horizontal background index OR a slide\n   * HTML element\n   * @param {number} y Vertical background index\n   * @return {(HTMLElement[]|*)}\n   */\n\n\n  function getSlideBackground(x, y) {\n    var slide = typeof x === 'number' ? getSlide(x, y) : x;\n\n    if (slide) {\n      return slide.slideBackgroundElement;\n    }\n\n    return undefined;\n  }\n  /**\n   * Retrieves the speaker notes from a slide. Notes can be\n   * defined in two ways:\n   * 1. As a data-notes attribute on the slide <section>\n   * 2. As an <aside class=\"notes\"> inside of the slide\n   *\n   * @param {HTMLElement} [slide=currentSlide]\n   * @return {(string|null)}\n   */\n\n\n  function getSlideNotes(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide; // Notes can be specified via the data-notes attribute...\n\n    if (slide.hasAttribute('data-notes')) {\n      return slide.getAttribute('data-notes');\n    } // ... or using an <aside class=\"notes\"> element\n\n\n    var notesElement = slide.querySelector('aside.notes');\n\n    if (notesElement) {\n      return notesElement.innerHTML;\n    }\n\n    return null;\n  }\n  /**\n   * Retrieves the current state of the presentation as\n   * an object. This state can then be restored at any\n   * time.\n   *\n   * @return {{indexh: number, indexv: number, indexf: number, paused: boolean, overview: boolean}}\n   */\n\n\n  function getState() {\n    var indices = getIndices();\n    return {\n      indexh: indices.h,\n      indexv: indices.v,\n      indexf: indices.f,\n      paused: isPaused(),\n      overview: isOverview()\n    };\n  }\n  /**\n   * Restores the presentation to the given state.\n   *\n   * @param {object} state As generated by getState()\n   * @see {@link getState} generates the parameter `state`\n   */\n\n\n  function setState(state) {\n    if (typeof state === 'object') {\n      slide(deserialize(state.indexh), deserialize(state.indexv), deserialize(state.indexf));\n      var pausedFlag = deserialize(state.paused),\n          overviewFlag = deserialize(state.overview);\n\n      if (typeof pausedFlag === 'boolean' && pausedFlag !== isPaused()) {\n        togglePause(pausedFlag);\n      }\n\n      if (typeof overviewFlag === 'boolean' && overviewFlag !== isOverview()) {\n        toggleOverview(overviewFlag);\n      }\n    }\n  }\n  /**\n   * Return a sorted fragments list, ordered by an increasing\n   * \"data-fragment-index\" attribute.\n   *\n   * Fragments will be revealed in the order that they are returned by\n   * this function, so you can use the index attributes to control the\n   * order of fragment appearance.\n   *\n   * To maintain a sensible default fragment order, fragments are presumed\n   * to be passed in document order. This function adds a \"fragment-index\"\n   * attribute to each node if such an attribute is not already present,\n   * and sets that attribute to an integer value which is the position of\n   * the fragment within the fragments list.\n   *\n   * @param {object[]|*} fragments\n   * @param {boolean} grouped If true the returned array will contain\n   * nested arrays for all fragments with the same index\n   * @return {object[]} sorted Sorted array of fragments\n   */\n\n\n  function sortFragments(fragments, grouped) {\n    fragments = toArray(fragments);\n    var ordered = [],\n        unordered = [],\n        sorted = []; // Group ordered and unordered elements\n\n    fragments.forEach(function (fragment, i) {\n      if (fragment.hasAttribute('data-fragment-index')) {\n        var index = parseInt(fragment.getAttribute('data-fragment-index'), 10);\n\n        if (!ordered[index]) {\n          ordered[index] = [];\n        }\n\n        ordered[index].push(fragment);\n      } else {\n        unordered.push([fragment]);\n      }\n    }); // Append fragments without explicit indices in their\n    // DOM order\n\n    ordered = ordered.concat(unordered); // Manually count the index up per group to ensure there\n    // are no gaps\n\n    var index = 0; // Push all fragments in their sorted order to an array,\n    // this flattens the groups\n\n    ordered.forEach(function (group) {\n      group.forEach(function (fragment) {\n        sorted.push(fragment);\n        fragment.setAttribute('data-fragment-index', index);\n      });\n      index++;\n    });\n    return grouped === true ? ordered : sorted;\n  }\n  /**\n   * Refreshes the fragments on the current slide so that they\n   * have the appropriate classes (.visible + .current-fragment).\n   *\n   * @param {number} [index] The index of the current fragment\n   * @param {array} [fragments] Array containing all fragments\n   * in the current slide\n   *\n   * @return {{shown: array, hidden: array}}\n   */\n\n\n  function updateFragments(index, fragments) {\n    var changedFragments = {\n      shown: [],\n      hidden: []\n    };\n\n    if (currentSlide && config.fragments) {\n      fragments = fragments || sortFragments(currentSlide.querySelectorAll('.fragment'));\n\n      if (fragments.length) {\n        if (typeof index !== 'number') {\n          var currentFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n          if (currentFragment) {\n            index = parseInt(currentFragment.getAttribute('data-fragment-index') || 0, 10);\n          }\n        }\n\n        toArray(fragments).forEach(function (el, i) {\n          if (el.hasAttribute('data-fragment-index')) {\n            i = parseInt(el.getAttribute('data-fragment-index'), 10);\n          } // Visible fragments\n\n\n          if (i <= index) {\n            if (!el.classList.contains('visible')) changedFragments.shown.push(el);\n            el.classList.add('visible');\n            el.classList.remove('current-fragment'); // Announce the fragments one by one to the Screen Reader\n\n            dom.statusDiv.textContent = getStatusText(el);\n\n            if (i === index) {\n              el.classList.add('current-fragment');\n              startEmbeddedContent(el);\n            }\n          } // Hidden fragments\n          else {\n              if (el.classList.contains('visible')) changedFragments.hidden.push(el);\n              el.classList.remove('visible');\n              el.classList.remove('current-fragment');\n            }\n        });\n      }\n    }\n\n    return changedFragments;\n  }\n  /**\n   * Navigate to the specified slide fragment.\n   *\n   * @param {?number} index The index of the fragment that\n   * should be shown, -1 means all are invisible\n   * @param {number} offset Integer offset to apply to the\n   * fragment index\n   *\n   * @return {boolean} true if a change was made in any\n   * fragments visibility as part of this call\n   */\n\n\n  function navigateFragment(index, offset) {\n    if (currentSlide && config.fragments) {\n      var fragments = sortFragments(currentSlide.querySelectorAll('.fragment'));\n\n      if (fragments.length) {\n        // If no index is specified, find the current\n        if (typeof index !== 'number') {\n          var lastVisibleFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n          if (lastVisibleFragment) {\n            index = parseInt(lastVisibleFragment.getAttribute('data-fragment-index') || 0, 10);\n          } else {\n            index = -1;\n          }\n        } // If an offset is specified, apply it to the index\n\n\n        if (typeof offset === 'number') {\n          index += offset;\n        }\n\n        var changedFragments = updateFragments(index, fragments);\n\n        if (changedFragments.hidden.length) {\n          dispatchEvent('fragmenthidden', {\n            fragment: changedFragments.hidden[0],\n            fragments: changedFragments.hidden\n          });\n        }\n\n        if (changedFragments.shown.length) {\n          dispatchEvent('fragmentshown', {\n            fragment: changedFragments.shown[0],\n            fragments: changedFragments.shown\n          });\n        }\n\n        updateControls();\n        updateProgress();\n\n        if (config.fragmentInURL) {\n          writeURL();\n        }\n\n        return !!(changedFragments.shown.length || changedFragments.hidden.length);\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Navigate to the next slide fragment.\n   *\n   * @return {boolean} true if there was a next fragment,\n   * false otherwise\n   */\n\n\n  function nextFragment() {\n    return navigateFragment(null, 1);\n  }\n  /**\n   * Navigate to the previous slide fragment.\n   *\n   * @return {boolean} true if there was a previous fragment,\n   * false otherwise\n   */\n\n\n  function previousFragment() {\n    return navigateFragment(null, -1);\n  }\n  /**\n   * Cues a new automated slide if enabled in the config.\n   */\n\n\n  function cueAutoSlide() {\n    cancelAutoSlide();\n\n    if (currentSlide && config.autoSlide !== false) {\n      var fragment = currentSlide.querySelector('.current-fragment'); // When the slide first appears there is no \"current\" fragment so\n      // we look for a data-autoslide timing on the first fragment\n\n      if (!fragment) fragment = currentSlide.querySelector('.fragment');\n      var fragmentAutoSlide = fragment ? fragment.getAttribute('data-autoslide') : null;\n      var parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute('data-autoslide') : null;\n      var slideAutoSlide = currentSlide.getAttribute('data-autoslide'); // Pick value in the following priority order:\n      // 1. Current fragment's data-autoslide\n      // 2. Current slide's data-autoslide\n      // 3. Parent slide's data-autoslide\n      // 4. Global autoSlide setting\n\n      if (fragmentAutoSlide) {\n        autoSlide = parseInt(fragmentAutoSlide, 10);\n      } else if (slideAutoSlide) {\n        autoSlide = parseInt(slideAutoSlide, 10);\n      } else if (parentAutoSlide) {\n        autoSlide = parseInt(parentAutoSlide, 10);\n      } else {\n        autoSlide = config.autoSlide;\n      } // If there are media elements with data-autoplay,\n      // automatically set the autoSlide duration to the\n      // length of that media. Not applicable if the slide\n      // is divided up into fragments.\n      // playbackRate is accounted for in the duration.\n\n\n      if (currentSlide.querySelectorAll('.fragment').length === 0) {\n        toArray(currentSlide.querySelectorAll('video, audio')).forEach(function (el) {\n          if (el.hasAttribute('data-autoplay')) {\n            if (autoSlide && el.duration * 1000 / el.playbackRate > autoSlide) {\n              autoSlide = el.duration * 1000 / el.playbackRate + 1000;\n            }\n          }\n        });\n      } // Cue the next auto-slide if:\n      // - There is an autoSlide value\n      // - Auto-sliding isn't paused by the user\n      // - The presentation isn't paused\n      // - The overview isn't active\n      // - The presentation isn't over\n\n\n      if (autoSlide && !autoSlidePaused && !isPaused() && !isOverview() && (!Reveal.isLastSlide() || availableFragments().next || config.loop === true)) {\n        autoSlideTimeout = setTimeout(function () {\n          typeof config.autoSlideMethod === 'function' ? config.autoSlideMethod() : navigateNext();\n          cueAutoSlide();\n        }, autoSlide);\n        autoSlideStartTime = Date.now();\n      }\n\n      if (autoSlidePlayer) {\n        autoSlidePlayer.setPlaying(autoSlideTimeout !== -1);\n      }\n    }\n  }\n  /**\n   * Cancels any ongoing request to auto-slide.\n   */\n\n\n  function cancelAutoSlide() {\n    clearTimeout(autoSlideTimeout);\n    autoSlideTimeout = -1;\n  }\n\n  function pauseAutoSlide() {\n    if (autoSlide && !autoSlidePaused) {\n      autoSlidePaused = true;\n      dispatchEvent('autoslidepaused');\n      clearTimeout(autoSlideTimeout);\n\n      if (autoSlidePlayer) {\n        autoSlidePlayer.setPlaying(false);\n      }\n    }\n  }\n\n  function resumeAutoSlide() {\n    if (autoSlide && autoSlidePaused) {\n      autoSlidePaused = false;\n      dispatchEvent('autoslideresumed');\n      cueAutoSlide();\n    }\n  }\n\n  function navigateLeft() {\n    // Reverse for RTL\n    if (config.rtl) {\n      if ((isOverview() || nextFragment() === false) && availableRoutes().left) {\n        slide(indexh + 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n    } // Normal navigation\n    else if ((isOverview() || previousFragment() === false) && availableRoutes().left) {\n        slide(indexh - 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n  }\n\n  function navigateRight() {\n    hasNavigatedRight = true; // Reverse for RTL\n\n    if (config.rtl) {\n      if ((isOverview() || previousFragment() === false) && availableRoutes().right) {\n        slide(indexh - 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n    } // Normal navigation\n    else if ((isOverview() || nextFragment() === false) && availableRoutes().right) {\n        slide(indexh + 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n  }\n\n  function navigateUp() {\n    // Prioritize hiding fragments\n    if ((isOverview() || previousFragment() === false) && availableRoutes().up) {\n      slide(indexh, indexv - 1);\n    }\n  }\n\n  function navigateDown() {\n    hasNavigatedDown = true; // Prioritize revealing fragments\n\n    if ((isOverview() || nextFragment() === false) && availableRoutes().down) {\n      slide(indexh, indexv + 1);\n    }\n  }\n  /**\n   * Navigates backwards, prioritized in the following order:\n   * 1) Previous fragment\n   * 2) Previous vertical slide\n   * 3) Previous horizontal slide\n   */\n\n\n  function navigatePrev() {\n    // Prioritize revealing fragments\n    if (previousFragment() === false) {\n      if (availableRoutes().up) {\n        navigateUp();\n      } else {\n        // Fetch the previous horizontal slide, if there is one\n        var previousSlide;\n\n        if (config.rtl) {\n          previousSlide = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.future')).pop();\n        } else {\n          previousSlide = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.past')).pop();\n        }\n\n        if (previousSlide) {\n          var v = previousSlide.querySelectorAll('section').length - 1 || undefined;\n          var h = indexh - 1;\n          slide(h, v);\n        }\n      }\n    }\n  }\n  /**\n   * The reverse of #navigatePrev().\n   */\n\n\n  function navigateNext() {\n    hasNavigatedRight = true;\n    hasNavigatedDown = true; // Prioritize revealing fragments\n\n    if (nextFragment() === false) {\n      var routes = availableRoutes(); // When looping is enabled `routes.down` is always available\n      // so we need a separate check for when we've reached the\n      // end of a stack and should move horizontally\n\n      if (routes.down && routes.right && config.loop && Reveal.isLastVerticalSlide(currentSlide)) {\n        routes.down = false;\n      }\n\n      if (routes.down) {\n        navigateDown();\n      } else if (config.rtl) {\n        navigateLeft();\n      } else {\n        navigateRight();\n      }\n    }\n  }\n  /**\n   * Checks if the target element prevents the triggering of\n   * swipe navigation.\n   */\n\n\n  function isSwipePrevented(target) {\n    while (target && typeof target.hasAttribute === 'function') {\n      if (target.hasAttribute('data-prevent-swipe')) return true;\n      target = target.parentNode;\n    }\n\n    return false;\n  } // --------------------------------------------------------------------//\n  // ----------------------------- EVENTS -------------------------------//\n  // --------------------------------------------------------------------//\n\n  /**\n   * Called by all event handlers that are based on user\n   * input.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onUserInput(event) {\n    if (config.autoSlideStoppable) {\n      pauseAutoSlide();\n    }\n  }\n  /**\n   * Called whenever there is mouse input at the document level\n   * to determine if the cursor is active or not.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentCursorActive(event) {\n    showCursor();\n    clearTimeout(cursorInactiveTimeout);\n    cursorInactiveTimeout = setTimeout(hideCursor, config.hideCursorTime);\n  }\n  /**\n   * Handler for the document level 'keypress' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentKeyPress(event) {\n    // Check if the pressed key is question mark\n    if (event.shiftKey && event.charCode === 63) {\n      toggleHelp();\n    }\n  }\n  /**\n   * Handler for the document level 'keydown' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentKeyDown(event) {\n    // If there's a condition specified and it returns false,\n    // ignore this event\n    if (typeof config.keyboardCondition === 'function' && config.keyboardCondition(event) === false) {\n      return true;\n    } // Shorthand\n\n\n    var keyCode = event.keyCode; // Remember if auto-sliding was paused so we can toggle it\n\n    var autoSlideWasPaused = autoSlidePaused;\n    onUserInput(event); // Is there a focused element that could be using the keyboard?\n\n    var activeElementIsCE = document.activeElement && document.activeElement.contentEditable !== 'inherit';\n    var activeElementIsInput = document.activeElement && document.activeElement.tagName && /input|textarea/i.test(document.activeElement.tagName);\n    var activeElementIsNotes = document.activeElement && document.activeElement.className && /speaker-notes/i.test(document.activeElement.className); // Whitelist specific modified + keycode combinations\n\n    var prevSlideShortcut = event.shiftKey && event.keyCode === 32;\n    var firstSlideShortcut = (event.metaKey || event.ctrlKey) && keyCode === 37;\n    var lastSlideShortcut = (event.metaKey || event.ctrlKey) && keyCode === 39; // Prevent all other events when a modifier is pressed\n\n    var unusedModifier = !prevSlideShortcut && !firstSlideShortcut && !lastSlideShortcut && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey); // Disregard the event if there's a focused element or a\n    // keyboard modifier key is present\n\n    if (activeElementIsCE || activeElementIsInput || activeElementIsNotes || unusedModifier) return; // While paused only allow resume keyboard events; 'b', 'v', '.'\n\n    var resumeKeyCodes = [66, 86, 190, 191];\n    var key; // Custom key bindings for togglePause should be able to resume\n\n    if (typeof config.keyboard === 'object') {\n      for (key in config.keyboard) {\n        if (config.keyboard[key] === 'togglePause') {\n          resumeKeyCodes.push(parseInt(key, 10));\n        }\n      }\n    }\n\n    if (isPaused() && resumeKeyCodes.indexOf(keyCode) === -1) {\n      return false;\n    }\n\n    var triggered = false; // 1. User defined key bindings\n\n    if (typeof config.keyboard === 'object') {\n      for (key in config.keyboard) {\n        // Check if this binding matches the pressed key\n        if (parseInt(key, 10) === keyCode) {\n          var value = config.keyboard[key]; // Callback function\n\n          if (typeof value === 'function') {\n            value.apply(null, [event]);\n          } // String shortcuts to reveal.js API\n          else if (typeof value === 'string' && typeof Reveal[value] === 'function') {\n              Reveal[value].call();\n            }\n\n          triggered = true;\n        }\n      }\n    } // 2. Registered custom key bindings\n\n\n    if (triggered === false) {\n      for (key in registeredKeyBindings) {\n        // Check if this binding matches the pressed key\n        if (parseInt(key, 10) === keyCode) {\n          var action = registeredKeyBindings[key].callback; // Callback function\n\n          if (typeof action === 'function') {\n            action.apply(null, [event]);\n          } // String shortcuts to reveal.js API\n          else if (typeof action === 'string' && typeof Reveal[action] === 'function') {\n              Reveal[action].call();\n            }\n\n          triggered = true;\n        }\n      }\n    } // 3. System defined key bindings\n\n\n    if (triggered === false) {\n      // Assume true and try to prove false\n      triggered = true; // P, PAGE UP\n\n      if (keyCode === 80 || keyCode === 33) {\n        navigatePrev();\n      } // N, PAGE DOWN\n      else if (keyCode === 78 || keyCode === 34) {\n          navigateNext();\n        } // H, LEFT\n        else if (keyCode === 72 || keyCode === 37) {\n            if (firstSlideShortcut) {\n              slide(0);\n            } else if (!isOverview() && config.navigationMode === 'linear') {\n              navigatePrev();\n            } else {\n              navigateLeft();\n            }\n          } // L, RIGHT\n          else if (keyCode === 76 || keyCode === 39) {\n              if (lastSlideShortcut) {\n                slide(Number.MAX_VALUE);\n              } else if (!isOverview() && config.navigationMode === 'linear') {\n                navigateNext();\n              } else {\n                navigateRight();\n              }\n            } // K, UP\n            else if (keyCode === 75 || keyCode === 38) {\n                if (!isOverview() && config.navigationMode === 'linear') {\n                  navigatePrev();\n                } else {\n                  navigateUp();\n                }\n              } // J, DOWN\n              else if (keyCode === 74 || keyCode === 40) {\n                  if (!isOverview() && config.navigationMode === 'linear') {\n                    navigateNext();\n                  } else {\n                    navigateDown();\n                  }\n                } // HOME\n                else if (keyCode === 36) {\n                    slide(0);\n                  } // END\n                  else if (keyCode === 35) {\n                      slide(Number.MAX_VALUE);\n                    } // SPACE\n                    else if (keyCode === 32) {\n                        if (isOverview()) {\n                          deactivateOverview();\n                        }\n\n                        if (event.shiftKey) {\n                          navigatePrev();\n                        } else {\n                          navigateNext();\n                        }\n                      } // TWO-SPOT, SEMICOLON, B, V, PERIOD, LOGITECH PRESENTER TOOLS \"BLACK SCREEN\" BUTTON\n                      else if (keyCode === 58 || keyCode === 59 || keyCode === 66 || keyCode === 86 || keyCode === 190 || keyCode === 191) {\n                          togglePause();\n                        } // F\n                        else if (keyCode === 70) {\n                            enterFullscreen();\n                          } // A\n                          else if (keyCode === 65) {\n                              if (config.autoSlideStoppable) {\n                                toggleAutoSlide(autoSlideWasPaused);\n                              }\n                            } else {\n                              triggered = false;\n                            }\n    } // If the input resulted in a triggered action we should prevent\n    // the browsers default behavior\n\n\n    if (triggered) {\n      event.preventDefault && event.preventDefault();\n    } // ESC or O key\n    else if ((keyCode === 27 || keyCode === 79) && features.transforms3d) {\n        if (dom.overlay) {\n          closeOverlay();\n        } else {\n          toggleOverview();\n        }\n\n        event.preventDefault && event.preventDefault();\n      } // If auto-sliding is enabled we need to cue up\n    // another timeout\n\n\n    cueAutoSlide();\n  }\n  /**\n   * Handler for the 'touchstart' event, enables support for\n   * swipe and pinch gestures.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchStart(event) {\n    if (isSwipePrevented(event.target)) return true;\n    touch.startX = event.touches[0].clientX;\n    touch.startY = event.touches[0].clientY;\n    touch.startCount = event.touches.length;\n  }\n  /**\n   * Handler for the 'touchmove' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchMove(event) {\n    if (isSwipePrevented(event.target)) return true; // Each touch should only trigger one action\n\n    if (!touch.captured) {\n      onUserInput(event);\n      var currentX = event.touches[0].clientX;\n      var currentY = event.touches[0].clientY; // There was only one touch point, look for a swipe\n\n      if (event.touches.length === 1 && touch.startCount !== 2) {\n        var deltaX = currentX - touch.startX,\n            deltaY = currentY - touch.startY;\n\n        if (deltaX > touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n          touch.captured = true;\n          navigateLeft();\n        } else if (deltaX < -touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n          touch.captured = true;\n          navigateRight();\n        } else if (deltaY > touch.threshold) {\n          touch.captured = true;\n          navigateUp();\n        } else if (deltaY < -touch.threshold) {\n          touch.captured = true;\n          navigateDown();\n        } // If we're embedded, only block touch events if they have\n        // triggered an action\n\n\n        if (config.embedded) {\n          if (touch.captured || isVerticalSlide(currentSlide)) {\n            event.preventDefault();\n          }\n        } // Not embedded? Block them all to avoid needless tossing\n        // around of the viewport in iOS\n        else {\n            event.preventDefault();\n          }\n      }\n    } // There's a bug with swiping on some Android devices unless\n    // the default action is always prevented\n    else if (UA.match(/android/gi)) {\n        event.preventDefault();\n      }\n  }\n  /**\n   * Handler for the 'touchend' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchEnd(event) {\n    touch.captured = false;\n  }\n  /**\n   * Convert pointer down to touch start.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerDown(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchStart(event);\n    }\n  }\n  /**\n   * Convert pointer move to touch move.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerMove(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchMove(event);\n    }\n  }\n  /**\n   * Convert pointer up to touch end.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerUp(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchEnd(event);\n    }\n  }\n  /**\n   * Handles mouse wheel scrolling, throttled to avoid skipping\n   * multiple slides.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentMouseScroll(event) {\n    if (Date.now() - lastMouseWheelStep > 600) {\n      lastMouseWheelStep = Date.now();\n      var delta = event.detail || -event.wheelDelta;\n\n      if (delta > 0) {\n        navigateNext();\n      } else if (delta < 0) {\n        navigatePrev();\n      }\n    }\n  }\n  /**\n   * Clicking on the progress bar results in a navigation to the\n   * closest approximate horizontal slide using this equation:\n   *\n   * ( clickX / presentationWidth ) * numberOfSlides\n   *\n   * @param {object} event\n   */\n\n\n  function onProgressClicked(event) {\n    onUserInput(event);\n    event.preventDefault();\n    var slidesTotal = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).length;\n    var slideIndex = Math.floor(event.clientX / dom.wrapper.offsetWidth * slidesTotal);\n\n    if (config.rtl) {\n      slideIndex = slidesTotal - slideIndex;\n    }\n\n    slide(slideIndex);\n  }\n  /**\n   * Event handler for navigation control buttons.\n   */\n\n\n  function onNavigateLeftClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    config.navigationMode === 'linear' ? navigatePrev() : navigateLeft();\n  }\n\n  function onNavigateRightClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    config.navigationMode === 'linear' ? navigateNext() : navigateRight();\n  }\n\n  function onNavigateUpClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateUp();\n  }\n\n  function onNavigateDownClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateDown();\n  }\n\n  function onNavigatePrevClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigatePrev();\n  }\n\n  function onNavigateNextClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateNext();\n  }\n  /**\n   * Handler for the window level 'hashchange' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onWindowHashChange(event) {\n    readURL();\n  }\n  /**\n   * Handler for the window level 'resize' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onWindowResize(event) {\n    layout();\n  }\n  /**\n   * Handle for the window level 'visibilitychange' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onPageVisibilityChange(event) {\n    var isHidden = document.webkitHidden || document.msHidden || document.hidden; // If, after clicking a link or similar and we're coming back,\n    // focus the document.body to ensure we can use keyboard shortcuts\n\n    if (isHidden === false && document.activeElement !== document.body) {\n      // Not all elements support .blur() - SVGs among them.\n      if (typeof document.activeElement.blur === 'function') {\n        document.activeElement.blur();\n      }\n\n      document.body.focus();\n    }\n  }\n  /**\n   * Invoked when a slide is and we're in the overview.\n   *\n   * @param {object} event\n   */\n\n\n  function onOverviewSlideClicked(event) {\n    // TODO There's a bug here where the event listeners are not\n    // removed after deactivating the overview.\n    if (eventsAreBound && isOverview()) {\n      event.preventDefault();\n      var element = event.target;\n\n      while (element && !element.nodeName.match(/section/gi)) {\n        element = element.parentNode;\n      }\n\n      if (element && !element.classList.contains('disabled')) {\n        deactivateOverview();\n\n        if (element.nodeName.match(/section/gi)) {\n          var h = parseInt(element.getAttribute('data-index-h'), 10),\n              v = parseInt(element.getAttribute('data-index-v'), 10);\n          slide(h, v);\n        }\n      }\n    }\n  }\n  /**\n   * Handles clicks on links that are set to preview in the\n   * iframe overlay.\n   *\n   * @param {object} event\n   */\n\n\n  function onPreviewLinkClicked(event) {\n    if (event.currentTarget && event.currentTarget.hasAttribute('href')) {\n      var url = event.currentTarget.getAttribute('href');\n\n      if (url) {\n        showPreview(url);\n        event.preventDefault();\n      }\n    }\n  }\n  /**\n   * Handles click on the auto-sliding controls element.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onAutoSlidePlayerClick(event) {\n    // Replay\n    if (Reveal.isLastSlide() && config.loop === false) {\n      slide(0, 0);\n      resumeAutoSlide();\n    } // Resume\n    else if (autoSlidePaused) {\n        resumeAutoSlide();\n      } // Pause\n      else {\n          pauseAutoSlide();\n        }\n  } // --------------------------------------------------------------------//\n  // ------------------------ PLAYBACK COMPONENT ------------------------//\n  // --------------------------------------------------------------------//\n\n  /**\n   * Constructor for the playback component, which displays\n   * play/pause/progress controls.\n   *\n   * @param {HTMLElement} container The component will append\n   * itself to this\n   * @param {function} progressCheck A method which will be\n   * called frequently to get the current progress on a range\n   * of 0-1\n   */\n\n\n  function Playback(container, progressCheck) {\n    // Cosmetics\n    this.diameter = 100;\n    this.diameter2 = this.diameter / 2;\n    this.thickness = 6; // Flags if we are currently playing\n\n    this.playing = false; // Current progress on a 0-1 range\n\n    this.progress = 0; // Used to loop the animation smoothly\n\n    this.progressOffset = 1;\n    this.container = container;\n    this.progressCheck = progressCheck;\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'playback';\n    this.canvas.width = this.diameter;\n    this.canvas.height = this.diameter;\n    this.canvas.style.width = this.diameter2 + 'px';\n    this.canvas.style.height = this.diameter2 + 'px';\n    this.context = this.canvas.getContext('2d');\n    this.container.appendChild(this.canvas);\n    this.render();\n  }\n  /**\n   * @param value\n   */\n\n\n  Playback.prototype.setPlaying = function (value) {\n    var wasPlaying = this.playing;\n    this.playing = value; // Start repainting if we weren't already\n\n    if (!wasPlaying && this.playing) {\n      this.animate();\n    } else {\n      this.render();\n    }\n  };\n\n  Playback.prototype.animate = function () {\n    var progressBefore = this.progress;\n    this.progress = this.progressCheck(); // When we loop, offset the progress so that it eases\n    // smoothly rather than immediately resetting\n\n    if (progressBefore > 0.8 && this.progress < 0.2) {\n      this.progressOffset = this.progress;\n    }\n\n    this.render();\n\n    if (this.playing) {\n      features.requestAnimationFrameMethod.call(window, this.animate.bind(this));\n    }\n  };\n  /**\n   * Renders the current progress and playback state.\n   */\n\n\n  Playback.prototype.render = function () {\n    var progress = this.playing ? this.progress : 0,\n        radius = this.diameter2 - this.thickness,\n        x = this.diameter2,\n        y = this.diameter2,\n        iconSize = 28; // Ease towards 1\n\n    this.progressOffset += (1 - this.progressOffset) * 0.1;\n    var endAngle = -Math.PI / 2 + progress * (Math.PI * 2);\n    var startAngle = -Math.PI / 2 + this.progressOffset * (Math.PI * 2);\n    this.context.save();\n    this.context.clearRect(0, 0, this.diameter, this.diameter); // Solid background color\n\n    this.context.beginPath();\n    this.context.arc(x, y, radius + 4, 0, Math.PI * 2, false);\n    this.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n    this.context.fill(); // Draw progress track\n\n    this.context.beginPath();\n    this.context.arc(x, y, radius, 0, Math.PI * 2, false);\n    this.context.lineWidth = this.thickness;\n    this.context.strokeStyle = 'rgba( 255, 255, 255, 0.2 )';\n    this.context.stroke();\n\n    if (this.playing) {\n      // Draw progress on top of track\n      this.context.beginPath();\n      this.context.arc(x, y, radius, startAngle, endAngle, false);\n      this.context.lineWidth = this.thickness;\n      this.context.strokeStyle = '#fff';\n      this.context.stroke();\n    }\n\n    this.context.translate(x - iconSize / 2, y - iconSize / 2); // Draw play/pause icons\n\n    if (this.playing) {\n      this.context.fillStyle = '#fff';\n      this.context.fillRect(0, 0, iconSize / 2 - 4, iconSize);\n      this.context.fillRect(iconSize / 2 + 4, 0, iconSize / 2 - 4, iconSize);\n    } else {\n      this.context.beginPath();\n      this.context.translate(4, 0);\n      this.context.moveTo(0, 0);\n      this.context.lineTo(iconSize - 4, iconSize / 2);\n      this.context.lineTo(0, iconSize);\n      this.context.fillStyle = '#fff';\n      this.context.fill();\n    }\n\n    this.context.restore();\n  };\n\n  Playback.prototype.on = function (type, listener) {\n    this.canvas.addEventListener(type, listener, false);\n  };\n\n  Playback.prototype.off = function (type, listener) {\n    this.canvas.removeEventListener(type, listener, false);\n  };\n\n  Playback.prototype.destroy = function () {\n    this.playing = false;\n\n    if (this.canvas.parentNode) {\n      this.container.removeChild(this.canvas);\n    }\n  }; // --------------------------------------------------------------------//\n  // ------------------------------- API --------------------------------//\n  // --------------------------------------------------------------------//\n\n\n  Reveal = {\n    VERSION: VERSION,\n    initialize: initialize,\n    configure: configure,\n    sync: sync,\n    syncSlide: syncSlide,\n    syncFragments: syncFragments,\n    // Navigation methods\n    slide: slide,\n    left: navigateLeft,\n    right: navigateRight,\n    up: navigateUp,\n    down: navigateDown,\n    prev: navigatePrev,\n    next: navigateNext,\n    // Fragment methods\n    navigateFragment: navigateFragment,\n    prevFragment: previousFragment,\n    nextFragment: nextFragment,\n    // Deprecated aliases\n    navigateTo: slide,\n    navigateLeft: navigateLeft,\n    navigateRight: navigateRight,\n    navigateUp: navigateUp,\n    navigateDown: navigateDown,\n    navigatePrev: navigatePrev,\n    navigateNext: navigateNext,\n    // Forces an update in slide layout\n    layout: layout,\n    // Randomizes the order of slides\n    shuffle: shuffle,\n    // Returns an object with the available routes as booleans (left/right/top/bottom)\n    availableRoutes: availableRoutes,\n    // Returns an object with the available fragments as booleans (prev/next)\n    availableFragments: availableFragments,\n    // Toggles a help overlay with keyboard shortcuts\n    toggleHelp: toggleHelp,\n    // Toggles the overview mode on/off\n    toggleOverview: toggleOverview,\n    // Toggles the \"black screen\" mode on/off\n    togglePause: togglePause,\n    // Toggles the auto slide mode on/off\n    toggleAutoSlide: toggleAutoSlide,\n    // State checks\n    isOverview: isOverview,\n    isPaused: isPaused,\n    isAutoSliding: isAutoSliding,\n    isSpeakerNotes: isSpeakerNotes,\n    // Slide preloading\n    loadSlide: loadSlide,\n    unloadSlide: unloadSlide,\n    // Adds or removes all internal event listeners (such as keyboard)\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners,\n    // Facility for persisting and restoring the presentation state\n    getState: getState,\n    setState: setState,\n    // Presentation progress\n    getSlidePastCount: getSlidePastCount,\n    // Presentation progress on range of 0-1\n    getProgress: getProgress,\n    // Returns the indices of the current, or specified, slide\n    getIndices: getIndices,\n    // Returns an Array of all slides\n    getSlides: getSlides,\n    // Returns an Array of objects representing the attributes on\n    // the slides\n    getSlidesAttributes: getSlidesAttributes,\n    // Returns the total number of slides\n    getTotalSlides: getTotalSlides,\n    // Returns the slide element at the specified index\n    getSlide: getSlide,\n    // Returns the slide background element at the specified index\n    getSlideBackground: getSlideBackground,\n    // Returns the speaker notes string for a slide, or null\n    getSlideNotes: getSlideNotes,\n    // Returns the previous slide element, may be null\n    getPreviousSlide: function getPreviousSlide() {\n      return previousSlide;\n    },\n    // Returns the current slide element\n    getCurrentSlide: function getCurrentSlide() {\n      return currentSlide;\n    },\n    // Returns the current scale of the presentation content\n    getScale: function getScale() {\n      return scale;\n    },\n    // Returns the current configuration object\n    getConfig: function getConfig() {\n      return config;\n    },\n    // Helper method, retrieves query string as a key/value hash\n    getQueryHash: function getQueryHash() {\n      var query = {};\n      location.search.replace(/[A-Z0-9]+?=([\\w\\.%-]*)/gi, function (a) {\n        query[a.split('=').shift()] = a.split('=').pop();\n      }); // Basic deserialization\n\n      for (var i in query) {\n        var value = query[i];\n        query[i] = deserialize(unescape(value));\n      }\n\n      return query;\n    },\n    // Returns the top-level DOM element\n    getRevealElement: function getRevealElement() {\n      return dom.wrapper || document.querySelector('.reveal');\n    },\n    // Returns a hash with all registered plugins\n    getPlugins: function getPlugins() {\n      return plugins;\n    },\n    // Returns true if we're currently on the first slide\n    isFirstSlide: function isFirstSlide() {\n      return indexh === 0 && indexv === 0;\n    },\n    // Returns true if we're currently on the last slide\n    isLastSlide: function isLastSlide() {\n      if (currentSlide) {\n        // Does this slide have a next sibling?\n        if (currentSlide.nextElementSibling) return false; // If it's vertical, does its parent have a next sibling?\n\n        if (isVerticalSlide(currentSlide) && currentSlide.parentNode.nextElementSibling) return false;\n        return true;\n      }\n\n      return false;\n    },\n    // Returns true if we're on the last slide in the current\n    // vertical stack\n    isLastVerticalSlide: function isLastVerticalSlide() {\n      if (currentSlide && isVerticalSlide(currentSlide)) {\n        // Does this slide have a next sibling?\n        if (currentSlide.nextElementSibling) return false;\n        return true;\n      }\n\n      return false;\n    },\n    // Checks if reveal.js has been loaded and is ready for use\n    isReady: function isReady() {\n      return loaded;\n    },\n    // Forward event binding to the reveal DOM element\n    addEventListener: function addEventListener(type, listener, useCapture) {\n      if ('addEventListener' in window) {\n        Reveal.getRevealElement().addEventListener(type, listener, useCapture);\n      }\n    },\n    removeEventListener: function removeEventListener(type, listener, useCapture) {\n      if ('addEventListener' in window) {\n        Reveal.getRevealElement().removeEventListener(type, listener, useCapture);\n      }\n    },\n    // Adds/removes a custom key binding\n    addKeyBinding: addKeyBinding,\n    removeKeyBinding: removeKeyBinding,\n    // API for registering and retrieving plugins\n    registerPlugin: registerPlugin,\n    hasPlugin: hasPlugin,\n    getPlugin: getPlugin,\n    // Programmatically triggers a keyboard event\n    triggerKey: function triggerKey(keyCode) {\n      onDocumentKeyDown({\n        keyCode: keyCode\n      });\n    },\n    // Registers a new shortcut to include in the help overlay\n    registerKeyboardShortcut: function registerKeyboardShortcut(key, value) {\n      keyboardShortcuts[key] = value;\n    }\n  };\n  return Reveal;\n});","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","var map = {\n\t\"./beige.css\": 215,\n\t\"./black.css\": 216,\n\t\"./blood.css\": 217,\n\t\"./league.css\": 218,\n\t\"./moon.css\": 219,\n\t\"./night.css\": 220,\n\t\"./serif.css\": 221,\n\t\"./simple.css\": 222,\n\t\"./sky.css\": 223,\n\t\"./solarized.css\": 224,\n\t\"./white.css\": 225\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 214;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 226;","var map = {\n\t\"./prism-coy.css\": 228,\n\t\"./prism-dark.css\": 229,\n\t\"./prism-funky.css\": 230,\n\t\"./prism-okaidia.css\": 231,\n\t\"./prism-solarizedlight.css\": 232,\n\t\"./prism-tomorrow.css\": 233,\n\t\"./prism-twilight.css\": 234,\n\t\"./prism.css\": 235\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 227;"],"sourceRoot":""}
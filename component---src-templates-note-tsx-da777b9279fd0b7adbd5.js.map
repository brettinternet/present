{"version":3,"sources":["webpack:///./src/components/Reveal/Reveal.types.ts","webpack:///./src/components/Reveal/index.tsx","webpack:///./src/templates/note.tsx","webpack:///./node_modules/reveal.js/js/reveal.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/reveal.js/css/theme sync ^\\.\\/.*\\.css$","webpack:///./src/templates sync","webpack:///./node_modules/prismjs/themes sync ^\\.\\/.*\\.css$"],"names":["Theme","katexCss","require","Revealer","props","renderHtml","className","dangerouslySetInnerHTML","__html","formatHtml","html","separator","separatorVertical","split","map","section","vertSection","join","componentDidMount","console","log","window","Reveal","initialize","this","config","render","revealCss","themeCss","theme","styles","css","React","Component","defaultProps","WHITE","hash","pageQuery","NoteTemplate","markdownRemark","data","frontmatter","GlobalStyles","root","indexh","indexv","previousSlide","currentSlide","previousBackground","isMobileDevice","isChrome","autoSlidePlayer","SLIDES_SELECTOR","HORIZONTAL_SLIDES_SELECTOR","VERTICAL_SLIDES_SELECTOR","HOME_SLIDE_SELECTOR","UA","navigator","userAgent","width","height","margin","minScale","maxScale","controls","controlsTutorial","controlsLayout","controlsBackArrows","progress","slideNumber","showSlideNumber","hashOneBasedIndex","history","keyboard","keyboardCondition","overview","disableLayout","center","touch","loop","rtl","navigationMode","shuffle","fragments","fragmentInURL","embedded","help","pause","showNotes","autoPlayMedia","preloadIframes","autoSlide","autoSlideStoppable","autoSlideMethod","defaultTiming","mouseWheel","rollingLinks","hideAddressBar","previewLinks","postMessage","postMessageEvents","focusBodyOnPageVisibilityChange","transition","transitionSpeed","backgroundTransition","parallaxBackgroundImage","parallaxBackgroundSize","parallaxBackgroundRepeat","parallaxBackgroundPosition","parallaxBackgroundHorizontal","parallaxBackgroundVertical","pdfMaxPagesPerSlide","Number","POSITIVE_INFINITY","pdfSeparateFragments","pdfPageHeightOffset","viewDistance","display","hideInactiveCursor","hideCursorTime","dependencies","initialized","loaded","overviewSlideWidth","overviewSlideHeight","hasNavigatedRight","hasNavigatedDown","state","scale","slidesTransform","layout","dom","plugins","asyncDependencies","features","lastMouseWheelStep","writeURLTimeout","cursorHidden","cursorInactiveTimeout","eventsAreBound","autoSlideTimeout","autoSlideStartTime","autoSlidePaused","startX","startY","startCount","captured","threshold","keyboardShortcuts","registeredKeyBindings","initPlugins","pluginsToInitialize","Object","keys","length","loadAsyncDependencies","afterPlugInitialized","i","plugin","init","callback","then","statusDiv","forEach","s","loadScript","src","slides","classList","add","wrapper","remove","test","background","createSingletonNode","progressbar","querySelector","speakerNotes","setAttribute","pauseOverlay","controlsLeft","toArray","document","querySelectorAll","controlsRight","controlsUp","controlsDown","controlsPrev","controlsNext","controlsRightArrow","controlsDownArrow","getElementById","createElement","style","position","overflow","clip","appendChild","addEventListener","event","charAt","JSON","parse","method","apply","args","setInterval","scrollTop","scrollLeft","horizontalSlide","verticalSlide","y","configure","readURL","updateBackground","setTimeout","dispatchEvent","isPrintingPDF","removeEventListeners","readyState","setupPDF","url","script","type","async","defer","onload","onreadystatechange","onerror","err","Error","head","insertBefore","lastChild","getStatusText","node","text","nodeType","textContent","isAriaHidden","getAttribute","isDisplayHidden","getComputedStyle","childNodes","child","slideSize","getComputedSlideSize","innerWidth","innerHeight","pageWidth","Math","floor","pageHeight","slideWidth","slideHeight","injectStyleSheet","body","layoutSlideContents","hslide","h","contains","vslide","v","slide","left","top","contentHeight","scrollHeight","numberOfPages","max","ceil","min","page","parentNode","slideBackgroundElement","notes","getSlideNotes","notesLayout","notesElement","innerHTML","nextSibling","notesSpacing","bottom","slideNumberH","parseInt","slideNumberV","numberElement","formatSlideNumber","previousFragmentStep","previousPage","fragmentGroups","sortFragments","fragment","clonedPage","cloneNode","container","tagname","classname","nodes","testNode","createBackground","element","replace","contentElement","slideBackgroundContentElement","syncBackground","removeAttribute","backgroundColor","backgroundSize","backgroundRepeat","backgroundPosition","backgroundImage","opacity","backgroundVideo","backgroundIframe","backgroundOpacity","color","contrastColor","computedBackgroundStyle","rgb","colorToRgb","a","r","g","b","options","oldTransition","extend","numberOfSlides","transforms3d","resume","onDocumentMouseScroll","removeEventListener","anchors","len","anchor","span","enableRollingLinks","disableRollingLinks","onDocumentCursorActive","showCursor","enablePreviewLinks","disablePreviewLinks","destroy","canvas","requestAnimationFrame","Playback","Date","now","on","onAutoSlidePlayerClick","slideNumberDisplay","isSpeakerNotes","sync","addEventListeners","visibilityChange","onWindowHashChange","onWindowResize","onPointerDown","onPointerMove","onPointerUp","msPointerEnabled","onTouchStart","onTouchMove","onTouchEnd","onDocumentKeyDown","onDocumentKeyPress","onProgressClicked","onPageVisibilityChange","pointerEvents","match","eventName","el","onNavigateLeftClicked","onNavigateRightClicked","onNavigateUpClicked","onNavigateDownClicked","onNavigatePrevClicked","onNavigateNextClicked","o","Array","prototype","slice","call","deserialize","value","parseFloat","transformElement","transform","WebkitTransform","MozTransform","msTransform","transformSlides","transforms","tag","styleSheet","cssText","createTextNode","getElementsByTagName","closestParent","target","selector","parent","matchesMethod","matches","matchesSelector","msMatchesSelector","hex3","hex6","substr","rgba","location","search","removeAddressBar","scrollTo","createEvent","initEvent","self","stringify","namespace","getState","onPreviewLinkClicked","toggleHelp","override","showHelp","closeOverlay","overlay","key","binding","description","preventDefault","removeChild","documentElement","setProperty","size","oldScale","presentationWidth","presentationHeight","zoom","right","updateProgress","updateParallax","isOverview","updateOverview","remainingHeight","newHeight","oldHeight","offsetHeight","removeProperty","getRemainingHeight","nodeName","nw","naturalWidth","videoWidth","nh","naturalHeight","videoHeight","es","offsetWidth","setPreviousVerticalIndex","stack","getPreviousVerticalIndex","attributeName","hasAttribute","activateOverview","overviewTransitions","cancelAutoSlide","onOverviewSlideClicked","updateSlidesVisibility","layoutOverview","hbackground","vbackground","vmin","deactivateOverview","cueAutoSlide","toggleOverview","locationHash","indexf","id","encodeURIComponent","getIndices","f","undefined","hashIndexBase","isVerticalSlide","cursor","hideCursor","wasPaused","togglePause","isPaused","toggleAutoSlide","resumeAutoSlide","pauseAutoSlide","horizontalSlides","stateBefore","concat","indexhBefore","indexvBefore","updateSlides","currentHorizontalSlide","currentVerticalSlides","navigateFragment","slideChanged","stateLoop","j","splice","pop","stopEmbeddedContent","startEmbeddedContent","updateControls","updateSlideNumber","updateNotes","updateFragments","writeURL","_appendParamToIframeSource","slideh","backgroundStack","slidev","verticalSlides","sourceAttribute","sourceURL","param","indexOf","unloadIframes","syncFragments","random","index","slidesLength","printMode","reverse","slideState","distanceX","horizontalSlidesLength","MAX_VALUE","x","verticalSlidesLength","abs","loadSlide","unloadSlide","oy","getProgress","format","push","getSlidePastCount","getTotalSlides","delimiter","isNaN","routes","availableRoutes","availableFragments","up","down","prev","next","includeAll","currentBackground","horizontalPast","horizontalFuture","backgroundh","backgroundv","currentBackgroundContent","backgroundImageURL","previousBackgroundHash","currentBackgroundHash","classToBubble","backgroundWidth","backgroundHeight","horizontalOffset","horizontalSlideCount","verticalOffsetMultiplier","verticalOffset","verticalSlideCount","tagName","preload","shouldPreload","media","sources","source","load","backgroundContent","backgroundVideoLoop","backgroundVideoMuted","encodeURI","video","muted","autoplay","excludeIframes","iframe","maxHeight","maxWidth","getSlideBackground","hiddenFragments","play","startEmbeddedMedia","promise","startEmbeddedIframe","isAttachedToDOM","isVisible","currentTime","contentWindow","pastCount","mainLoop","totalCount","allFragments","bits","name","decodeURIComponent","error","isSameNameAsCurrentSlide","indices","delay","clearTimeout","replaceState","pathname","isVertical","currentFragment","getSlides","getSlide","paused","grouped","ordered","unordered","sorted","group","changedFragments","shown","hidden","offset","lastVisibleFragment","nextFragment","previousFragment","fragmentAutoSlide","parentAutoSlide","slideAutoSlide","duration","playbackRate","isLastSlide","navigateNext","setPlaying","navigateLeft","navigateRight","navigateUp","navigateDown","navigatePrev","isLastVerticalSlide","isSwipePrevented","onUserInput","shiftKey","charCode","keyCode","autoSlideWasPaused","activeElementIsCE","activeElement","contentEditable","activeElementIsInput","activeElementIsNotes","prevSlideShortcut","firstSlideShortcut","metaKey","ctrlKey","lastSlideShortcut","unusedModifier","altKey","resumeKeyCodes","requestMethod","triggered","action","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","touches","clientX","clientY","currentX","currentY","deltaX","deltaY","pointerType","MSPOINTER_TYPE_TOUCH","delta","detail","wheelDelta","slidesTotal","slideIndex","webkitHidden","msHidden","blur","focus","currentTarget","showPreview","progressCheck","diameter","diameter2","thickness","playing","progressOffset","context","getContext","wasPlaying","animate","progressBefore","requestAnimationFrameMethod","bind","radius","endAngle","PI","startAngle","save","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","translate","iconSize","fillRect","moveTo","lineTo","restore","listener","off","VERSION","testElement","transforms2d","webkitRequestAnimationFrame","mozRequestAnimationFrame","checkCapabilities","scripts","scriptsToLoad","query","getQueryHash","condition","images","iframes","lazyLoadable","syncSlide","prevFragment","navigateTo","isAutoSliding","setState","pausedFlag","overviewFlag","getSlidesAttributes","attributes","attribute","getPreviousSlide","getCurrentSlide","getScale","getConfig","shift","unescape","getRevealElement","getPlugins","isFirstSlide","nextElementSibling","isReady","useCapture","addKeyBinding","removeKeyBinding","registerPlugin","warn","hasPlugin","getPlugin","triggerKey","registerKeyboardShortcut","factory","$export","P","toObject","toAbsoluteIndex","toLength","module","exports","O","aLen","arguments","end","endPos","global","has","cof","inheritIfRequired","toPrimitive","fails","gOPN","gOPD","dP","$trim","trim","$Number","Base","proto","BROKEN_COF","TRIM","String","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","l","that","valueOf","constructor","webpackContext","req","webpackContextResolve","__webpack_require__","e","resolve","webpackEmptyContext"],"mappings":"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","file":"component---src-templates-note-tsx-da777b9279fd0b7adbd5.js","sourcesContent":["export enum Theme {\r\n  BEIGE = \"beige\",\r\n  BLACK = \"black\",\r\n  BLOOD = \"blood\",\r\n  LEAGUE = \"league\",\r\n  MOON = \"moon\",\r\n  NIGHT = \"night\",\r\n  SERIF = \"serif\",\r\n  SIMPLE = \"simple\",\r\n  SKY = \"sky\",\r\n  SOLARIZED = \"solarized\",\r\n  WHITE = \"white\",\r\n}\r\n\r\nexport interface Config {\r\n  /**\r\n   * Display presentation control arrows\r\n   * @default true\r\n   */\r\n  controls?: boolean\r\n\r\n  /**\r\n   * Help the user learn the controls by providing hints, for example by\r\n   * bouncing the down arrow when they first encounter a vertical slide\r\n   * @default true\r\n   */\r\n  controlsTutorial?: boolean\r\n\r\n  /**\r\n   * Determines where controls appear, \"edges\" or \"bottom-right\"\r\n   * @default 'bottom-right'\r\n   */\r\n  //\r\n  controlsLayout?: \"bottom-right\" | \"edges\"\r\n\r\n  /**\r\n   * Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\r\n   * or \"visible\"\r\n   * @default 'faded'\r\n   */\r\n  controlsBackArrows?: \"faded\" | \"hidden\" | \"visible\"\r\n\r\n  /**\r\n   * Display a presentation progress bar\r\n   * @default true\r\n   */\r\n  progress?: boolean\r\n\r\n  /**\r\n   * Display the page number of the current slide\r\n   * @default false\r\n   */\r\n  slideNumber?: boolean\r\n\r\n  /**\r\n   * Add the current slide number to the URL hash so that reloading the\r\n   * page/copying the URL will return you to the same slide\r\n   * @default false\r\n   */\r\n  hash?: boolean\r\n\r\n  /**\r\n   * Push each slide change to the browser history. Implies `hash: true`\r\n   * @default false\r\n   */\r\n  history?: boolean\r\n\r\n  /**\r\n   * Enable keyboard shortcuts for navigation\r\n   * @default true\r\n   */\r\n  keyboard?: boolean\r\n\r\n  /**\r\n   * Enable the slide overview mode\r\n   * @default true\r\n   */\r\n  overview?: boolean\r\n\r\n  /**\r\n   * Vertical centering of slides\r\n   * @default true\r\n   */\r\n  center?: boolean\r\n\r\n  /**\r\n   * Enables touch navigation on devices with touch input\r\n   * @default true\r\n   */\r\n  touch?: boolean\r\n\r\n  /**\r\n   * Loop the presentation\r\n   * @default false\r\n   */\r\n  loop?: boolean\r\n\r\n  /**\r\n   * Change the presentation direction to be RTL\r\n   * @default false\r\n   */\r\n  rtl?: boolean\r\n\r\n  /**\r\n   * See https://github.com/hakimel/reveal.js/#navigation-mode\r\n   * @default 'default'\r\n   */\r\n  navigationMode?: \"default\"\r\n\r\n  /**\r\n   * Randomizes the order of slides each time the presentation loads\r\n   * @default false\r\n   */\r\n  shuffle?: boolean\r\n\r\n  /**\r\n   * Turns fragments on and off globally\r\n   * @default true\r\n   */\r\n  fragments?: boolean\r\n\r\n  /**\r\n   * Flags whether to include the current fragment in the URL,\r\n   * so that reloading brings you to the same fragment position\r\n   * @default false\r\n   */\r\n  fragmentInURL?: boolean\r\n\r\n  /**\r\n   * Flags if the presentation is running in an embedded mode,\r\n   * i.e. contained within a limited portion of the screen\r\n   * @default false\r\n   */\r\n  embedded?: boolean\r\n\r\n  /**\r\n   * Flags if we should show a help overlay when the questionmark\r\n   * key is pressed\r\n   * @default true\r\n   */\r\n  help?: boolean\r\n\r\n  /**\r\n   * Flags if speaker notes should be visible to all viewers\r\n   * @default false\r\n   */\r\n  showNotes?: boolean\r\n\r\n  /**\r\n   * Global override for autoplaying embedded media (video/audio/iframe)\r\n   * - null: Media will only autoplay if data-autoplay is present\r\n   * - true: All media will autoplay, regardless of individual setting\r\n   * - false: No media will autoplay, regardless of individual setting\r\n   * @default null\r\n   */\r\n  autoPlayMedia?: boolean | null\r\n\r\n  /**\r\n   * Global override for preloading lazy-loaded iframes\r\n   * - null: Iframes with data-src AND data-preload will be loaded when within\r\n   *    the viewDistance, iframes with only data-src will be loaded when visible\r\n   * - true: All iframes with data-src will be loaded when within the viewDistance\r\n   * - false: All iframes with data-src will be loaded only when visible\r\n   * @default null\r\n   */\r\n  preloadIframes?: boolean | null\r\n\r\n  /**\r\n   * Number of milliseconds between automatically proceeding to the\r\n   * next slide, disabled when set to 0, this value can be overwritten\r\n   * by using a data-autoslide attribute on your slides\r\n   * @default 0\r\n   */\r\n  autoSlide?: number\r\n\r\n  /**\r\n   * Stop auto-sliding after user input\r\n   * @default true\r\n   */\r\n  autoSlideStoppable?: boolean\r\n\r\n  /**\r\n   * Use this method for navigation when auto-sliding\r\n   * @default `Reveal.navigateNext`\r\n   */\r\n  autoSlideMethod?: string // Reveal.navigateNext\r\n\r\n  /**\r\n   * Specify the average time in seconds that you think you will spend\r\n   * presenting each slide. This is used to show a pacing timer in the\r\n   * speaker view\r\n   * @default 120\r\n   */\r\n  defaultTiming?: number\r\n\r\n  /**\r\n   * Enable slide navigation via mouse wheel\r\n   * @default false\r\n   */\r\n  mouseWheel?: boolean\r\n\r\n  /**\r\n   * Hide cursor if inactive\r\n   * @default true\r\n   */\r\n  hideInactiveCursor?: boolean\r\n\r\n  /**\r\n   * Time before the cursor is hidden (in ms)\r\n   * @default 5000\r\n   */\r\n  hideCursorTime?: number\r\n\r\n  /**\r\n   * Hides the address bar on mobile devices\r\n   * @default true\r\n   */\r\n  hideAddressBar?: boolean\r\n\r\n  /**\r\n   * Opens links in an iframe preview overlay\r\n   * Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\r\n   * individually\r\n   * @default false\r\n   */\r\n  previewLinks?: boolean\r\n\r\n  /**\r\n   * Transition style\r\n   * @default 'slide'\r\n   */\r\n  transition?: \"none\" | \"fade\" | \"slide\" | \"convex\" | \"concave\" | \"zoom\"\r\n\r\n  /**\r\n   * Transition speed\r\n   * @default 'default'\r\n   */\r\n  transitionSpeed?: \"default\" | \"fast\" | \"slow\"\r\n\r\n  /**\r\n   * Transition style for full page slide backgrounds\r\n   * @default 'fade'\r\n   */\r\n  backgroundTransition?:\r\n    | \"none\"\r\n    | \"fade\"\r\n    | \"slide\"\r\n    | \"convex\"\r\n    | \"concave\"\r\n    | \"zoom\"\r\n\r\n  /**\r\n   * Number of slides away from the current that are visible\r\n   * @default 3\r\n   */\r\n  viewDistance?: number\r\n\r\n  /**\r\n   * Parallax background image\r\n   * e.g. \"'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'\"\r\n   * @default \"\"\r\n   */\r\n  parallaxBackgroundImage?: string\r\n\r\n  /**\r\n   * Parallax background size\\\r\n   * CSS syntax, e.g. \"2100px 900px\"\r\n   * @default \"\"\r\n   */\r\n  parallaxBackgroundSize?: string\r\n\r\n  /**\r\n   * Number of pixels to move the parallax background per slide\r\n   * - Calculated automatically unless specified\r\n   * - Set to 0 to disable movement along an axis\r\n   * @default null\r\n   */\r\n  parallaxBackgroundHorizontal?: number\r\n\r\n  /**\r\n   * Number of pixels to move the parallax background per slide\r\n   * - Calculated automatically unless specified\r\n   * - Set to 0 to disable movement along an axis\r\n   * @default null\r\n   */\r\n  parallaxBackgroundVertical?: number\r\n\r\n  /**\r\n   * The display mode that will be used to show slides\r\n   * @default 'block'\r\n   */\r\n  display?: string\r\n}\r\n","import React from \"react\"\r\nimport { Theme, Config } from \"./Reveal.types\"\r\nimport { Global, css } from \"@emotion/core\"\r\n\r\nimport Reveal from \"reveal.js\"\r\nconst katexCss = require(`katex/dist/katex.min.css`)\r\n\r\ninterface RevealerProps {\r\n  config?: Config\r\n  html: string\r\n  separator?: string\r\n  separatorVertical?: string\r\n  separatorNotes?: string\r\n  theme?: Theme\r\n}\r\n\r\n/**\r\n * @TODO: write notes plugin for react\r\n * https://github.com/hakimel/reveal.js/tree/master/plugin/notes\r\n * https://stackoverflow.com/questions/47574490/open-a-component-in-new-window-on-a-click-in-react?rq=1\r\n */\r\nclass Revealer extends React.Component<RevealerProps> {\r\n  static defaultProps: Partial<RevealerProps> = {\r\n    theme: Theme.WHITE,\r\n    config: {\r\n      hash: true,\r\n    },\r\n  }\r\n\r\n  constructor(props: RevealerProps) {\r\n    super(props)\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\r\n      'typeof window !== \"undefined\": ',\r\n      typeof window !== \"undefined\"\r\n    )\r\n    if (typeof window !== \"undefined\") {\r\n      Reveal.initialize(this.props.config)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { html, separator, separatorVertical } = this.props\r\n\r\n    const revealCss = require(\"reveal.js/css/reveal.css\")\r\n    const themeCss = require(`reveal.js/css/theme/${this.props.theme}.css`)\r\n    return (\r\n      <>\r\n        <Global\r\n          styles={css`\r\n            ${revealCss}\r\n            ${katexCss}\r\n            .reveal {\r\n              ${themeCss}}\r\n            }\r\n          `}\r\n        />\r\n        <div className=\"reveal\">\r\n          {this.renderHtml({\r\n            html,\r\n            separator,\r\n            separatorVertical,\r\n          })}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  renderHtml = (props: {\r\n    html: string\r\n    separator: string\r\n    separatorVertical: string\r\n  }) => {\r\n    return (\r\n      <div\r\n        className=\"slides\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: this.formatHtml(props),\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  formatHtml = ({\r\n    html,\r\n    separator = \"\\n<hr>\\n\",\r\n    separatorVertical = \"\\n<p>—</p>\\n\",\r\n  }: {\r\n    html: string\r\n    separator: string\r\n    separatorVertical: string\r\n  }) => {\r\n    return html\r\n      .split(separator)\r\n      .map(\r\n        section =>\r\n          `<section>${section\r\n            .split(separatorVertical)\r\n            .map(vertSection => `<section>${vertSection}</section>`)\r\n            .join(\"\")}\r\n          </section>`\r\n      )\r\n      .join(\"\")\r\n  }\r\n}\r\n\r\nexport default Revealer\r\n","import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\n\r\nimport Reveal from \"../components/Reveal\"\r\nimport { Global, css } from \"@emotion/core\"\r\n\r\ninterface Frontmatter {\r\n  title: string\r\n  date: string\r\n  config: {}\r\n}\r\n\r\ninterface NoteProps {\r\n  data: {\r\n    markdownRemark: {\r\n      frontmatter: Frontmatter\r\n      html: string\r\n      rawMarkdownBody: string\r\n    }\r\n  }\r\n}\r\n\r\nconst NoteTemplate: React.SFC<NoteProps> = ({ data }) => {\r\n  const { markdownRemark } = data\r\n  const { frontmatter, html } = markdownRemark\r\n\r\n  /**\r\n   * https://github.com/PrismJS/prism/tree/master/themes\r\n   */\r\n  const prismThemePath = \"\"\r\n  const prismThemeName = \"prism-tomorrow\"\r\n  prismThemePath\r\n    ? require(prismThemePath)\r\n    : require(`prismjs/themes/${prismThemeName}.css`)\r\n\r\n  return (\r\n    <>\r\n      <GlobalStyles />\r\n      <Reveal config={frontmatter.config} html={html} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query NoteTemplate($filePath: String!) {\r\n    markdownRemark(fileAbsolutePath: { eq: $filePath }) {\r\n      html\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default NoteTemplate\r\n\r\n/**\r\n * @todo add line numbering styles\r\n * https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/?=prismjs#optional-add-line-numbering\r\n */\r\nfunction GlobalStyles() {\r\n  return (\r\n    <Global\r\n      styles={css`\r\n        .gatsby-highlight-code-line {\r\n          background-color: rgba(0, 0, 0, 0.5);\r\n          display: block;\r\n          margin-right: -1em;\r\n          margin-left: -1em;\r\n          padding-right: 1em;\r\n          padding-left: 0.75em;\r\n          border-left: 0.25em solid rgba(255, 255, 255, 0.5);\r\n        }\r\n      `}\r\n    />\r\n  )\r\n}\r\n","require(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\n/*!\n * reveal.js\n * http://revealjs.com\n * MIT licensed\n *\n * Copyright (C) 2019 Hakim El Hattab, http://hakim.se\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(function () {\n      root.Reveal = factory();\n      return root.Reveal;\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS.\n    module.exports = factory();\n  } else {\n    // Browser globals.\n    root.Reveal = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var Reveal; // The reveal.js version\n\n  var VERSION = '3.8.0';\n  var SLIDES_SELECTOR = '.slides section',\n      HORIZONTAL_SLIDES_SELECTOR = '.slides>section',\n      VERTICAL_SLIDES_SELECTOR = '.slides>section.present>section',\n      HOME_SLIDE_SELECTOR = '.slides>section:first-of-type',\n      UA = navigator.userAgent,\n      // Configuration defaults, can be overridden at initialization time\n  config = {\n    // The \"normal\" size of the presentation, aspect ratio will be preserved\n    // when the presentation is scaled to fit different resolutions\n    width: 960,\n    height: 700,\n    // Factor of the display size that should remain empty around the content\n    margin: 0.04,\n    // Bounds for smallest/largest possible scale to apply to content\n    minScale: 0.2,\n    maxScale: 2.0,\n    // Display presentation control arrows\n    controls: true,\n    // Help the user learn the controls by providing hints, for example by\n    // bouncing the down arrow when they first encounter a vertical slide\n    controlsTutorial: true,\n    // Determines where controls appear, \"edges\" or \"bottom-right\"\n    controlsLayout: 'bottom-right',\n    // Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\n    // or \"visible\"\n    controlsBackArrows: 'faded',\n    // Display a presentation progress bar\n    progress: true,\n    // Display the page number of the current slide\n    // - true:    Show slide number\n    // - false:   Hide slide number\n    //\n    // Can optionally be set as a string that specifies the number formatting:\n    // - \"h.v\":\t  Horizontal . vertical slide number (default)\n    // - \"h/v\":\t  Horizontal / vertical slide number\n    // - \"c\":\t  Flattened slide number\n    // - \"c/t\":\t  Flattened slide number / total slides\n    //\n    // Alternatively, you can provide a function that returns the slide\n    // number for the current slide. The function needs to return an array\n    // with one string [slideNumber] or three strings [n1,delimiter,n2].\n    // See #formatSlideNumber().\n    slideNumber: false,\n    // Can be used to limit the contexts in which the slide number appears\n    // - \"all\":      Always show the slide number\n    // - \"print\":    Only when printing to PDF\n    // - \"speaker\":  Only in the speaker view\n    showSlideNumber: 'all',\n    // Use 1 based indexing for # links to match slide number (default is zero\n    // based)\n    hashOneBasedIndex: false,\n    // Add the current slide number to the URL hash so that reloading the\n    // page/copying the URL will return you to the same slide\n    hash: false,\n    // Push each slide change to the browser history.  Implies `hash: true`\n    history: false,\n    // Enable keyboard shortcuts for navigation\n    keyboard: true,\n    // Optional function that blocks keyboard events when retuning false\n    keyboardCondition: null,\n    // Enable the slide overview mode\n    overview: true,\n    // Disables the default reveal.js slide layout so that you can use\n    // custom CSS layout\n    disableLayout: false,\n    // Vertical centering of slides\n    center: true,\n    // Enables touch navigation on devices with touch input\n    touch: true,\n    // Loop the presentation\n    loop: false,\n    // Change the presentation direction to be RTL\n    rtl: false,\n    // Changes the behavior of our navigation directions.\n    //\n    // \"default\"\n    // Left/right arrow keys step between horizontal slides, up/down\n    // arrow keys step between vertical slides. Space key steps through\n    // all slides (both horizontal and vertical).\n    //\n    // \"linear\"\n    // Removes the up/down arrows. Left/right arrows step through all\n    // slides (both horizontal and vertical).\n    //\n    // \"grid\"\n    // When this is enabled, stepping left/right from a vertical stack\n    // to an adjacent vertical stack will land you at the same vertical\n    // index.\n    //\n    // Consider a deck with six slides ordered in two vertical stacks:\n    // 1.1    2.1\n    // 1.2    2.2\n    // 1.3    2.3\n    //\n    // If you're on slide 1.3 and navigate right, you will normally move\n    // from 1.3 -> 2.1. If \"grid\" is used, the same navigation takes you\n    // from 1.3 -> 2.3.\n    navigationMode: 'default',\n    // Randomizes the order of slides each time the presentation loads\n    shuffle: false,\n    // Turns fragments on and off globally\n    fragments: true,\n    // Flags whether to include the current fragment in the URL,\n    // so that reloading brings you to the same fragment position\n    fragmentInURL: false,\n    // Flags if the presentation is running in an embedded mode,\n    // i.e. contained within a limited portion of the screen\n    embedded: false,\n    // Flags if we should show a help overlay when the question-mark\n    // key is pressed\n    help: true,\n    // Flags if it should be possible to pause the presentation (blackout)\n    pause: true,\n    // Flags if speaker notes should be visible to all viewers\n    showNotes: false,\n    // Global override for autolaying embedded media (video/audio/iframe)\n    // - null:   Media will only autoplay if data-autoplay is present\n    // - true:   All media will autoplay, regardless of individual setting\n    // - false:  No media will autoplay, regardless of individual setting\n    autoPlayMedia: null,\n    // Global override for preloading lazy-loaded iframes\n    // - null:   Iframes with data-src AND data-preload will be loaded when within\n    //           the viewDistance, iframes with only data-src will be loaded when visible\n    // - true:   All iframes with data-src will be loaded when within the viewDistance\n    // - false:  All iframes with data-src will be loaded only when visible\n    preloadIframes: null,\n    // Controls automatic progression to the next slide\n    // - 0:      Auto-sliding only happens if the data-autoslide HTML attribute\n    //           is present on the current slide or fragment\n    // - 1+:     All slides will progress automatically at the given interval\n    // - false:  No auto-sliding, even if data-autoslide is present\n    autoSlide: 0,\n    // Stop auto-sliding after user input\n    autoSlideStoppable: true,\n    // Use this method for navigation when auto-sliding (defaults to navigateNext)\n    autoSlideMethod: null,\n    // Specify the average time in seconds that you think you will spend\n    // presenting each slide. This is used to show a pacing timer in the\n    // speaker view\n    defaultTiming: null,\n    // Enable slide navigation via mouse wheel\n    mouseWheel: false,\n    // Apply a 3D roll to links on hover\n    rollingLinks: false,\n    // Hides the address bar on mobile devices\n    hideAddressBar: true,\n    // Opens links in an iframe preview overlay\n    // Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\n    // individually\n    previewLinks: false,\n    // Exposes the reveal.js API through window.postMessage\n    postMessage: true,\n    // Dispatches all reveal.js events to the parent window through postMessage\n    postMessageEvents: false,\n    // Focuses body when page changes visibility to ensure keyboard shortcuts work\n    focusBodyOnPageVisibilityChange: true,\n    // Transition style\n    transition: 'slide',\n    // none/fade/slide/convex/concave/zoom\n    // Transition speed\n    transitionSpeed: 'default',\n    // default/fast/slow\n    // Transition style for full page slide backgrounds\n    backgroundTransition: 'fade',\n    // none/fade/slide/convex/concave/zoom\n    // Parallax background image\n    parallaxBackgroundImage: '',\n    // CSS syntax, e.g. \"a.jpg\"\n    // Parallax background size\n    parallaxBackgroundSize: '',\n    // CSS syntax, e.g. \"3000px 2000px\"\n    // Parallax background repeat\n    parallaxBackgroundRepeat: '',\n    // repeat/repeat-x/repeat-y/no-repeat/initial/inherit\n    // Parallax background position\n    parallaxBackgroundPosition: '',\n    // CSS syntax, e.g. \"top left\"\n    // Amount of pixels to move the parallax background per slide step\n    parallaxBackgroundHorizontal: null,\n    parallaxBackgroundVertical: null,\n    // The maximum number of pages a single slide can expand onto when printing\n    // to PDF, unlimited by default\n    pdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,\n    // Prints each fragment on a separate slide\n    pdfSeparateFragments: true,\n    // Offset used to reduce the height of content within exported PDF pages.\n    // This exists to account for environment differences based on how you\n    // print to PDF. CLI printing options, like phantomjs and wkpdf, can end\n    // on precisely the total height of the document whereas in-browser\n    // printing has to end one pixel before.\n    pdfPageHeightOffset: -1,\n    // Number of slides away from the current that are visible\n    viewDistance: 3,\n    // The display mode that will be used to show slides\n    display: 'block',\n    // Hide cursor if inactive\n    hideInactiveCursor: true,\n    // Time before the cursor is hidden (in ms)\n    hideCursorTime: 5000,\n    // Script dependencies to load\n    dependencies: []\n  },\n      // Flags if Reveal.initialize() has been called\n  initialized = false,\n      // Flags if reveal.js is loaded (has dispatched the 'ready' event)\n  loaded = false,\n      // Flags if the overview mode is currently active\n  overview = false,\n      // Holds the dimensions of our overview slides, including margins\n  overviewSlideWidth = null,\n      overviewSlideHeight = null,\n      // The horizontal and vertical index of the currently active slide\n  indexh,\n      indexv,\n      // The previous and current slide HTML elements\n  previousSlide,\n      currentSlide,\n      previousBackground,\n      // Remember which directions that the user has navigated towards\n  hasNavigatedRight = false,\n      hasNavigatedDown = false,\n      // Slides may hold a data-state attribute which we pick up and apply\n  // as a class to the body. This list contains the combined state of\n  // all current slides.\n  state = [],\n      // The current scale of the presentation (see width/height config)\n  scale = 1,\n      // CSS transform that is currently applied to the slides container,\n  // split into two groups\n  slidesTransform = {\n    layout: '',\n    overview: ''\n  },\n      // Cached references to DOM elements\n  dom = {},\n      // A list of registered reveal.js plugins\n  plugins = {},\n      // List of asynchronously loaded reveal.js dependencies\n  asyncDependencies = [],\n      // Features supported by the browser, see #checkCapabilities()\n  features = {},\n      // Client is a mobile device, see #checkCapabilities()\n  isMobileDevice,\n      // Client is a desktop Chrome, see #checkCapabilities()\n  isChrome,\n      // Throttles mouse wheel navigation\n  lastMouseWheelStep = 0,\n      // Delays updates to the URL due to a Chrome thumbnailer bug\n  writeURLTimeout = 0,\n      // Is the mouse pointer currently hidden from view\n  cursorHidden = false,\n      // Timeout used to determine when the cursor is inactive\n  cursorInactiveTimeout = 0,\n      // Flags if the interaction event listeners are bound\n  eventsAreBound = false,\n      // The current auto-slide duration\n  autoSlide = 0,\n      // Auto slide properties\n  autoSlidePlayer,\n      autoSlideTimeout = 0,\n      autoSlideStartTime = -1,\n      autoSlidePaused = false,\n      // Holds information about the currently ongoing touch input\n  touch = {\n    startX: 0,\n    startY: 0,\n    startCount: 0,\n    captured: false,\n    threshold: 40\n  },\n      // A key:value map of shortcut keyboard keys and descriptions of\n  // the actions they trigger, generated in #configure()\n  keyboardShortcuts = {},\n      // Holds custom key code mappings\n  registeredKeyBindings = {};\n  /**\n   * Starts up the presentation if the client is capable.\n   */\n\n  function initialize(options) {\n    // Make sure we only initialize once\n    if (initialized === true) return;\n    initialized = true;\n    checkCapabilities();\n\n    if (!features.transforms2d && !features.transforms3d) {\n      document.body.setAttribute('class', 'no-transforms'); // Since JS won't be running any further, we load all lazy\n      // loading elements upfront\n\n      var images = toArray(document.getElementsByTagName('img')),\n          iframes = toArray(document.getElementsByTagName('iframe'));\n      var lazyLoadable = images.concat(iframes);\n\n      for (var i = 0, len = lazyLoadable.length; i < len; i++) {\n        var element = lazyLoadable[i];\n\n        if (element.getAttribute('data-src')) {\n          element.setAttribute('src', element.getAttribute('data-src'));\n          element.removeAttribute('data-src');\n        }\n      } // If the browser doesn't support core features we won't be\n      // using JavaScript to control the presentation\n\n\n      return;\n    } // Cache references to key DOM elements\n\n\n    dom.wrapper = document.querySelector('.reveal');\n    dom.slides = document.querySelector('.reveal .slides'); // Force a layout when the whole page, incl fonts, has loaded\n\n    window.addEventListener('load', layout, false);\n    var query = Reveal.getQueryHash(); // Do not accept new dependencies via query config to avoid\n    // the potential of malicious script injection\n\n    if (typeof query['dependencies'] !== 'undefined') delete query['dependencies']; // Copy options over to our config object\n\n    extend(config, options);\n    extend(config, query); // Hide the address bar in mobile browsers\n\n    hideAddressBar(); // Loads dependencies and continues to #start() once done\n\n    load();\n  }\n  /**\n   * Inspect the client to see what it's capable of, this\n   * should only happens once per runtime.\n   */\n\n\n  function checkCapabilities() {\n    isMobileDevice = /(iphone|ipod|ipad|android)/gi.test(UA);\n    isChrome = /chrome/i.test(UA) && !/edge/i.test(UA);\n    var testElement = document.createElement('div');\n    features.transforms3d = 'WebkitPerspective' in testElement.style || 'MozPerspective' in testElement.style || 'msPerspective' in testElement.style || 'OPerspective' in testElement.style || 'perspective' in testElement.style;\n    features.transforms2d = 'WebkitTransform' in testElement.style || 'MozTransform' in testElement.style || 'msTransform' in testElement.style || 'OTransform' in testElement.style || 'transform' in testElement.style;\n    features.requestAnimationFrameMethod = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n    features.requestAnimationFrame = typeof features.requestAnimationFrameMethod === 'function';\n    features.canvas = !!document.createElement('canvas').getContext; // Transitions in the overview are disabled in desktop and\n    // Safari due to lag\n\n    features.overviewTransitions = !/Version\\/[\\d\\.]+.*Safari/.test(UA); // Flags if we should use zoom instead of transform to scale\n    // up slides. Zoom produces crisper results but has a lot of\n    // xbrowser quirks so we only use it in whitelsited browsers.\n\n    features.zoom = 'zoom' in testElement.style && !isMobileDevice && (isChrome || /Version\\/[\\d\\.]+.*Safari/.test(UA));\n  }\n  /**\n   * Loads the dependencies of reveal.js. Dependencies are\n   * defined via the configuration option 'dependencies'\n   * and will be loaded prior to starting/binding reveal.js.\n   * Some dependencies may have an 'async' flag, if so they\n   * will load after reveal.js has been started up.\n   */\n\n\n  function load() {\n    var scripts = [],\n        scriptsToLoad = 0;\n    config.dependencies.forEach(function (s) {\n      // Load if there's no condition or the condition is truthy\n      if (!s.condition || s.condition()) {\n        if (s.async) {\n          asyncDependencies.push(s);\n        } else {\n          scripts.push(s);\n        }\n      }\n    });\n\n    if (scripts.length) {\n      scriptsToLoad = scripts.length; // Load synchronous scripts\n\n      scripts.forEach(function (s) {\n        loadScript(s.src, function () {\n          if (typeof s.callback === 'function') s.callback();\n\n          if (--scriptsToLoad === 0) {\n            initPlugins();\n          }\n        });\n      });\n    } else {\n      initPlugins();\n    }\n  }\n  /**\n   * Initializes our plugins and waits for them to be ready\n   * before proceeding.\n   */\n\n\n  function initPlugins() {\n    var pluginsToInitialize = Object.keys(plugins).length; // If there are no plugins, skip this step\n\n    if (pluginsToInitialize === 0) {\n      loadAsyncDependencies();\n    } // ... otherwise initialize plugins\n    else {\n        var afterPlugInitialized = function afterPlugInitialized() {\n          if (--pluginsToInitialize === 0) {\n            loadAsyncDependencies();\n          }\n        };\n\n        for (var i in plugins) {\n          var plugin = plugins[i]; // If the plugin has an 'init' method, invoke it\n\n          if (typeof plugin.init === 'function') {\n            var callback = plugin.init(); // If the plugin returned a Promise, wait for it\n\n            if (callback && typeof callback.then === 'function') {\n              callback.then(afterPlugInitialized);\n            } else {\n              afterPlugInitialized();\n            }\n          } else {\n            afterPlugInitialized();\n          }\n        }\n      }\n  }\n  /**\n   * Loads all async reveal.js dependencies.\n   */\n\n\n  function loadAsyncDependencies() {\n    if (asyncDependencies.length) {\n      asyncDependencies.forEach(function (s) {\n        loadScript(s.src, s.callback);\n      });\n    }\n\n    start();\n  }\n  /**\n   * Loads a JavaScript file from the given URL and executes it.\n   *\n   * @param {string} url Address of the .js file to load\n   * @param {function} callback Method to invoke when the script\n   * has loaded and executed\n   */\n\n\n  function loadScript(url, callback) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.async = false;\n    script.defer = false;\n    script.src = url;\n\n    if (callback) {\n      // Success callback\n      script.onload = script.onreadystatechange = function (event) {\n        if (event.type === \"load\" || /loaded|complete/.test(script.readyState)) {\n          // Kill event listeners\n          script.onload = script.onreadystatechange = script.onerror = null;\n          callback();\n        }\n      }; // Error callback\n\n\n      script.onerror = function (err) {\n        // Kill event listeners\n        script.onload = script.onreadystatechange = script.onerror = null;\n        callback(new Error('Failed loading script: ' + script.src + '\\n' + err));\n      };\n    } // Append the script at the end of <head>\n\n\n    var head = document.querySelector('head');\n    head.insertBefore(script, head.lastChild);\n  }\n  /**\n   * Starts up reveal.js by binding input events and navigating\n   * to the current URL deeplink if there is one.\n   */\n\n\n  function start() {\n    loaded = true; // Make sure we've got all the DOM elements we need\n\n    setupDOM(); // Listen to messages posted to this window\n\n    setupPostMessage(); // Prevent the slides from being scrolled out of view\n\n    setupScrollPrevention(); // Resets all vertical slides so that only the first is visible\n\n    resetVerticalSlides(); // Updates the presentation to match the current configuration values\n\n    configure(); // Read the initial hash\n\n    readURL(); // Update all backgrounds\n\n    updateBackground(true); // Notify listeners that the presentation is ready but use a 1ms\n    // timeout to ensure it's not fired synchronously after #initialize()\n\n    setTimeout(function () {\n      // Enable transitions now that we're loaded\n      dom.slides.classList.remove('no-transition');\n      dom.wrapper.classList.add('ready');\n      dispatchEvent('ready', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }, 1); // Special setup and config is required when printing to PDF\n\n    if (isPrintingPDF()) {\n      removeEventListeners(); // The document needs to have loaded for the PDF layout\n      // measurements to be accurate\n\n      if (document.readyState === 'complete') {\n        setupPDF();\n      } else {\n        window.addEventListener('load', setupPDF);\n      }\n    }\n  }\n  /**\n   * Finds and stores references to DOM elements which are\n   * required by the presentation. If a required element is\n   * not found, it is created.\n   */\n\n\n  function setupDOM() {\n    // Prevent transitions while we're loading\n    dom.slides.classList.add('no-transition');\n\n    if (isMobileDevice) {\n      dom.wrapper.classList.add('no-hover');\n    } else {\n      dom.wrapper.classList.remove('no-hover');\n    }\n\n    if (/iphone/gi.test(UA)) {\n      dom.wrapper.classList.add('ua-iphone');\n    } else {\n      dom.wrapper.classList.remove('ua-iphone');\n    } // Background element\n\n\n    dom.background = createSingletonNode(dom.wrapper, 'div', 'backgrounds', null); // Progress bar\n\n    dom.progress = createSingletonNode(dom.wrapper, 'div', 'progress', '<span></span>');\n    dom.progressbar = dom.progress.querySelector('span'); // Arrow controls\n\n    dom.controls = createSingletonNode(dom.wrapper, 'aside', 'controls', '<button class=\"navigate-left\" aria-label=\"previous slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-right\" aria-label=\"next slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-up\" aria-label=\"above slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-down\" aria-label=\"below slide\"><div class=\"controls-arrow\"></div></button>'); // Slide number\n\n    dom.slideNumber = createSingletonNode(dom.wrapper, 'div', 'slide-number', ''); // Element containing notes that are visible to the audience\n\n    dom.speakerNotes = createSingletonNode(dom.wrapper, 'div', 'speaker-notes', null);\n    dom.speakerNotes.setAttribute('data-prevent-swipe', '');\n    dom.speakerNotes.setAttribute('tabindex', '0'); // Overlay graphic which is displayed during the paused mode\n\n    dom.pauseOverlay = createSingletonNode(dom.wrapper, 'div', 'pause-overlay', config.controls ? '<button class=\"resume-button\">Resume presentation</button>' : null);\n    dom.wrapper.setAttribute('role', 'application'); // There can be multiple instances of controls throughout the page\n\n    dom.controlsLeft = toArray(document.querySelectorAll('.navigate-left'));\n    dom.controlsRight = toArray(document.querySelectorAll('.navigate-right'));\n    dom.controlsUp = toArray(document.querySelectorAll('.navigate-up'));\n    dom.controlsDown = toArray(document.querySelectorAll('.navigate-down'));\n    dom.controlsPrev = toArray(document.querySelectorAll('.navigate-prev'));\n    dom.controlsNext = toArray(document.querySelectorAll('.navigate-next')); // The right and down arrows in the standard reveal.js controls\n\n    dom.controlsRightArrow = dom.controls.querySelector('.navigate-right');\n    dom.controlsDownArrow = dom.controls.querySelector('.navigate-down');\n    dom.statusDiv = createStatusDiv();\n  }\n  /**\n   * Creates a hidden div with role aria-live to announce the\n   * current slide content. Hide the div off-screen to make it\n   * available only to Assistive Technologies.\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function createStatusDiv() {\n    var statusDiv = document.getElementById('aria-status-div');\n\n    if (!statusDiv) {\n      statusDiv = document.createElement('div');\n      statusDiv.style.position = 'absolute';\n      statusDiv.style.height = '1px';\n      statusDiv.style.width = '1px';\n      statusDiv.style.overflow = 'hidden';\n      statusDiv.style.clip = 'rect( 1px, 1px, 1px, 1px )';\n      statusDiv.setAttribute('id', 'aria-status-div');\n      statusDiv.setAttribute('aria-live', 'polite');\n      statusDiv.setAttribute('aria-atomic', 'true');\n      dom.wrapper.appendChild(statusDiv);\n    }\n\n    return statusDiv;\n  }\n  /**\n   * Converts the given HTML element into a string of text\n   * that can be announced to a screen reader. Hidden\n   * elements are excluded.\n   */\n\n\n  function getStatusText(node) {\n    var text = ''; // Text node\n\n    if (node.nodeType === 3) {\n      text += node.textContent;\n    } // Element node\n    else if (node.nodeType === 1) {\n        var isAriaHidden = node.getAttribute('aria-hidden');\n        var isDisplayHidden = window.getComputedStyle(node)['display'] === 'none';\n\n        if (isAriaHidden !== 'true' && !isDisplayHidden) {\n          toArray(node.childNodes).forEach(function (child) {\n            text += getStatusText(child);\n          });\n        }\n      }\n\n    return text;\n  }\n  /**\n   * Configures the presentation for printing to a static\n   * PDF.\n   */\n\n\n  function setupPDF() {\n    var slideSize = getComputedSlideSize(window.innerWidth, window.innerHeight); // Dimensions of the PDF pages\n\n    var pageWidth = Math.floor(slideSize.width * (1 + config.margin)),\n        pageHeight = Math.floor(slideSize.height * (1 + config.margin)); // Dimensions of slides within the pages\n\n    var slideWidth = slideSize.width,\n        slideHeight = slideSize.height; // Let the browser know what page size we want to print\n\n    injectStyleSheet('@page{size:' + pageWidth + 'px ' + pageHeight + 'px; margin: 0px;}'); // Limit the size of certain elements to the dimensions of the slide\n\n    injectStyleSheet('.reveal section>img, .reveal section>video, .reveal section>iframe{max-width: ' + slideWidth + 'px; max-height:' + slideHeight + 'px}');\n    document.body.classList.add('print-pdf');\n    document.body.style.width = pageWidth + 'px';\n    document.body.style.height = pageHeight + 'px'; // Make sure stretch elements fit on slide\n\n    layoutSlideContents(slideWidth, slideHeight); // Add each slide's index as attributes on itself, we need these\n    // indices to generate slide numbers below\n\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (hslide, h) {\n      hslide.setAttribute('data-index-h', h);\n\n      if (hslide.classList.contains('stack')) {\n        toArray(hslide.querySelectorAll('section')).forEach(function (vslide, v) {\n          vslide.setAttribute('data-index-h', h);\n          vslide.setAttribute('data-index-v', v);\n        });\n      }\n    }); // Slide and slide background layout\n\n    toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n      // Vertical stacks are not centred since their section\n      // children will be\n      if (slide.classList.contains('stack') === false) {\n        // Center the slide inside of the page, giving the slide some margin\n        var left = (pageWidth - slideWidth) / 2,\n            top = (pageHeight - slideHeight) / 2;\n        var contentHeight = slide.scrollHeight;\n        var numberOfPages = Math.max(Math.ceil(contentHeight / pageHeight), 1); // Adhere to configured pages per slide limit\n\n        numberOfPages = Math.min(numberOfPages, config.pdfMaxPagesPerSlide); // Center slides vertically\n\n        if (numberOfPages === 1 && config.center || slide.classList.contains('center')) {\n          top = Math.max((pageHeight - contentHeight) / 2, 0);\n        } // Wrap the slide in a page element and hide its overflow\n        // so that no page ever flows onto another\n\n\n        var page = document.createElement('div');\n        page.className = 'pdf-page';\n        page.style.height = (pageHeight + config.pdfPageHeightOffset) * numberOfPages + 'px';\n        slide.parentNode.insertBefore(page, slide);\n        page.appendChild(slide); // Position the slide inside of the page\n\n        slide.style.left = left + 'px';\n        slide.style.top = top + 'px';\n        slide.style.width = slideWidth + 'px';\n\n        if (slide.slideBackgroundElement) {\n          page.insertBefore(slide.slideBackgroundElement, slide);\n        } // Inject notes if `showNotes` is enabled\n\n\n        if (config.showNotes) {\n          // Are there notes for this slide?\n          var notes = getSlideNotes(slide);\n\n          if (notes) {\n            var notesSpacing = 8;\n            var notesLayout = typeof config.showNotes === 'string' ? config.showNotes : 'inline';\n            var notesElement = document.createElement('div');\n            notesElement.classList.add('speaker-notes');\n            notesElement.classList.add('speaker-notes-pdf');\n            notesElement.setAttribute('data-layout', notesLayout);\n            notesElement.innerHTML = notes;\n\n            if (notesLayout === 'separate-page') {\n              page.parentNode.insertBefore(notesElement, page.nextSibling);\n            } else {\n              notesElement.style.left = notesSpacing + 'px';\n              notesElement.style.bottom = notesSpacing + 'px';\n              notesElement.style.width = pageWidth - notesSpacing * 2 + 'px';\n              page.appendChild(notesElement);\n            }\n          }\n        } // Inject slide numbers if `slideNumbers` are enabled\n\n\n        if (config.slideNumber && /all|print/i.test(config.showSlideNumber)) {\n          var slideNumberH = parseInt(slide.getAttribute('data-index-h'), 10) + 1,\n              slideNumberV = parseInt(slide.getAttribute('data-index-v'), 10) + 1;\n          var numberElement = document.createElement('div');\n          numberElement.classList.add('slide-number');\n          numberElement.classList.add('slide-number-pdf');\n          numberElement.innerHTML = formatSlideNumber(slideNumberH, '.', slideNumberV);\n          page.appendChild(numberElement);\n        } // Copy page and show fragments one after another\n\n\n        if (config.pdfSeparateFragments) {\n          // Each fragment 'group' is an array containing one or more\n          // fragments. Multiple fragments that appear at the same time\n          // are part of the same group.\n          var fragmentGroups = sortFragments(page.querySelectorAll('.fragment'), true);\n          var previousFragmentStep;\n          var previousPage;\n          fragmentGroups.forEach(function (fragments) {\n            // Remove 'current-fragment' from the previous group\n            if (previousFragmentStep) {\n              previousFragmentStep.forEach(function (fragment) {\n                fragment.classList.remove('current-fragment');\n              });\n            } // Show the fragments for the current index\n\n\n            fragments.forEach(function (fragment) {\n              fragment.classList.add('visible', 'current-fragment');\n            }); // Create a separate page for the current fragment state\n\n            var clonedPage = page.cloneNode(true);\n            page.parentNode.insertBefore(clonedPage, (previousPage || page).nextSibling);\n            previousFragmentStep = fragments;\n            previousPage = clonedPage;\n          }); // Reset the first/original page so that all fragments are hidden\n\n          fragmentGroups.forEach(function (fragments) {\n            fragments.forEach(function (fragment) {\n              fragment.classList.remove('visible', 'current-fragment');\n            });\n          });\n        } // Show all fragments\n        else {\n            toArray(page.querySelectorAll('.fragment:not(.fade-out)')).forEach(function (fragment) {\n              fragment.classList.add('visible');\n            });\n          }\n      }\n    }); // Notify subscribers that the PDF layout is good to go\n\n    dispatchEvent('pdf-ready');\n  }\n  /**\n   * This is an unfortunate necessity. Some actions – such as\n   * an input field being focused in an iframe or using the\n   * keyboard to expand text selection beyond the bounds of\n   * a slide – can trigger our content to be pushed out of view.\n   * This scrolling can not be prevented by hiding overflow in\n   * CSS (we already do) so we have to resort to repeatedly\n   * checking if the slides have been offset :(\n   */\n\n\n  function setupScrollPrevention() {\n    setInterval(function () {\n      if (dom.wrapper.scrollTop !== 0 || dom.wrapper.scrollLeft !== 0) {\n        dom.wrapper.scrollTop = 0;\n        dom.wrapper.scrollLeft = 0;\n      }\n    }, 1000);\n  }\n  /**\n   * Creates an HTML element and returns a reference to it.\n   * If the element already exists the existing instance will\n   * be returned.\n   *\n   * @param {HTMLElement} container\n   * @param {string} tagname\n   * @param {string} classname\n   * @param {string} innerHTML\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function createSingletonNode(container, tagname, classname, innerHTML) {\n    // Find all nodes matching the description\n    var nodes = container.querySelectorAll('.' + classname); // Check all matches to find one which is a direct child of\n    // the specified container\n\n    for (var i = 0; i < nodes.length; i++) {\n      var testNode = nodes[i];\n\n      if (testNode.parentNode === container) {\n        return testNode;\n      }\n    } // If no node was found, create it now\n\n\n    var node = document.createElement(tagname);\n    node.className = classname;\n\n    if (typeof innerHTML === 'string') {\n      node.innerHTML = innerHTML;\n    }\n\n    container.appendChild(node);\n    return node;\n  }\n  /**\n   * Creates the slide background elements and appends them\n   * to the background container. One element is created per\n   * slide no matter if the given slide has visible background.\n   */\n\n\n  function createBackgrounds() {\n    var printMode = isPrintingPDF(); // Clear prior backgrounds\n\n    dom.background.innerHTML = '';\n    dom.background.classList.add('no-transition'); // Iterate over all horizontal slides\n\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (slideh) {\n      var backgroundStack = createBackground(slideh, dom.background); // Iterate over all vertical slides\n\n      toArray(slideh.querySelectorAll('section')).forEach(function (slidev) {\n        createBackground(slidev, backgroundStack);\n        backgroundStack.classList.add('stack');\n      });\n    }); // Add parallax background if specified\n\n    if (config.parallaxBackgroundImage) {\n      dom.background.style.backgroundImage = 'url(\"' + config.parallaxBackgroundImage + '\")';\n      dom.background.style.backgroundSize = config.parallaxBackgroundSize;\n      dom.background.style.backgroundRepeat = config.parallaxBackgroundRepeat;\n      dom.background.style.backgroundPosition = config.parallaxBackgroundPosition; // Make sure the below properties are set on the element - these properties are\n      // needed for proper transitions to be set on the element via CSS. To remove\n      // annoying background slide-in effect when the presentation starts, apply\n      // these properties after short time delay\n\n      setTimeout(function () {\n        dom.wrapper.classList.add('has-parallax-background');\n      }, 1);\n    } else {\n      dom.background.style.backgroundImage = '';\n      dom.wrapper.classList.remove('has-parallax-background');\n    }\n  }\n  /**\n   * Creates a background for the given slide.\n   *\n   * @param {HTMLElement} slide\n   * @param {HTMLElement} container The element that the background\n   * should be appended to\n   * @return {HTMLElement} New background div\n   */\n\n\n  function createBackground(slide, container) {\n    // Main slide background element\n    var element = document.createElement('div');\n    element.className = 'slide-background ' + slide.className.replace(/present|past|future/, ''); // Inner background element that wraps images/videos/iframes\n\n    var contentElement = document.createElement('div');\n    contentElement.className = 'slide-background-content';\n    element.appendChild(contentElement);\n    container.appendChild(element);\n    slide.slideBackgroundElement = element;\n    slide.slideBackgroundContentElement = contentElement; // Syncs the background to reflect all current background settings\n\n    syncBackground(slide);\n    return element;\n  }\n  /**\n   * Renders all of the visual properties of a slide background\n   * based on the various background attributes.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function syncBackground(slide) {\n    var element = slide.slideBackgroundElement,\n        contentElement = slide.slideBackgroundContentElement; // Reset the prior background state in case this is not the\n    // initial sync\n\n    slide.classList.remove('has-dark-background');\n    slide.classList.remove('has-light-background');\n    element.removeAttribute('data-loaded');\n    element.removeAttribute('data-background-hash');\n    element.removeAttribute('data-background-size');\n    element.removeAttribute('data-background-transition');\n    element.style.backgroundColor = '';\n    contentElement.style.backgroundSize = '';\n    contentElement.style.backgroundRepeat = '';\n    contentElement.style.backgroundPosition = '';\n    contentElement.style.backgroundImage = '';\n    contentElement.style.opacity = '';\n    contentElement.innerHTML = '';\n    var data = {\n      background: slide.getAttribute('data-background'),\n      backgroundSize: slide.getAttribute('data-background-size'),\n      backgroundImage: slide.getAttribute('data-background-image'),\n      backgroundVideo: slide.getAttribute('data-background-video'),\n      backgroundIframe: slide.getAttribute('data-background-iframe'),\n      backgroundColor: slide.getAttribute('data-background-color'),\n      backgroundRepeat: slide.getAttribute('data-background-repeat'),\n      backgroundPosition: slide.getAttribute('data-background-position'),\n      backgroundTransition: slide.getAttribute('data-background-transition'),\n      backgroundOpacity: slide.getAttribute('data-background-opacity')\n    };\n\n    if (data.background) {\n      // Auto-wrap image urls in url(...)\n      if (/^(http|file|\\/\\/)/gi.test(data.background) || /\\.(svg|png|jpg|jpeg|gif|bmp)([?#\\s]|$)/gi.test(data.background)) {\n        slide.setAttribute('data-background-image', data.background);\n      } else {\n        element.style.background = data.background;\n      }\n    } // Create a hash for this combination of background settings.\n    // This is used to determine when two slide backgrounds are\n    // the same.\n\n\n    if (data.background || data.backgroundColor || data.backgroundImage || data.backgroundVideo || data.backgroundIframe) {\n      element.setAttribute('data-background-hash', data.background + data.backgroundSize + data.backgroundImage + data.backgroundVideo + data.backgroundIframe + data.backgroundColor + data.backgroundRepeat + data.backgroundPosition + data.backgroundTransition + data.backgroundOpacity);\n    } // Additional and optional background properties\n\n\n    if (data.backgroundSize) element.setAttribute('data-background-size', data.backgroundSize);\n    if (data.backgroundColor) element.style.backgroundColor = data.backgroundColor;\n    if (data.backgroundTransition) element.setAttribute('data-background-transition', data.backgroundTransition); // Background image options are set on the content wrapper\n\n    if (data.backgroundSize) contentElement.style.backgroundSize = data.backgroundSize;\n    if (data.backgroundRepeat) contentElement.style.backgroundRepeat = data.backgroundRepeat;\n    if (data.backgroundPosition) contentElement.style.backgroundPosition = data.backgroundPosition;\n    if (data.backgroundOpacity) contentElement.style.opacity = data.backgroundOpacity; // If this slide has a background color, we add a class that\n    // signals if it is light or dark. If the slide has no background\n    // color, no class will be added\n\n    var contrastColor = data.backgroundColor; // If no bg color was found, check the computed background\n\n    if (!contrastColor) {\n      var computedBackgroundStyle = window.getComputedStyle(element);\n\n      if (computedBackgroundStyle && computedBackgroundStyle.backgroundColor) {\n        contrastColor = computedBackgroundStyle.backgroundColor;\n      }\n    }\n\n    if (contrastColor) {\n      var rgb = colorToRgb(contrastColor); // Ignore fully transparent backgrounds. Some browsers return\n      // rgba(0,0,0,0) when reading the computed background color of\n      // an element with no background\n\n      if (rgb && rgb.a !== 0) {\n        if (colorBrightness(contrastColor) < 128) {\n          slide.classList.add('has-dark-background');\n        } else {\n          slide.classList.add('has-light-background');\n        }\n      }\n    }\n  }\n  /**\n   * Registers a listener to postMessage events, this makes it\n   * possible to call all reveal.js API methods from another\n   * window. For example:\n   *\n   * revealWindow.postMessage( JSON.stringify({\n   *   method: 'slide',\n   *   args: [ 2 ]\n   * }), '*' );\n   */\n\n\n  function setupPostMessage() {\n    if (config.postMessage) {\n      window.addEventListener('message', function (event) {\n        var data = event.data; // Make sure we're dealing with JSON\n\n        if (typeof data === 'string' && data.charAt(0) === '{' && data.charAt(data.length - 1) === '}') {\n          data = JSON.parse(data); // Check if the requested method can be found\n\n          if (data.method && typeof Reveal[data.method] === 'function') {\n            Reveal[data.method].apply(Reveal, data.args);\n          }\n        }\n      }, false);\n    }\n  }\n  /**\n   * Applies the configuration settings from the config\n   * object. May be called multiple times.\n   *\n   * @param {object} options\n   */\n\n\n  function configure(options) {\n    var oldTransition = config.transition; // New config options may be passed when this method\n    // is invoked through the API after initialization\n\n    if (typeof options === 'object') extend(config, options); // Abort if reveal.js hasn't finished loading, config\n    // changes will be applied automatically once loading\n    // finishes\n\n    if (loaded === false) return;\n    var numberOfSlides = dom.wrapper.querySelectorAll(SLIDES_SELECTOR).length; // Remove the previously configured transition class\n\n    dom.wrapper.classList.remove(oldTransition); // Force linear transition based on browser capabilities\n\n    if (features.transforms3d === false) config.transition = 'linear';\n    dom.wrapper.classList.add(config.transition);\n    dom.wrapper.setAttribute('data-transition-speed', config.transitionSpeed);\n    dom.wrapper.setAttribute('data-background-transition', config.backgroundTransition);\n    dom.controls.style.display = config.controls ? 'block' : 'none';\n    dom.progress.style.display = config.progress ? 'block' : 'none';\n    dom.controls.setAttribute('data-controls-layout', config.controlsLayout);\n    dom.controls.setAttribute('data-controls-back-arrows', config.controlsBackArrows);\n\n    if (config.shuffle) {\n      shuffle();\n    }\n\n    if (config.rtl) {\n      dom.wrapper.classList.add('rtl');\n    } else {\n      dom.wrapper.classList.remove('rtl');\n    }\n\n    if (config.center) {\n      dom.wrapper.classList.add('center');\n    } else {\n      dom.wrapper.classList.remove('center');\n    } // Exit the paused mode if it was configured off\n\n\n    if (config.pause === false) {\n      resume();\n    }\n\n    if (config.showNotes) {\n      dom.speakerNotes.setAttribute('data-layout', typeof config.showNotes === 'string' ? config.showNotes : 'inline');\n    }\n\n    if (config.mouseWheel) {\n      document.addEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\n      document.addEventListener('mousewheel', onDocumentMouseScroll, false);\n    } else {\n      document.removeEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\n      document.removeEventListener('mousewheel', onDocumentMouseScroll, false);\n    } // Rolling 3D links\n\n\n    if (config.rollingLinks) {\n      enableRollingLinks();\n    } else {\n      disableRollingLinks();\n    } // Auto-hide the mouse pointer when its inactive\n\n\n    if (config.hideInactiveCursor) {\n      document.addEventListener('mousemove', onDocumentCursorActive, false);\n      document.addEventListener('mousedown', onDocumentCursorActive, false);\n    } else {\n      showCursor();\n      document.removeEventListener('mousemove', onDocumentCursorActive, false);\n      document.removeEventListener('mousedown', onDocumentCursorActive, false);\n    } // Iframe link previews\n\n\n    if (config.previewLinks) {\n      enablePreviewLinks();\n      disablePreviewLinks('[data-preview-link=false]');\n    } else {\n      disablePreviewLinks();\n      enablePreviewLinks('[data-preview-link]:not([data-preview-link=false])');\n    } // Remove existing auto-slide controls\n\n\n    if (autoSlidePlayer) {\n      autoSlidePlayer.destroy();\n      autoSlidePlayer = null;\n    } // Generate auto-slide controls if needed\n\n\n    if (numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable && features.canvas && features.requestAnimationFrame) {\n      autoSlidePlayer = new Playback(dom.wrapper, function () {\n        return Math.min(Math.max((Date.now() - autoSlideStartTime) / autoSlide, 0), 1);\n      });\n      autoSlidePlayer.on('click', onAutoSlidePlayerClick);\n      autoSlidePaused = false;\n    } // When fragments are turned off they should be visible\n\n\n    if (config.fragments === false) {\n      toArray(dom.slides.querySelectorAll('.fragment')).forEach(function (element) {\n        element.classList.add('visible');\n        element.classList.remove('current-fragment');\n      });\n    } // Slide numbers\n\n\n    var slideNumberDisplay = 'none';\n\n    if (config.slideNumber && !isPrintingPDF()) {\n      if (config.showSlideNumber === 'all') {\n        slideNumberDisplay = 'block';\n      } else if (config.showSlideNumber === 'speaker' && isSpeakerNotes()) {\n        slideNumberDisplay = 'block';\n      }\n    }\n\n    dom.slideNumber.style.display = slideNumberDisplay; // Add the navigation mode to the DOM so we can adjust styling\n\n    if (config.navigationMode !== 'default') {\n      dom.wrapper.setAttribute('data-navigation-mode', config.navigationMode);\n    } else {\n      dom.wrapper.removeAttribute('data-navigation-mode');\n    } // Define our contextual list of keyboard shortcuts\n\n\n    if (config.navigationMode === 'linear') {\n      keyboardShortcuts['&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J'] = 'Next slide';\n      keyboardShortcuts['&#8592;  ,  &#8593;  ,  P  ,  H  ,  K'] = 'Previous slide';\n    } else {\n      keyboardShortcuts['N  ,  SPACE'] = 'Next slide';\n      keyboardShortcuts['P'] = 'Previous slide';\n      keyboardShortcuts['&#8592;  ,  H'] = 'Navigate left';\n      keyboardShortcuts['&#8594;  ,  L'] = 'Navigate right';\n      keyboardShortcuts['&#8593;  ,  K'] = 'Navigate up';\n      keyboardShortcuts['&#8595;  ,  J'] = 'Navigate down';\n    }\n\n    keyboardShortcuts['Home  ,  &#8984;/CTRL &#8592;'] = 'First slide';\n    keyboardShortcuts['End  ,  &#8984;/CTRL &#8594;'] = 'Last slide';\n    keyboardShortcuts['B  ,  .'] = 'Pause';\n    keyboardShortcuts['F'] = 'Fullscreen';\n    keyboardShortcuts['ESC, O'] = 'Slide overview';\n    sync();\n  }\n  /**\n   * Binds all event listeners.\n   */\n\n\n  function addEventListeners() {\n    eventsAreBound = true;\n    window.addEventListener('hashchange', onWindowHashChange, false);\n    window.addEventListener('resize', onWindowResize, false);\n\n    if (config.touch) {\n      if ('onpointerdown' in window) {\n        // Use W3C pointer events\n        dom.wrapper.addEventListener('pointerdown', onPointerDown, false);\n        dom.wrapper.addEventListener('pointermove', onPointerMove, false);\n        dom.wrapper.addEventListener('pointerup', onPointerUp, false);\n      } else if (window.navigator.msPointerEnabled) {\n        // IE 10 uses prefixed version of pointer events\n        dom.wrapper.addEventListener('MSPointerDown', onPointerDown, false);\n        dom.wrapper.addEventListener('MSPointerMove', onPointerMove, false);\n        dom.wrapper.addEventListener('MSPointerUp', onPointerUp, false);\n      } else {\n        // Fall back to touch events\n        dom.wrapper.addEventListener('touchstart', onTouchStart, false);\n        dom.wrapper.addEventListener('touchmove', onTouchMove, false);\n        dom.wrapper.addEventListener('touchend', onTouchEnd, false);\n      }\n    }\n\n    if (config.keyboard) {\n      document.addEventListener('keydown', onDocumentKeyDown, false);\n      document.addEventListener('keypress', onDocumentKeyPress, false);\n    }\n\n    if (config.progress && dom.progress) {\n      dom.progress.addEventListener('click', onProgressClicked, false);\n    }\n\n    dom.pauseOverlay.addEventListener('click', resume, false);\n\n    if (config.focusBodyOnPageVisibilityChange) {\n      var visibilityChange;\n\n      if ('hidden' in document) {\n        visibilityChange = 'visibilitychange';\n      } else if ('msHidden' in document) {\n        visibilityChange = 'msvisibilitychange';\n      } else if ('webkitHidden' in document) {\n        visibilityChange = 'webkitvisibilitychange';\n      }\n\n      if (visibilityChange) {\n        document.addEventListener(visibilityChange, onPageVisibilityChange, false);\n      }\n    } // Listen to both touch and click events, in case the device\n    // supports both\n\n\n    var pointerEvents = ['touchstart', 'click']; // Only support touch for Android, fixes double navigations in\n    // stock browser\n\n    if (UA.match(/android/gi)) {\n      pointerEvents = ['touchstart'];\n    }\n\n    pointerEvents.forEach(function (eventName) {\n      dom.controlsLeft.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateLeftClicked, false);\n      });\n      dom.controlsRight.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateRightClicked, false);\n      });\n      dom.controlsUp.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateUpClicked, false);\n      });\n      dom.controlsDown.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateDownClicked, false);\n      });\n      dom.controlsPrev.forEach(function (el) {\n        el.addEventListener(eventName, onNavigatePrevClicked, false);\n      });\n      dom.controlsNext.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateNextClicked, false);\n      });\n    });\n  }\n  /**\n   * Unbinds all event listeners.\n   */\n\n\n  function removeEventListeners() {\n    eventsAreBound = false;\n    document.removeEventListener('keydown', onDocumentKeyDown, false);\n    document.removeEventListener('keypress', onDocumentKeyPress, false);\n    window.removeEventListener('hashchange', onWindowHashChange, false);\n    window.removeEventListener('resize', onWindowResize, false);\n    dom.wrapper.removeEventListener('pointerdown', onPointerDown, false);\n    dom.wrapper.removeEventListener('pointermove', onPointerMove, false);\n    dom.wrapper.removeEventListener('pointerup', onPointerUp, false);\n    dom.wrapper.removeEventListener('MSPointerDown', onPointerDown, false);\n    dom.wrapper.removeEventListener('MSPointerMove', onPointerMove, false);\n    dom.wrapper.removeEventListener('MSPointerUp', onPointerUp, false);\n    dom.wrapper.removeEventListener('touchstart', onTouchStart, false);\n    dom.wrapper.removeEventListener('touchmove', onTouchMove, false);\n    dom.wrapper.removeEventListener('touchend', onTouchEnd, false);\n    dom.pauseOverlay.removeEventListener('click', resume, false);\n\n    if (config.progress && dom.progress) {\n      dom.progress.removeEventListener('click', onProgressClicked, false);\n    }\n\n    ['touchstart', 'click'].forEach(function (eventName) {\n      dom.controlsLeft.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateLeftClicked, false);\n      });\n      dom.controlsRight.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateRightClicked, false);\n      });\n      dom.controlsUp.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateUpClicked, false);\n      });\n      dom.controlsDown.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateDownClicked, false);\n      });\n      dom.controlsPrev.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigatePrevClicked, false);\n      });\n      dom.controlsNext.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateNextClicked, false);\n      });\n    });\n  }\n  /**\n   * Registers a new plugin with this reveal.js instance.\n   *\n   * reveal.js waits for all regisered plugins to initialize\n   * before considering itself ready, as long as the plugin\n   * is registered before calling `Reveal.initialize()`.\n   */\n\n\n  function registerPlugin(id, plugin) {\n    if (plugins[id] === undefined) {\n      plugins[id] = plugin; // If a plugin is registered after reveal.js is loaded,\n      // initialize it right away\n\n      if (loaded && typeof plugin.init === 'function') {\n        plugin.init();\n      }\n    } else {\n      console.warn('reveal.js: \"' + id + '\" plugin has already been registered');\n    }\n  }\n  /**\n   * Checks if a specific plugin has been registered.\n   *\n   * @param {String} id Unique plugin identifier\n   */\n\n\n  function hasPlugin(id) {\n    return !!plugins[id];\n  }\n  /**\n   * Returns the specific plugin instance, if a plugin\n   * with the given ID has been registered.\n   *\n   * @param {String} id Unique plugin identifier\n   */\n\n\n  function getPlugin(id) {\n    return plugins[id];\n  }\n  /**\n   * Add a custom key binding with optional description to\n   * be added to the help screen.\n   */\n\n\n  function addKeyBinding(binding, callback) {\n    if (typeof binding === 'object' && binding.keyCode) {\n      registeredKeyBindings[binding.keyCode] = {\n        callback: callback,\n        key: binding.key,\n        description: binding.description\n      };\n    } else {\n      registeredKeyBindings[binding] = {\n        callback: callback,\n        key: null,\n        description: null\n      };\n    }\n  }\n  /**\n   * Removes the specified custom key binding.\n   */\n\n\n  function removeKeyBinding(keyCode) {\n    delete registeredKeyBindings[keyCode];\n  }\n  /**\n   * Extend object a with the properties of object b.\n   * If there's a conflict, object b takes precedence.\n   *\n   * @param {object} a\n   * @param {object} b\n   */\n\n\n  function extend(a, b) {\n    for (var i in b) {\n      a[i] = b[i];\n    }\n\n    return a;\n  }\n  /**\n   * Converts the target object to an array.\n   *\n   * @param {object} o\n   * @return {object[]}\n   */\n\n\n  function toArray(o) {\n    return Array.prototype.slice.call(o);\n  }\n  /**\n   * Utility for deserializing a value.\n   *\n   * @param {*} value\n   * @return {*}\n   */\n\n\n  function deserialize(value) {\n    if (typeof value === 'string') {\n      if (value === 'null') return null;else if (value === 'true') return true;else if (value === 'false') return false;else if (value.match(/^-?[\\d\\.]+$/)) return parseFloat(value);\n    }\n\n    return value;\n  }\n  /**\n   * Measures the distance in pixels between point a\n   * and point b.\n   *\n   * @param {object} a point with x/y properties\n   * @param {object} b point with x/y properties\n   *\n   * @return {number}\n   */\n\n\n  function distanceBetween(a, b) {\n    var dx = a.x - b.x,\n        dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n  /**\n   * Applies a CSS transform to the target element.\n   *\n   * @param {HTMLElement} element\n   * @param {string} transform\n   */\n\n\n  function transformElement(element, transform) {\n    element.style.WebkitTransform = transform;\n    element.style.MozTransform = transform;\n    element.style.msTransform = transform;\n    element.style.transform = transform;\n  }\n  /**\n   * Applies CSS transforms to the slides container. The container\n   * is transformed from two separate sources: layout and the overview\n   * mode.\n   *\n   * @param {object} transforms\n   */\n\n\n  function transformSlides(transforms) {\n    // Pick up new transforms from arguments\n    if (typeof transforms.layout === 'string') slidesTransform.layout = transforms.layout;\n    if (typeof transforms.overview === 'string') slidesTransform.overview = transforms.overview; // Apply the transforms to the slides container\n\n    if (slidesTransform.layout) {\n      transformElement(dom.slides, slidesTransform.layout + ' ' + slidesTransform.overview);\n    } else {\n      transformElement(dom.slides, slidesTransform.overview);\n    }\n  }\n  /**\n   * Injects the given CSS styles into the DOM.\n   *\n   * @param {string} value\n   */\n\n\n  function injectStyleSheet(value) {\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n\n    if (tag.styleSheet) {\n      tag.styleSheet.cssText = value;\n    } else {\n      tag.appendChild(document.createTextNode(value));\n    }\n\n    document.getElementsByTagName('head')[0].appendChild(tag);\n  }\n  /**\n   * Find the closest parent that matches the given\n   * selector.\n   *\n   * @param {HTMLElement} target The child element\n   * @param {String} selector The CSS selector to match\n   * the parents against\n   *\n   * @return {HTMLElement} The matched parent or null\n   * if no matching parent was found\n   */\n\n\n  function closestParent(target, selector) {\n    var parent = target.parentNode;\n\n    while (parent) {\n      // There's some overhead doing this each time, we don't\n      // want to rewrite the element prototype but should still\n      // be enough to feature detect once at startup...\n      var matchesMethod = parent.matches || parent.matchesSelector || parent.msMatchesSelector; // If we find a match, we're all set\n\n      if (matchesMethod && matchesMethod.call(parent, selector)) {\n        return parent;\n      } // Keep searching\n\n\n      parent = parent.parentNode;\n    }\n\n    return null;\n  }\n  /**\n   * Converts various color input formats to an {r:0,g:0,b:0} object.\n   *\n   * @param {string} color The string representation of a color\n   * @example\n   * colorToRgb('#000');\n   * @example\n   * colorToRgb('#000000');\n   * @example\n   * colorToRgb('rgb(0,0,0)');\n   * @example\n   * colorToRgb('rgba(0,0,0)');\n   *\n   * @return {{r: number, g: number, b: number, [a]: number}|null}\n   */\n\n\n  function colorToRgb(color) {\n    var hex3 = color.match(/^#([0-9a-f]{3})$/i);\n\n    if (hex3 && hex3[1]) {\n      hex3 = hex3[1];\n      return {\n        r: parseInt(hex3.charAt(0), 16) * 0x11,\n        g: parseInt(hex3.charAt(1), 16) * 0x11,\n        b: parseInt(hex3.charAt(2), 16) * 0x11\n      };\n    }\n\n    var hex6 = color.match(/^#([0-9a-f]{6})$/i);\n\n    if (hex6 && hex6[1]) {\n      hex6 = hex6[1];\n      return {\n        r: parseInt(hex6.substr(0, 2), 16),\n        g: parseInt(hex6.substr(2, 2), 16),\n        b: parseInt(hex6.substr(4, 2), 16)\n      };\n    }\n\n    var rgb = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n\n    if (rgb) {\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    }\n\n    var rgba = color.match(/^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*([\\d]+|[\\d]*.[\\d]+)\\s*\\)$/i);\n\n    if (rgba) {\n      return {\n        r: parseInt(rgba[1], 10),\n        g: parseInt(rgba[2], 10),\n        b: parseInt(rgba[3], 10),\n        a: parseFloat(rgba[4])\n      };\n    }\n\n    return null;\n  }\n  /**\n   * Calculates brightness on a scale of 0-255.\n   *\n   * @param {string} color See colorToRgb for supported formats.\n   * @see {@link colorToRgb}\n   */\n\n\n  function colorBrightness(color) {\n    if (typeof color === 'string') color = colorToRgb(color);\n\n    if (color) {\n      return (color.r * 299 + color.g * 587 + color.b * 114) / 1000;\n    }\n\n    return null;\n  }\n  /**\n   * Returns the remaining height within the parent of the\n   * target element.\n   *\n   * remaining height = [ configured parent height ] - [ current parent height ]\n   *\n   * @param {HTMLElement} element\n   * @param {number} [height]\n   */\n\n\n  function getRemainingHeight(element, height) {\n    height = height || 0;\n\n    if (element) {\n      var newHeight,\n          oldHeight = element.style.height; // Change the .stretch element height to 0 in order find the height of all\n      // the other elements\n\n      element.style.height = '0px'; // In Overview mode, the parent (.slide) height is set of 700px.\n      // Restore it temporarily to its natural height.\n\n      element.parentNode.style.height = 'auto';\n      newHeight = height - element.parentNode.offsetHeight; // Restore the old height, just in case\n\n      element.style.height = oldHeight + 'px'; // Clear the parent (.slide) height. .removeProperty works in IE9+\n\n      element.parentNode.style.removeProperty('height');\n      return newHeight;\n    }\n\n    return height;\n  }\n  /**\n   * Checks if this instance is being used to print a PDF.\n   */\n\n\n  function isPrintingPDF() {\n    return /print-pdf/gi.test(window.location.search);\n  }\n  /**\n   * Hides the address bar if we're on a mobile device.\n   */\n\n\n  function hideAddressBar() {\n    if (config.hideAddressBar && isMobileDevice) {\n      // Events that should trigger the address bar to hide\n      window.addEventListener('load', removeAddressBar, false);\n      window.addEventListener('orientationchange', removeAddressBar, false);\n    }\n  }\n  /**\n   * Causes the address bar to hide on mobile devices,\n   * more vertical space ftw.\n   */\n\n\n  function removeAddressBar() {\n    setTimeout(function () {\n      window.scrollTo(0, 1);\n    }, 10);\n  }\n  /**\n   * Dispatches an event of the specified type from the\n   * reveal DOM element.\n   */\n\n\n  function dispatchEvent(type, args) {\n    var event = document.createEvent('HTMLEvents', 1, 2);\n    event.initEvent(type, true, true);\n    extend(event, args);\n    dom.wrapper.dispatchEvent(event); // If we're in an iframe, post each reveal.js event to the\n    // parent window. Used by the notes plugin\n\n    if (config.postMessageEvents && window.parent !== window.self) {\n      window.parent.postMessage(JSON.stringify({\n        namespace: 'reveal',\n        eventName: type,\n        state: getState()\n      }), '*');\n    }\n  }\n  /**\n   * Wrap all links in 3D goodness.\n   */\n\n\n  function enableRollingLinks() {\n    if (features.transforms3d && !('msPerspective' in document.body.style)) {\n      var anchors = dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ' a');\n\n      for (var i = 0, len = anchors.length; i < len; i++) {\n        var anchor = anchors[i];\n\n        if (anchor.textContent && !anchor.querySelector('*') && (!anchor.className || !anchor.classList.contains(anchor, 'roll'))) {\n          var span = document.createElement('span');\n          span.setAttribute('data-title', anchor.text);\n          span.innerHTML = anchor.innerHTML;\n          anchor.classList.add('roll');\n          anchor.innerHTML = '';\n          anchor.appendChild(span);\n        }\n      }\n    }\n  }\n  /**\n   * Unwrap all 3D links.\n   */\n\n\n  function disableRollingLinks() {\n    var anchors = dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ' a.roll');\n\n    for (var i = 0, len = anchors.length; i < len; i++) {\n      var anchor = anchors[i];\n      var span = anchor.querySelector('span');\n\n      if (span) {\n        anchor.classList.remove('roll');\n        anchor.innerHTML = span.innerHTML;\n      }\n    }\n  }\n  /**\n   * Bind preview frame links.\n   *\n   * @param {string} [selector=a] - selector for anchors\n   */\n\n\n  function enablePreviewLinks(selector) {\n    var anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n    anchors.forEach(function (element) {\n      if (/^(http|www)/gi.test(element.getAttribute('href'))) {\n        element.addEventListener('click', onPreviewLinkClicked, false);\n      }\n    });\n  }\n  /**\n   * Unbind preview frame links.\n   */\n\n\n  function disablePreviewLinks(selector) {\n    var anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n    anchors.forEach(function (element) {\n      if (/^(http|www)/gi.test(element.getAttribute('href'))) {\n        element.removeEventListener('click', onPreviewLinkClicked, false);\n      }\n    });\n  }\n  /**\n   * Opens a preview window for the target URL.\n   *\n   * @param {string} url - url for preview iframe src\n   */\n\n\n  function showPreview(url) {\n    closeOverlay();\n    dom.overlay = document.createElement('div');\n    dom.overlay.classList.add('overlay');\n    dom.overlay.classList.add('overlay-preview');\n    dom.wrapper.appendChild(dom.overlay);\n    dom.overlay.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '<a class=\"external\" href=\"' + url + '\" target=\"_blank\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"spinner\"></div>', '<div class=\"viewport\">', '<iframe src=\"' + url + '\"></iframe>', '<small class=\"viewport-inner\">', '<span class=\"x-frame-error\">Unable to load iframe. This is likely due to the site\\'s policy (x-frame-options).</span>', '</small>', '</div>'].join('');\n    dom.overlay.querySelector('iframe').addEventListener('load', function (event) {\n      dom.overlay.classList.add('loaded');\n    }, false);\n    dom.overlay.querySelector('.close').addEventListener('click', function (event) {\n      closeOverlay();\n      event.preventDefault();\n    }, false);\n    dom.overlay.querySelector('.external').addEventListener('click', function (event) {\n      closeOverlay();\n    }, false);\n    setTimeout(function () {\n      dom.overlay.classList.add('visible');\n    }, 1);\n  }\n  /**\n   * Open or close help overlay window.\n   *\n   * @param {Boolean} [override] Flag which overrides the\n   * toggle logic and forcibly sets the desired state. True means\n   * help is open, false means it's closed.\n   */\n\n\n  function toggleHelp(override) {\n    if (typeof override === 'boolean') {\n      override ? showHelp() : closeOverlay();\n    } else {\n      if (dom.overlay) {\n        closeOverlay();\n      } else {\n        showHelp();\n      }\n    }\n  }\n  /**\n   * Opens an overlay window with help material.\n   */\n\n\n  function showHelp() {\n    if (config.help) {\n      closeOverlay();\n      dom.overlay = document.createElement('div');\n      dom.overlay.classList.add('overlay');\n      dom.overlay.classList.add('overlay-help');\n      dom.wrapper.appendChild(dom.overlay);\n      var html = '<p class=\"title\">Keyboard Shortcuts</p><br/>';\n      html += '<table><th>KEY</th><th>ACTION</th>';\n\n      for (var key in keyboardShortcuts) {\n        html += '<tr><td>' + key + '</td><td>' + keyboardShortcuts[key] + '</td></tr>';\n      } // Add custom key bindings that have associated descriptions\n\n\n      for (var binding in registeredKeyBindings) {\n        if (registeredKeyBindings[binding].key && registeredKeyBindings[binding].description) {\n          html += '<tr><td>' + registeredKeyBindings[binding].key + '</td><td>' + registeredKeyBindings[binding].description + '</td></tr>';\n        }\n      }\n\n      html += '</table>';\n      dom.overlay.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"viewport\">', '<div class=\"viewport-inner\">' + html + '</div>', '</div>'].join('');\n      dom.overlay.querySelector('.close').addEventListener('click', function (event) {\n        closeOverlay();\n        event.preventDefault();\n      }, false);\n      setTimeout(function () {\n        dom.overlay.classList.add('visible');\n      }, 1);\n    }\n  }\n  /**\n   * Closes any currently open overlay.\n   */\n\n\n  function closeOverlay() {\n    if (dom.overlay) {\n      dom.overlay.parentNode.removeChild(dom.overlay);\n      dom.overlay = null;\n    }\n  }\n  /**\n   * Applies JavaScript-controlled layout rules to the\n   * presentation.\n   */\n\n\n  function layout() {\n    if (dom.wrapper && !isPrintingPDF()) {\n      if (!config.disableLayout) {\n        // On some mobile devices '100vh' is taller than the visible\n        // viewport which leads to part of the presentation being\n        // cut off. To work around this we define our own '--vh' custom\n        // property where 100x adds up to the correct height.\n        //\n        // https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n        if (isMobileDevice) {\n          document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');\n        }\n\n        var size = getComputedSlideSize();\n        var oldScale = scale; // Layout the contents of the slides\n\n        layoutSlideContents(config.width, config.height);\n        dom.slides.style.width = size.width + 'px';\n        dom.slides.style.height = size.height + 'px'; // Determine scale of content to fit within available space\n\n        scale = Math.min(size.presentationWidth / size.width, size.presentationHeight / size.height); // Respect max/min scale settings\n\n        scale = Math.max(scale, config.minScale);\n        scale = Math.min(scale, config.maxScale); // Don't apply any scaling styles if scale is 1\n\n        if (scale === 1) {\n          dom.slides.style.zoom = '';\n          dom.slides.style.left = '';\n          dom.slides.style.top = '';\n          dom.slides.style.bottom = '';\n          dom.slides.style.right = '';\n          transformSlides({\n            layout: ''\n          });\n        } else {\n          // Prefer zoom for scaling up so that content remains crisp.\n          // Don't use zoom to scale down since that can lead to shifts\n          // in text layout/line breaks.\n          if (scale > 1 && features.zoom) {\n            dom.slides.style.zoom = scale;\n            dom.slides.style.left = '';\n            dom.slides.style.top = '';\n            dom.slides.style.bottom = '';\n            dom.slides.style.right = '';\n            transformSlides({\n              layout: ''\n            });\n          } // Apply scale transform as a fallback\n          else {\n              dom.slides.style.zoom = '';\n              dom.slides.style.left = '50%';\n              dom.slides.style.top = '50%';\n              dom.slides.style.bottom = 'auto';\n              dom.slides.style.right = 'auto';\n              transformSlides({\n                layout: 'translate(-50%, -50%) scale(' + scale + ')'\n              });\n            }\n        } // Select all slides, vertical and horizontal\n\n\n        var slides = toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR));\n\n        for (var i = 0, len = slides.length; i < len; i++) {\n          var slide = slides[i]; // Don't bother updating invisible slides\n\n          if (slide.style.display === 'none') {\n            continue;\n          }\n\n          if (config.center || slide.classList.contains('center')) {\n            // Vertical stacks are not centred since their section\n            // children will be\n            if (slide.classList.contains('stack')) {\n              slide.style.top = 0;\n            } else {\n              slide.style.top = Math.max((size.height - slide.scrollHeight) / 2, 0) + 'px';\n            }\n          } else {\n            slide.style.top = '';\n          }\n        }\n\n        if (oldScale !== scale) {\n          dispatchEvent('resize', {\n            'oldScale': oldScale,\n            'scale': scale,\n            'size': size\n          });\n        }\n      }\n\n      updateProgress();\n      updateParallax();\n\n      if (isOverview()) {\n        updateOverview();\n      }\n    }\n  }\n  /**\n   * Applies layout logic to the contents of all slides in\n   * the presentation.\n   *\n   * @param {string|number} width\n   * @param {string|number} height\n   */\n\n\n  function layoutSlideContents(width, height) {\n    // Handle sizing of elements with the 'stretch' class\n    toArray(dom.slides.querySelectorAll('section > .stretch')).forEach(function (element) {\n      // Determine how much vertical space we can use\n      var remainingHeight = getRemainingHeight(element, height); // Consider the aspect ratio of media elements\n\n      if (/(img|video)/gi.test(element.nodeName)) {\n        var nw = element.naturalWidth || element.videoWidth,\n            nh = element.naturalHeight || element.videoHeight;\n        var es = Math.min(width / nw, remainingHeight / nh);\n        element.style.width = nw * es + 'px';\n        element.style.height = nh * es + 'px';\n      } else {\n        element.style.width = width + 'px';\n        element.style.height = remainingHeight + 'px';\n      }\n    });\n  }\n  /**\n   * Calculates the computed pixel size of our slides. These\n   * values are based on the width and height configuration\n   * options.\n   *\n   * @param {number} [presentationWidth=dom.wrapper.offsetWidth]\n   * @param {number} [presentationHeight=dom.wrapper.offsetHeight]\n   */\n\n\n  function getComputedSlideSize(presentationWidth, presentationHeight) {\n    var size = {\n      // Slide size\n      width: config.width,\n      height: config.height,\n      // Presentation size\n      presentationWidth: presentationWidth || dom.wrapper.offsetWidth,\n      presentationHeight: presentationHeight || dom.wrapper.offsetHeight\n    }; // Reduce available space by margin\n\n    size.presentationWidth -= size.presentationWidth * config.margin;\n    size.presentationHeight -= size.presentationHeight * config.margin; // Slide width may be a percentage of available width\n\n    if (typeof size.width === 'string' && /%$/.test(size.width)) {\n      size.width = parseInt(size.width, 10) / 100 * size.presentationWidth;\n    } // Slide height may be a percentage of available height\n\n\n    if (typeof size.height === 'string' && /%$/.test(size.height)) {\n      size.height = parseInt(size.height, 10) / 100 * size.presentationHeight;\n    }\n\n    return size;\n  }\n  /**\n   * Stores the vertical index of a stack so that the same\n   * vertical slide can be selected when navigating to and\n   * from the stack.\n   *\n   * @param {HTMLElement} stack The vertical stack element\n   * @param {string|number} [v=0] Index to memorize\n   */\n\n\n  function setPreviousVerticalIndex(stack, v) {\n    if (typeof stack === 'object' && typeof stack.setAttribute === 'function') {\n      stack.setAttribute('data-previous-indexv', v || 0);\n    }\n  }\n  /**\n   * Retrieves the vertical index which was stored using\n   * #setPreviousVerticalIndex() or 0 if no previous index\n   * exists.\n   *\n   * @param {HTMLElement} stack The vertical stack element\n   */\n\n\n  function getPreviousVerticalIndex(stack) {\n    if (typeof stack === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains('stack')) {\n      // Prefer manually defined start-indexv\n      var attributeName = stack.hasAttribute('data-start-indexv') ? 'data-start-indexv' : 'data-previous-indexv';\n      return parseInt(stack.getAttribute(attributeName) || 0, 10);\n    }\n\n    return 0;\n  }\n  /**\n   * Displays the overview of slides (quick nav) by scaling\n   * down and arranging all slide elements.\n   */\n\n\n  function activateOverview() {\n    // Only proceed if enabled in config\n    if (config.overview && !isOverview()) {\n      overview = true;\n      dom.wrapper.classList.add('overview');\n      dom.wrapper.classList.remove('overview-deactivating');\n\n      if (features.overviewTransitions) {\n        setTimeout(function () {\n          dom.wrapper.classList.add('overview-animated');\n        }, 1);\n      } // Don't auto-slide while in overview mode\n\n\n      cancelAutoSlide(); // Move the backgrounds element into the slide container to\n      // that the same scaling is applied\n\n      dom.slides.appendChild(dom.background); // Clicking on an overview slide navigates to it\n\n      toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n        if (!slide.classList.contains('stack')) {\n          slide.addEventListener('click', onOverviewSlideClicked, true);\n        }\n      }); // Calculate slide sizes\n\n      var margin = 70;\n      var slideSize = getComputedSlideSize();\n      overviewSlideWidth = slideSize.width + margin;\n      overviewSlideHeight = slideSize.height + margin; // Reverse in RTL mode\n\n      if (config.rtl) {\n        overviewSlideWidth = -overviewSlideWidth;\n      }\n\n      updateSlidesVisibility();\n      layoutOverview();\n      updateOverview();\n      layout(); // Notify observers of the overview showing\n\n      dispatchEvent('overviewshown', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }\n  }\n  /**\n   * Uses CSS transforms to position all slides in a grid for\n   * display inside of the overview mode.\n   */\n\n\n  function layoutOverview() {\n    // Layout slides\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (hslide, h) {\n      hslide.setAttribute('data-index-h', h);\n      transformElement(hslide, 'translate3d(' + h * overviewSlideWidth + 'px, 0, 0)');\n\n      if (hslide.classList.contains('stack')) {\n        toArray(hslide.querySelectorAll('section')).forEach(function (vslide, v) {\n          vslide.setAttribute('data-index-h', h);\n          vslide.setAttribute('data-index-v', v);\n          transformElement(vslide, 'translate3d(0, ' + v * overviewSlideHeight + 'px, 0)');\n        });\n      }\n    }); // Layout slide backgrounds\n\n    toArray(dom.background.childNodes).forEach(function (hbackground, h) {\n      transformElement(hbackground, 'translate3d(' + h * overviewSlideWidth + 'px, 0, 0)');\n      toArray(hbackground.querySelectorAll('.slide-background')).forEach(function (vbackground, v) {\n        transformElement(vbackground, 'translate3d(0, ' + v * overviewSlideHeight + 'px, 0)');\n      });\n    });\n  }\n  /**\n   * Moves the overview viewport to the current slides.\n   * Called each time the current slide changes.\n   */\n\n\n  function updateOverview() {\n    var vmin = Math.min(window.innerWidth, window.innerHeight);\n    var scale = Math.max(vmin / 5, 150) / vmin;\n    transformSlides({\n      overview: ['scale(' + scale + ')', 'translateX(' + -indexh * overviewSlideWidth + 'px)', 'translateY(' + -indexv * overviewSlideHeight + 'px)'].join(' ')\n    });\n  }\n  /**\n   * Exits the slide overview and enters the currently\n   * active slide.\n   */\n\n\n  function deactivateOverview() {\n    // Only proceed if enabled in config\n    if (config.overview) {\n      overview = false;\n      dom.wrapper.classList.remove('overview');\n      dom.wrapper.classList.remove('overview-animated'); // Temporarily add a class so that transitions can do different things\n      // depending on whether they are exiting/entering overview, or just\n      // moving from slide to slide\n\n      dom.wrapper.classList.add('overview-deactivating');\n      setTimeout(function () {\n        dom.wrapper.classList.remove('overview-deactivating');\n      }, 1); // Move the background element back out\n\n      dom.wrapper.appendChild(dom.background); // Clean up changes made to slides\n\n      toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n        transformElement(slide, '');\n        slide.removeEventListener('click', onOverviewSlideClicked, true);\n      }); // Clean up changes made to backgrounds\n\n      toArray(dom.background.querySelectorAll('.slide-background')).forEach(function (background) {\n        transformElement(background, '');\n      });\n      transformSlides({\n        overview: ''\n      });\n      slide(indexh, indexv);\n      layout();\n      cueAutoSlide(); // Notify observers of the overview hiding\n\n      dispatchEvent('overviewhidden', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }\n  }\n  /**\n   * Toggles the slide overview mode on and off.\n   *\n   * @param {Boolean} [override] Flag which overrides the\n   * toggle logic and forcibly sets the desired state. True means\n   * overview is open, false means it's closed.\n   */\n\n\n  function toggleOverview(override) {\n    if (typeof override === 'boolean') {\n      override ? activateOverview() : deactivateOverview();\n    } else {\n      isOverview() ? deactivateOverview() : activateOverview();\n    }\n  }\n  /**\n   * Checks if the overview is currently active.\n   *\n   * @return {Boolean} true if the overview is active,\n   * false otherwise\n   */\n\n\n  function isOverview() {\n    return overview;\n  }\n  /**\n   * Return a hash URL that will resolve to the current slide location.\n   */\n\n\n  function locationHash() {\n    var url = '/'; // Attempt to create a named link based on the slide's ID\n\n    var id = currentSlide ? currentSlide.getAttribute('id') : null;\n\n    if (id) {\n      id = encodeURIComponent(id);\n    }\n\n    var indexf;\n\n    if (config.fragmentInURL) {\n      indexf = getIndices().f;\n    } // If the current slide has an ID, use that as a named link,\n    // but we don't support named links with a fragment index\n\n\n    if (typeof id === 'string' && id.length && indexf === undefined) {\n      url = '/' + id;\n    } // Otherwise use the /h/v index\n    else {\n        var hashIndexBase = config.hashOneBasedIndex ? 1 : 0;\n        if (indexh > 0 || indexv > 0 || indexf !== undefined) url += indexh + hashIndexBase;\n        if (indexv > 0 || indexf !== undefined) url += '/' + (indexv + hashIndexBase);\n        if (indexf !== undefined) url += '/' + indexf;\n      }\n\n    return url;\n  }\n  /**\n   * Checks if the current or specified slide is vertical\n   * (nested within another slide).\n   *\n   * @param {HTMLElement} [slide=currentSlide] The slide to check\n   * orientation of\n   * @return {Boolean}\n   */\n\n\n  function isVerticalSlide(slide) {\n    // Prefer slide argument, otherwise use current slide\n    slide = slide ? slide : currentSlide;\n    return slide && slide.parentNode && !!slide.parentNode.nodeName.match(/section/i);\n  }\n  /**\n   * Handling the fullscreen functionality via the fullscreen API\n   *\n   * @see http://fullscreen.spec.whatwg.org/\n   * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n   */\n\n\n  function enterFullscreen() {\n    var element = document.documentElement; // Check which implementation is available\n\n    var requestMethod = element.requestFullscreen || element.webkitRequestFullscreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullscreen;\n\n    if (requestMethod) {\n      requestMethod.apply(element);\n    }\n  }\n  /**\n   * Shows the mouse pointer after it has been hidden with\n   * #hideCursor.\n   */\n\n\n  function showCursor() {\n    if (cursorHidden) {\n      cursorHidden = false;\n      dom.wrapper.style.cursor = '';\n    }\n  }\n  /**\n   * Hides the mouse pointer when it's on top of the .reveal\n   * container.\n   */\n\n\n  function hideCursor() {\n    if (cursorHidden === false) {\n      cursorHidden = true;\n      dom.wrapper.style.cursor = 'none';\n    }\n  }\n  /**\n   * Enters the paused mode which fades everything on screen to\n   * black.\n   */\n\n\n  function pause() {\n    if (config.pause) {\n      var wasPaused = dom.wrapper.classList.contains('paused');\n      cancelAutoSlide();\n      dom.wrapper.classList.add('paused');\n\n      if (wasPaused === false) {\n        dispatchEvent('paused');\n      }\n    }\n  }\n  /**\n   * Exits from the paused mode.\n   */\n\n\n  function resume() {\n    var wasPaused = dom.wrapper.classList.contains('paused');\n    dom.wrapper.classList.remove('paused');\n    cueAutoSlide();\n\n    if (wasPaused) {\n      dispatchEvent('resumed');\n    }\n  }\n  /**\n   * Toggles the paused mode on and off.\n   */\n\n\n  function togglePause(override) {\n    if (typeof override === 'boolean') {\n      override ? pause() : resume();\n    } else {\n      isPaused() ? resume() : pause();\n    }\n  }\n  /**\n   * Checks if we are currently in the paused mode.\n   *\n   * @return {Boolean}\n   */\n\n\n  function isPaused() {\n    return dom.wrapper.classList.contains('paused');\n  }\n  /**\n   * Toggles the auto slide mode on and off.\n   *\n   * @param {Boolean} [override] Flag which sets the desired state.\n   * True means autoplay starts, false means it stops.\n   */\n\n\n  function toggleAutoSlide(override) {\n    if (typeof override === 'boolean') {\n      override ? resumeAutoSlide() : pauseAutoSlide();\n    } else {\n      autoSlidePaused ? resumeAutoSlide() : pauseAutoSlide();\n    }\n  }\n  /**\n   * Checks if the auto slide mode is currently on.\n   *\n   * @return {Boolean}\n   */\n\n\n  function isAutoSliding() {\n    return !!(autoSlide && !autoSlidePaused);\n  }\n  /**\n   * Steps from the current point in the presentation to the\n   * slide which matches the specified horizontal and vertical\n   * indices.\n   *\n   * @param {number} [h=indexh] Horizontal index of the target slide\n   * @param {number} [v=indexv] Vertical index of the target slide\n   * @param {number} [f] Index of a fragment within the\n   * target slide to activate\n   * @param {number} [o] Origin for use in multimaster environments\n   */\n\n\n  function slide(h, v, f, o) {\n    // Remember where we were at before\n    previousSlide = currentSlide; // Query all horizontal slides in the deck\n\n    var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR); // Abort if there are no slides\n\n    if (horizontalSlides.length === 0) return; // If no vertical index is specified and the upcoming slide is a\n    // stack, resume at its previous vertical index\n\n    if (v === undefined && !isOverview()) {\n      v = getPreviousVerticalIndex(horizontalSlides[h]);\n    } // If we were on a vertical stack, remember what vertical index\n    // it was on so we can resume at the same position when returning\n\n\n    if (previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains('stack')) {\n      setPreviousVerticalIndex(previousSlide.parentNode, indexv);\n    } // Remember the state before this slide\n\n\n    var stateBefore = state.concat(); // Reset the state array\n\n    state.length = 0;\n    var indexhBefore = indexh || 0,\n        indexvBefore = indexv || 0; // Activate and transition to the new slide\n\n    indexh = updateSlides(HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h);\n    indexv = updateSlides(VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v); // Update the visibility of slides now that the indices have changed\n\n    updateSlidesVisibility();\n    layout(); // Update the overview if it's currently active\n\n    if (isOverview()) {\n      updateOverview();\n    } // Find the current horizontal slide and any possible vertical slides\n    // within it\n\n\n    var currentHorizontalSlide = horizontalSlides[indexh],\n        currentVerticalSlides = currentHorizontalSlide.querySelectorAll('section'); // Store references to the previous and current slides\n\n    currentSlide = currentVerticalSlides[indexv] || currentHorizontalSlide; // Show fragment, if specified\n\n    if (typeof f !== 'undefined') {\n      navigateFragment(f);\n    } // Dispatch an event if the slide changed\n\n\n    var slideChanged = indexh !== indexhBefore || indexv !== indexvBefore;\n\n    if (!slideChanged) {\n      // Ensure that the previous slide is never the same as the current\n      previousSlide = null;\n    } // Solves an edge case where the previous slide maintains the\n    // 'present' class when navigating between adjacent vertical\n    // stacks\n\n\n    if (previousSlide && previousSlide !== currentSlide) {\n      previousSlide.classList.remove('present');\n      previousSlide.setAttribute('aria-hidden', 'true'); // Reset all slides upon navigate to home\n      // Issue: #285\n\n      if (dom.wrapper.querySelector(HOME_SLIDE_SELECTOR).classList.contains('present')) {\n        // Launch async task\n        setTimeout(function () {\n          var slides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.stack')),\n              i;\n\n          for (i in slides) {\n            if (slides[i]) {\n              // Reset stack\n              setPreviousVerticalIndex(slides[i], 0);\n            }\n          }\n        }, 0);\n      }\n    } // Apply the new state\n\n\n    stateLoop: for (var i = 0, len = state.length; i < len; i++) {\n      // Check if this state existed on the previous slide. If it\n      // did, we will avoid adding it repeatedly\n      for (var j = 0; j < stateBefore.length; j++) {\n        if (stateBefore[j] === state[i]) {\n          stateBefore.splice(j, 1);\n          continue stateLoop;\n        }\n      }\n\n      document.documentElement.classList.add(state[i]); // Dispatch custom event matching the state's name\n\n      dispatchEvent(state[i]);\n    } // Clean up the remains of the previous state\n\n\n    while (stateBefore.length) {\n      document.documentElement.classList.remove(stateBefore.pop());\n    }\n\n    if (slideChanged) {\n      dispatchEvent('slidechanged', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'previousSlide': previousSlide,\n        'currentSlide': currentSlide,\n        'origin': o\n      });\n    } // Handle embedded content\n\n\n    if (slideChanged || !previousSlide) {\n      stopEmbeddedContent(previousSlide);\n      startEmbeddedContent(currentSlide);\n    } // Announce the current slide contents, for screen readers\n\n\n    dom.statusDiv.textContent = getStatusText(currentSlide);\n    updateControls();\n    updateProgress();\n    updateBackground();\n    updateParallax();\n    updateSlideNumber();\n    updateNotes();\n    updateFragments(); // Update the URL hash\n\n    writeURL();\n    cueAutoSlide();\n  }\n  /**\n   * Syncs the presentation with the current DOM. Useful\n   * when new slides or control elements are added or when\n   * the configuration has changed.\n   */\n\n\n  function sync() {\n    // Subscribe to input\n    removeEventListeners();\n    addEventListeners(); // Force a layout to make sure the current config is accounted for\n\n    layout(); // Reflect the current autoSlide value\n\n    autoSlide = config.autoSlide; // Start auto-sliding if it's enabled\n\n    cueAutoSlide(); // Re-create the slide backgrounds\n\n    createBackgrounds(); // Write the current hash to the URL\n\n    writeURL();\n    sortAllFragments();\n    updateControls();\n    updateProgress();\n    updateSlideNumber();\n    updateSlidesVisibility();\n    updateBackground(true);\n    updateNotesVisibility();\n    updateNotes();\n    formatEmbeddedContent(); // Start or stop embedded content depending on global config\n\n    if (config.autoPlayMedia === false) {\n      stopEmbeddedContent(currentSlide, {\n        unloadIframes: false\n      });\n    } else {\n      startEmbeddedContent(currentSlide);\n    }\n\n    if (isOverview()) {\n      layoutOverview();\n    }\n  }\n  /**\n   * Updates reveal.js to keep in sync with new slide attributes. For\n   * example, if you add a new `data-background-image` you can call\n   * this to have reveal.js render the new background image.\n   *\n   * Similar to #sync() but more efficient when you only need to\n   * refresh a specific slide.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function syncSlide(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide;\n    syncBackground(slide);\n    syncFragments(slide);\n    updateBackground();\n    updateNotes();\n    loadSlide(slide);\n  }\n  /**\n   * Formats the fragments on the given slide so that they have\n   * valid indices. Call this if fragments are changed in the DOM\n   * after reveal.js has already initialized.\n   *\n   * @param {HTMLElement} slide\n   * @return {Array} a list of the HTML fragments that were synced\n   */\n\n\n  function syncFragments(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide;\n    return sortFragments(slide.querySelectorAll('.fragment'));\n  }\n  /**\n   * Resets all vertical slides so that only the first\n   * is visible.\n   */\n\n\n  function resetVerticalSlides() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    horizontalSlides.forEach(function (horizontalSlide) {\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n      verticalSlides.forEach(function (verticalSlide, y) {\n        if (y > 0) {\n          verticalSlide.classList.remove('present');\n          verticalSlide.classList.remove('past');\n          verticalSlide.classList.add('future');\n          verticalSlide.setAttribute('aria-hidden', 'true');\n        }\n      });\n    });\n  }\n  /**\n   * Sorts and formats all of fragments in the\n   * presentation.\n   */\n\n\n  function sortAllFragments() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    horizontalSlides.forEach(function (horizontalSlide) {\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n      verticalSlides.forEach(function (verticalSlide, y) {\n        sortFragments(verticalSlide.querySelectorAll('.fragment'));\n      });\n      if (verticalSlides.length === 0) sortFragments(horizontalSlide.querySelectorAll('.fragment'));\n    });\n  }\n  /**\n   * Randomly shuffles all slides in the deck.\n   */\n\n\n  function shuffle() {\n    var slides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    slides.forEach(function (slide) {\n      // Insert this slide next to another random slide. This may\n      // cause the slide to insert before itself but that's fine.\n      dom.slides.insertBefore(slide, slides[Math.floor(Math.random() * slides.length)]);\n    });\n  }\n  /**\n   * Updates one dimension of slides by showing the slide\n   * with the specified index.\n   *\n   * @param {string} selector A CSS selector that will fetch\n   * the group of slides we are working with\n   * @param {number} index The index of the slide that should be\n   * shown\n   *\n   * @return {number} The index of the slide that is now shown,\n   * might differ from the passed in index if it was out of\n   * bounds.\n   */\n\n\n  function updateSlides(selector, index) {\n    // Select all slides and convert the NodeList result to\n    // an array\n    var slides = toArray(dom.wrapper.querySelectorAll(selector)),\n        slidesLength = slides.length;\n    var printMode = isPrintingPDF();\n\n    if (slidesLength) {\n      // Should the index loop?\n      if (config.loop) {\n        index %= slidesLength;\n\n        if (index < 0) {\n          index = slidesLength + index;\n        }\n      } // Enforce max and minimum index bounds\n\n\n      index = Math.max(Math.min(index, slidesLength - 1), 0);\n\n      for (var i = 0; i < slidesLength; i++) {\n        var element = slides[i];\n        var reverse = config.rtl && !isVerticalSlide(element);\n        element.classList.remove('past');\n        element.classList.remove('present');\n        element.classList.remove('future'); // http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\n        element.setAttribute('hidden', '');\n        element.setAttribute('aria-hidden', 'true'); // If this element contains vertical slides\n\n        if (element.querySelector('section')) {\n          element.classList.add('stack');\n        } // If we're printing static slides, all slides are \"present\"\n\n\n        if (printMode) {\n          element.classList.add('present');\n          continue;\n        }\n\n        if (i < index) {\n          // Any element previous to index is given the 'past' class\n          element.classList.add(reverse ? 'future' : 'past');\n\n          if (config.fragments) {\n            // Show all fragments in prior slides\n            toArray(element.querySelectorAll('.fragment')).forEach(function (fragment) {\n              fragment.classList.add('visible');\n              fragment.classList.remove('current-fragment');\n            });\n          }\n        } else if (i > index) {\n          // Any element subsequent to index is given the 'future' class\n          element.classList.add(reverse ? 'past' : 'future');\n\n          if (config.fragments) {\n            // Hide all fragments in future slides\n            toArray(element.querySelectorAll('.fragment.visible')).forEach(function (fragment) {\n              fragment.classList.remove('visible');\n              fragment.classList.remove('current-fragment');\n            });\n          }\n        }\n      } // Mark the current slide as present\n\n\n      slides[index].classList.add('present');\n      slides[index].removeAttribute('hidden');\n      slides[index].removeAttribute('aria-hidden'); // If this slide has a state associated with it, add it\n      // onto the current state of the deck\n\n      var slideState = slides[index].getAttribute('data-state');\n\n      if (slideState) {\n        state = state.concat(slideState.split(' '));\n      }\n    } else {\n      // Since there are no slides we can't be anywhere beyond the\n      // zeroth index\n      index = 0;\n    }\n\n    return index;\n  }\n  /**\n   * Optimization method; hide all slides that are far away\n   * from the present slide.\n   */\n\n\n  function updateSlidesVisibility() {\n    // Select all slides and convert the NodeList result to\n    // an array\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)),\n        horizontalSlidesLength = horizontalSlides.length,\n        distanceX,\n        distanceY;\n\n    if (horizontalSlidesLength && typeof indexh !== 'undefined') {\n      // The number of steps away from the present slide that will\n      // be visible\n      var viewDistance = isOverview() ? 10 : config.viewDistance; // Limit view distance on weaker devices\n\n      if (isMobileDevice) {\n        viewDistance = isOverview() ? 6 : 2;\n      } // All slides need to be visible when exporting to PDF\n\n\n      if (isPrintingPDF()) {\n        viewDistance = Number.MAX_VALUE;\n      }\n\n      for (var x = 0; x < horizontalSlidesLength; x++) {\n        var horizontalSlide = horizontalSlides[x];\n        var verticalSlides = toArray(horizontalSlide.querySelectorAll('section')),\n            verticalSlidesLength = verticalSlides.length; // Determine how far away this slide is from the present\n\n        distanceX = Math.abs((indexh || 0) - x) || 0; // If the presentation is looped, distance should measure\n        // 1 between the first and last slides\n\n        if (config.loop) {\n          distanceX = Math.abs(((indexh || 0) - x) % (horizontalSlidesLength - viewDistance)) || 0;\n        } // Show the horizontal slide if it's within the view distance\n\n\n        if (distanceX < viewDistance) {\n          loadSlide(horizontalSlide);\n        } else {\n          unloadSlide(horizontalSlide);\n        }\n\n        if (verticalSlidesLength) {\n          var oy = getPreviousVerticalIndex(horizontalSlide);\n\n          for (var y = 0; y < verticalSlidesLength; y++) {\n            var verticalSlide = verticalSlides[y];\n            distanceY = x === (indexh || 0) ? Math.abs((indexv || 0) - y) : Math.abs(y - oy);\n\n            if (distanceX + distanceY < viewDistance) {\n              loadSlide(verticalSlide);\n            } else {\n              unloadSlide(verticalSlide);\n            }\n          }\n        }\n      } // Flag if there are ANY vertical slides, anywhere in the deck\n\n\n      if (dom.wrapper.querySelectorAll('.slides>section>section').length) {\n        dom.wrapper.classList.add('has-vertical-slides');\n      } else {\n        dom.wrapper.classList.remove('has-vertical-slides');\n      } // Flag if there are ANY horizontal slides, anywhere in the deck\n\n\n      if (dom.wrapper.querySelectorAll('.slides>section').length > 1) {\n        dom.wrapper.classList.add('has-horizontal-slides');\n      } else {\n        dom.wrapper.classList.remove('has-horizontal-slides');\n      }\n    }\n  }\n  /**\n   * Pick up notes from the current slide and display them\n   * to the viewer.\n   *\n   * @see {@link config.showNotes}\n   */\n\n\n  function updateNotes() {\n    if (config.showNotes && dom.speakerNotes && currentSlide && !isPrintingPDF()) {\n      dom.speakerNotes.innerHTML = getSlideNotes() || '<span class=\"notes-placeholder\">No notes on this slide.</span>';\n    }\n  }\n  /**\n   * Updates the visibility of the speaker notes sidebar that\n   * is used to share annotated slides. The notes sidebar is\n   * only visible if showNotes is true and there are notes on\n   * one or more slides in the deck.\n   */\n\n\n  function updateNotesVisibility() {\n    if (config.showNotes && hasNotes()) {\n      dom.wrapper.classList.add('show-notes');\n    } else {\n      dom.wrapper.classList.remove('show-notes');\n    }\n  }\n  /**\n   * Checks if there are speaker notes for ANY slide in the\n   * presentation.\n   */\n\n\n  function hasNotes() {\n    return dom.slides.querySelectorAll('[data-notes], aside.notes').length > 0;\n  }\n  /**\n   * Updates the progress bar to reflect the current slide.\n   */\n\n\n  function updateProgress() {\n    // Update progress if enabled\n    if (config.progress && dom.progressbar) {\n      dom.progressbar.style.width = getProgress() * dom.wrapper.offsetWidth + 'px';\n    }\n  }\n  /**\n   * Updates the slide number to match the current slide.\n   */\n\n\n  function updateSlideNumber() {\n    // Update slide number if enabled\n    if (config.slideNumber && dom.slideNumber) {\n      var value;\n      var format = 'h.v';\n\n      if (typeof config.slideNumber === 'function') {\n        value = config.slideNumber();\n      } else {\n        // Check if a custom number format is available\n        if (typeof config.slideNumber === 'string') {\n          format = config.slideNumber;\n        } // If there are ONLY vertical slides in this deck, always use\n        // a flattened slide number\n\n\n        if (!/c/.test(format) && dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR).length === 1) {\n          format = 'c';\n        }\n\n        value = [];\n\n        switch (format) {\n          case 'c':\n            value.push(getSlidePastCount() + 1);\n            break;\n\n          case 'c/t':\n            value.push(getSlidePastCount() + 1, '/', getTotalSlides());\n            break;\n\n          case 'h/v':\n            value.push(indexh + 1);\n            if (isVerticalSlide()) value.push('/', indexv + 1);\n            break;\n\n          default:\n            value.push(indexh + 1);\n            if (isVerticalSlide()) value.push('.', indexv + 1);\n        }\n      }\n\n      dom.slideNumber.innerHTML = formatSlideNumber(value[0], value[1], value[2]);\n    }\n  }\n  /**\n   * Applies HTML formatting to a slide number before it's\n   * written to the DOM.\n   *\n   * @param {number} a Current slide\n   * @param {string} delimiter Character to separate slide numbers\n   * @param {(number|*)} b Total slides\n   * @return {string} HTML string fragment\n   */\n\n\n  function formatSlideNumber(a, delimiter, b) {\n    var url = '#' + locationHash();\n\n    if (typeof b === 'number' && !isNaN(b)) {\n      return '<a href=\"' + url + '\">' + '<span class=\"slide-number-a\">' + a + '</span>' + '<span class=\"slide-number-delimiter\">' + delimiter + '</span>' + '<span class=\"slide-number-b\">' + b + '</span>' + '</a>';\n    } else {\n      return '<a href=\"' + url + '\">' + '<span class=\"slide-number-a\">' + a + '</span>' + '</a>';\n    }\n  }\n  /**\n   * Updates the state of all control/navigation arrows.\n   */\n\n\n  function updateControls() {\n    var routes = availableRoutes();\n    var fragments = availableFragments(); // Remove the 'enabled' class from all directions\n\n    dom.controlsLeft.concat(dom.controlsRight).concat(dom.controlsUp).concat(dom.controlsDown).concat(dom.controlsPrev).concat(dom.controlsNext).forEach(function (node) {\n      node.classList.remove('enabled');\n      node.classList.remove('fragmented'); // Set 'disabled' attribute on all directions\n\n      node.setAttribute('disabled', 'disabled');\n    }); // Add the 'enabled' class to the available routes; remove 'disabled' attribute to enable buttons\n\n    if (routes.left) dom.controlsLeft.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.right) dom.controlsRight.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.up) dom.controlsUp.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.down) dom.controlsDown.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    }); // Prev/next buttons\n\n    if (routes.left || routes.up) dom.controlsPrev.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.right || routes.down) dom.controlsNext.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    }); // Highlight fragment directions\n\n    if (currentSlide) {\n      // Always apply fragment decorator to prev/next buttons\n      if (fragments.prev) dom.controlsPrev.forEach(function (el) {\n        el.classList.add('fragmented', 'enabled');\n        el.removeAttribute('disabled');\n      });\n      if (fragments.next) dom.controlsNext.forEach(function (el) {\n        el.classList.add('fragmented', 'enabled');\n        el.removeAttribute('disabled');\n      }); // Apply fragment decorators to directional buttons based on\n      // what slide axis they are in\n\n      if (isVerticalSlide(currentSlide)) {\n        if (fragments.prev) dom.controlsUp.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n        if (fragments.next) dom.controlsDown.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n      } else {\n        if (fragments.prev) dom.controlsLeft.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n        if (fragments.next) dom.controlsRight.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n      }\n    }\n\n    if (config.controlsTutorial) {\n      // Highlight control arrows with an animation to ensure\n      // that the viewer knows how to navigate\n      if (!hasNavigatedDown && routes.down) {\n        dom.controlsDownArrow.classList.add('highlight');\n      } else {\n        dom.controlsDownArrow.classList.remove('highlight');\n\n        if (!hasNavigatedRight && routes.right && indexv === 0) {\n          dom.controlsRightArrow.classList.add('highlight');\n        } else {\n          dom.controlsRightArrow.classList.remove('highlight');\n        }\n      }\n    }\n  }\n  /**\n   * Updates the background elements to reflect the current\n   * slide.\n   *\n   * @param {boolean} includeAll If true, the backgrounds of\n   * all vertical slides (not just the present) will be updated.\n   */\n\n\n  function updateBackground(includeAll) {\n    var currentBackground = null; // Reverse past/future classes when in RTL mode\n\n    var horizontalPast = config.rtl ? 'future' : 'past',\n        horizontalFuture = config.rtl ? 'past' : 'future'; // Update the classes of all backgrounds to match the\n    // states of their slides (past/present/future)\n\n    toArray(dom.background.childNodes).forEach(function (backgroundh, h) {\n      backgroundh.classList.remove('past');\n      backgroundh.classList.remove('present');\n      backgroundh.classList.remove('future');\n\n      if (h < indexh) {\n        backgroundh.classList.add(horizontalPast);\n      } else if (h > indexh) {\n        backgroundh.classList.add(horizontalFuture);\n      } else {\n        backgroundh.classList.add('present'); // Store a reference to the current background element\n\n        currentBackground = backgroundh;\n      }\n\n      if (includeAll || h === indexh) {\n        toArray(backgroundh.querySelectorAll('.slide-background')).forEach(function (backgroundv, v) {\n          backgroundv.classList.remove('past');\n          backgroundv.classList.remove('present');\n          backgroundv.classList.remove('future');\n\n          if (v < indexv) {\n            backgroundv.classList.add('past');\n          } else if (v > indexv) {\n            backgroundv.classList.add('future');\n          } else {\n            backgroundv.classList.add('present'); // Only if this is the present horizontal and vertical slide\n\n            if (h === indexh) currentBackground = backgroundv;\n          }\n        });\n      }\n    }); // Stop content inside of previous backgrounds\n\n    if (previousBackground) {\n      stopEmbeddedContent(previousBackground);\n    } // Start content in the current background\n\n\n    if (currentBackground) {\n      startEmbeddedContent(currentBackground);\n      var currentBackgroundContent = currentBackground.querySelector('.slide-background-content');\n\n      if (currentBackgroundContent) {\n        var backgroundImageURL = currentBackgroundContent.style.backgroundImage || ''; // Restart GIFs (doesn't work in Firefox)\n\n        if (/\\.gif/i.test(backgroundImageURL)) {\n          currentBackgroundContent.style.backgroundImage = '';\n          window.getComputedStyle(currentBackgroundContent).opacity;\n          currentBackgroundContent.style.backgroundImage = backgroundImageURL;\n        }\n      } // Don't transition between identical backgrounds. This\n      // prevents unwanted flicker.\n\n\n      var previousBackgroundHash = previousBackground ? previousBackground.getAttribute('data-background-hash') : null;\n      var currentBackgroundHash = currentBackground.getAttribute('data-background-hash');\n\n      if (currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== previousBackground) {\n        dom.background.classList.add('no-transition');\n      }\n\n      previousBackground = currentBackground;\n    } // If there's a background brightness flag for this slide,\n    // bubble it to the .reveal container\n\n\n    if (currentSlide) {\n      ['has-light-background', 'has-dark-background'].forEach(function (classToBubble) {\n        if (currentSlide.classList.contains(classToBubble)) {\n          dom.wrapper.classList.add(classToBubble);\n        } else {\n          dom.wrapper.classList.remove(classToBubble);\n        }\n      });\n    } // Allow the first background to apply without transition\n\n\n    setTimeout(function () {\n      dom.background.classList.remove('no-transition');\n    }, 1);\n  }\n  /**\n   * Updates the position of the parallax background based\n   * on the current slide index.\n   */\n\n\n  function updateParallax() {\n    if (config.parallaxBackgroundImage) {\n      var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n          verticalSlides = dom.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n      var backgroundSize = dom.background.style.backgroundSize.split(' '),\n          backgroundWidth,\n          backgroundHeight;\n\n      if (backgroundSize.length === 1) {\n        backgroundWidth = backgroundHeight = parseInt(backgroundSize[0], 10);\n      } else {\n        backgroundWidth = parseInt(backgroundSize[0], 10);\n        backgroundHeight = parseInt(backgroundSize[1], 10);\n      }\n\n      var slideWidth = dom.background.offsetWidth,\n          horizontalSlideCount = horizontalSlides.length,\n          horizontalOffsetMultiplier,\n          horizontalOffset;\n\n      if (typeof config.parallaxBackgroundHorizontal === 'number') {\n        horizontalOffsetMultiplier = config.parallaxBackgroundHorizontal;\n      } else {\n        horizontalOffsetMultiplier = horizontalSlideCount > 1 ? (backgroundWidth - slideWidth) / (horizontalSlideCount - 1) : 0;\n      }\n\n      horizontalOffset = horizontalOffsetMultiplier * indexh * -1;\n      var slideHeight = dom.background.offsetHeight,\n          verticalSlideCount = verticalSlides.length,\n          verticalOffsetMultiplier,\n          verticalOffset;\n\n      if (typeof config.parallaxBackgroundVertical === 'number') {\n        verticalOffsetMultiplier = config.parallaxBackgroundVertical;\n      } else {\n        verticalOffsetMultiplier = (backgroundHeight - slideHeight) / (verticalSlideCount - 1);\n      }\n\n      verticalOffset = verticalSlideCount > 0 ? verticalOffsetMultiplier * indexv : 0;\n      dom.background.style.backgroundPosition = horizontalOffset + 'px ' + -verticalOffset + 'px';\n    }\n  }\n  /**\n   * Should the given element be preloaded?\n   * Decides based on local element attributes and global config.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function shouldPreload(element) {\n    // Prefer an explicit global preload setting\n    var preload = config.preloadIframes; // If no global setting is available, fall back on the element's\n    // own preload setting\n\n    if (typeof preload !== 'boolean') {\n      preload = element.hasAttribute('data-preload');\n    }\n\n    return preload;\n  }\n  /**\n   * Called when the given slide is within the configured view\n   * distance. Shows the slide element and loads any content\n   * that is set to load lazily (data-src).\n   *\n   * @param {HTMLElement} slide Slide to show\n   */\n\n\n  function loadSlide(slide, options) {\n    options = options || {}; // Show the slide element\n\n    slide.style.display = config.display; // Media elements with data-src attributes\n\n    toArray(slide.querySelectorAll('img[data-src], video[data-src], audio[data-src], iframe[data-src]')).forEach(function (element) {\n      if (element.tagName !== 'IFRAME' || shouldPreload(element)) {\n        element.setAttribute('src', element.getAttribute('data-src'));\n        element.setAttribute('data-lazy-loaded', '');\n        element.removeAttribute('data-src');\n      }\n    }); // Media elements with <source> children\n\n    toArray(slide.querySelectorAll('video, audio')).forEach(function (media) {\n      var sources = 0;\n      toArray(media.querySelectorAll('source[data-src]')).forEach(function (source) {\n        source.setAttribute('src', source.getAttribute('data-src'));\n        source.removeAttribute('data-src');\n        source.setAttribute('data-lazy-loaded', '');\n        sources += 1;\n      }); // If we rewrote sources for this video/audio element, we need\n      // to manually tell it to load from its new origin\n\n      if (sources > 0) {\n        media.load();\n      }\n    }); // Show the corresponding background element\n\n    var background = slide.slideBackgroundElement;\n\n    if (background) {\n      background.style.display = 'block';\n      var backgroundContent = slide.slideBackgroundContentElement; // If the background contains media, load it\n\n      if (background.hasAttribute('data-loaded') === false) {\n        background.setAttribute('data-loaded', 'true');\n        var backgroundImage = slide.getAttribute('data-background-image'),\n            backgroundVideo = slide.getAttribute('data-background-video'),\n            backgroundVideoLoop = slide.hasAttribute('data-background-video-loop'),\n            backgroundVideoMuted = slide.hasAttribute('data-background-video-muted'),\n            backgroundIframe = slide.getAttribute('data-background-iframe'); // Images\n\n        if (backgroundImage) {\n          backgroundContent.style.backgroundImage = 'url(' + encodeURI(backgroundImage) + ')';\n        } // Videos\n        else if (backgroundVideo && !isSpeakerNotes()) {\n            var video = document.createElement('video');\n\n            if (backgroundVideoLoop) {\n              video.setAttribute('loop', '');\n            }\n\n            if (backgroundVideoMuted) {\n              video.muted = true;\n            } // Inline video playback works (at least in Mobile Safari) as\n            // long as the video is muted and the `playsinline` attribute is\n            // present\n\n\n            if (isMobileDevice) {\n              video.muted = true;\n              video.autoplay = true;\n              video.setAttribute('playsinline', '');\n            } // Support comma separated lists of video sources\n\n\n            backgroundVideo.split(',').forEach(function (source) {\n              video.innerHTML += '<source src=\"' + source + '\">';\n            });\n            backgroundContent.appendChild(video);\n          } // Iframes\n          else if (backgroundIframe && options.excludeIframes !== true) {\n              var iframe = document.createElement('iframe');\n              iframe.setAttribute('allowfullscreen', '');\n              iframe.setAttribute('mozallowfullscreen', '');\n              iframe.setAttribute('webkitallowfullscreen', ''); // Only load autoplaying content when the slide is shown to\n              // avoid having it play in the background\n\n              if (/autoplay=(1|true|yes)/gi.test(backgroundIframe)) {\n                iframe.setAttribute('data-src', backgroundIframe);\n              } else {\n                iframe.setAttribute('src', backgroundIframe);\n              }\n\n              iframe.style.width = '100%';\n              iframe.style.height = '100%';\n              iframe.style.maxHeight = '100%';\n              iframe.style.maxWidth = '100%';\n              backgroundContent.appendChild(iframe);\n            }\n      }\n    }\n  }\n  /**\n   * Unloads and hides the given slide. This is called when the\n   * slide is moved outside of the configured view distance.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function unloadSlide(slide) {\n    // Hide the slide element\n    slide.style.display = 'none'; // Hide the corresponding background element\n\n    var background = getSlideBackground(slide);\n\n    if (background) {\n      background.style.display = 'none';\n    } // Reset lazy-loaded media elements with src attributes\n\n\n    toArray(slide.querySelectorAll('video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]')).forEach(function (element) {\n      element.setAttribute('data-src', element.getAttribute('src'));\n      element.removeAttribute('src');\n    }); // Reset lazy-loaded media elements with <source> children\n\n    toArray(slide.querySelectorAll('video[data-lazy-loaded] source[src], audio source[src]')).forEach(function (source) {\n      source.setAttribute('data-src', source.getAttribute('src'));\n      source.removeAttribute('src');\n    });\n  }\n  /**\n   * Determine what available routes there are for navigation.\n   *\n   * @return {{left: boolean, right: boolean, up: boolean, down: boolean}}\n   */\n\n\n  function availableRoutes() {\n    var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n        verticalSlides = dom.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n    var routes = {\n      left: indexh > 0,\n      right: indexh < horizontalSlides.length - 1,\n      up: indexv > 0,\n      down: indexv < verticalSlides.length - 1\n    }; // Looped presentations can always be navigated as long as\n    // there are slides available\n\n    if (config.loop) {\n      if (horizontalSlides.length > 1) {\n        routes.left = true;\n        routes.right = true;\n      }\n\n      if (verticalSlides.length > 1) {\n        routes.up = true;\n        routes.down = true;\n      }\n    } // Reverse horizontal controls for rtl\n\n\n    if (config.rtl) {\n      var left = routes.left;\n      routes.left = routes.right;\n      routes.right = left;\n    }\n\n    return routes;\n  }\n  /**\n   * Returns an object describing the available fragment\n   * directions.\n   *\n   * @return {{prev: boolean, next: boolean}}\n   */\n\n\n  function availableFragments() {\n    if (currentSlide && config.fragments) {\n      var fragments = currentSlide.querySelectorAll('.fragment');\n      var hiddenFragments = currentSlide.querySelectorAll('.fragment:not(.visible)');\n      return {\n        prev: fragments.length - hiddenFragments.length > 0,\n        next: !!hiddenFragments.length\n      };\n    } else {\n      return {\n        prev: false,\n        next: false\n      };\n    }\n  }\n  /**\n   * Enforces origin-specific format rules for embedded media.\n   */\n\n\n  function formatEmbeddedContent() {\n    var _appendParamToIframeSource = function _appendParamToIframeSource(sourceAttribute, sourceURL, param) {\n      toArray(dom.slides.querySelectorAll('iframe[' + sourceAttribute + '*=\"' + sourceURL + '\"]')).forEach(function (el) {\n        var src = el.getAttribute(sourceAttribute);\n\n        if (src && src.indexOf(param) === -1) {\n          el.setAttribute(sourceAttribute, src + (!/\\?/.test(src) ? '?' : '&') + param);\n        }\n      });\n    }; // YouTube frames must include \"?enablejsapi=1\"\n\n\n    _appendParamToIframeSource('src', 'youtube.com/embed/', 'enablejsapi=1');\n\n    _appendParamToIframeSource('data-src', 'youtube.com/embed/', 'enablejsapi=1'); // Vimeo frames must include \"?api=1\"\n\n\n    _appendParamToIframeSource('src', 'player.vimeo.com/', 'api=1');\n\n    _appendParamToIframeSource('data-src', 'player.vimeo.com/', 'api=1');\n  }\n  /**\n   * Start playback of any embedded content inside of\n   * the given element.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function startEmbeddedContent(element) {\n    if (element && !isSpeakerNotes()) {\n      // Restart GIFs\n      toArray(element.querySelectorAll('img[src$=\".gif\"]')).forEach(function (el) {\n        // Setting the same unchanged source like this was confirmed\n        // to work in Chrome, FF & Safari\n        el.setAttribute('src', el.getAttribute('src'));\n      }); // HTML5 media elements\n\n      toArray(element.querySelectorAll('video, audio')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        } // Prefer an explicit global autoplay setting\n\n\n        var autoplay = config.autoPlayMedia; // If no global setting is available, fall back on the element's\n        // own autoplay setting\n\n        if (typeof autoplay !== 'boolean') {\n          autoplay = el.hasAttribute('data-autoplay') || !!closestParent(el, '.slide-background');\n        }\n\n        if (autoplay && typeof el.play === 'function') {\n          // If the media is ready, start playback\n          if (el.readyState > 1) {\n            startEmbeddedMedia({\n              target: el\n            });\n          } // Mobile devices never fire a loaded event so instead\n          // of waiting, we initiate playback\n          else if (isMobileDevice) {\n              var promise = el.play(); // If autoplay does not work, ensure that the controls are visible so\n              // that the viewer can start the media on their own\n\n              if (promise && typeof promise[\"catch\"] === 'function' && el.controls === false) {\n                promise[\"catch\"](function () {\n                  el.controls = true; // Once the video does start playing, hide the controls again\n\n                  el.addEventListener('play', function () {\n                    el.controls = false;\n                  });\n                });\n              }\n            } // If the media isn't loaded, wait before playing\n            else {\n                el.removeEventListener('loadeddata', startEmbeddedMedia); // remove first to avoid dupes\n\n                el.addEventListener('loadeddata', startEmbeddedMedia);\n              }\n        }\n      }); // Normal iframes\n\n      toArray(element.querySelectorAll('iframe[src]')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        }\n\n        startEmbeddedIframe({\n          target: el\n        });\n      }); // Lazy loading iframes\n\n      toArray(element.querySelectorAll('iframe[data-src]')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        }\n\n        if (el.getAttribute('src') !== el.getAttribute('data-src')) {\n          el.removeEventListener('load', startEmbeddedIframe); // remove first to avoid dupes\n\n          el.addEventListener('load', startEmbeddedIframe);\n          el.setAttribute('src', el.getAttribute('data-src'));\n        }\n      });\n    }\n  }\n  /**\n   * Starts playing an embedded video/audio element after\n   * it has finished loading.\n   *\n   * @param {object} event\n   */\n\n\n  function startEmbeddedMedia(event) {\n    var isAttachedToDOM = !!closestParent(event.target, 'html'),\n        isVisible = !!closestParent(event.target, '.present');\n\n    if (isAttachedToDOM && isVisible) {\n      event.target.currentTime = 0;\n      event.target.play();\n    }\n\n    event.target.removeEventListener('loadeddata', startEmbeddedMedia);\n  }\n  /**\n   * \"Starts\" the content of an embedded iframe using the\n   * postMessage API.\n   *\n   * @param {object} event\n   */\n\n\n  function startEmbeddedIframe(event) {\n    var iframe = event.target;\n\n    if (iframe && iframe.contentWindow) {\n      var isAttachedToDOM = !!closestParent(event.target, 'html'),\n          isVisible = !!closestParent(event.target, '.present');\n\n      if (isAttachedToDOM && isVisible) {\n        // Prefer an explicit global autoplay setting\n        var autoplay = config.autoPlayMedia; // If no global setting is available, fall back on the element's\n        // own autoplay setting\n\n        if (typeof autoplay !== 'boolean') {\n          autoplay = iframe.hasAttribute('data-autoplay') || !!closestParent(iframe, '.slide-background');\n        } // YouTube postMessage API\n\n\n        if (/youtube\\.com\\/embed\\//.test(iframe.getAttribute('src')) && autoplay) {\n          iframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n        } // Vimeo postMessage API\n        else if (/player\\.vimeo\\.com\\//.test(iframe.getAttribute('src')) && autoplay) {\n            iframe.contentWindow.postMessage('{\"method\":\"play\"}', '*');\n          } // Generic postMessage API\n          else {\n              iframe.contentWindow.postMessage('slide:start', '*');\n            }\n      }\n    }\n  }\n  /**\n   * Stop playback of any embedded content inside of\n   * the targeted slide.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function stopEmbeddedContent(element, options) {\n    options = extend({\n      // Defaults\n      unloadIframes: true\n    }, options || {});\n\n    if (element && element.parentNode) {\n      // HTML5 media elements\n      toArray(element.querySelectorAll('video, audio')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && typeof el.pause === 'function') {\n          el.setAttribute('data-paused-by-reveal', '');\n          el.pause();\n        }\n      }); // Generic postMessage API for non-lazy loaded iframes\n\n      toArray(element.querySelectorAll('iframe')).forEach(function (el) {\n        if (el.contentWindow) el.contentWindow.postMessage('slide:stop', '*');\n        el.removeEventListener('load', startEmbeddedIframe);\n      }); // YouTube postMessage API\n\n      toArray(element.querySelectorAll('iframe[src*=\"youtube.com/embed/\"]')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && el.contentWindow && typeof el.contentWindow.postMessage === 'function') {\n          el.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n        }\n      }); // Vimeo postMessage API\n\n      toArray(element.querySelectorAll('iframe[src*=\"player.vimeo.com/\"]')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && el.contentWindow && typeof el.contentWindow.postMessage === 'function') {\n          el.contentWindow.postMessage('{\"method\":\"pause\"}', '*');\n        }\n      });\n\n      if (options.unloadIframes === true) {\n        // Unload lazy-loaded iframes\n        toArray(element.querySelectorAll('iframe[data-src]')).forEach(function (el) {\n          // Only removing the src doesn't actually unload the frame\n          // in all browsers (Firefox) so we set it to blank first\n          el.setAttribute('src', 'about:blank');\n          el.removeAttribute('src');\n        });\n      }\n    }\n  }\n  /**\n   * Returns the number of past slides. This can be used as a global\n   * flattened index for slides.\n   *\n   * @return {number} Past slide count\n   */\n\n\n  function getSlidePastCount() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)); // The number of past slides\n\n    var pastCount = 0; // Step through all slides and count the past ones\n\n    mainLoop: for (var i = 0; i < horizontalSlides.length; i++) {\n      var horizontalSlide = horizontalSlides[i];\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n\n      for (var j = 0; j < verticalSlides.length; j++) {\n        // Stop as soon as we arrive at the present\n        if (verticalSlides[j].classList.contains('present')) {\n          break mainLoop;\n        }\n\n        pastCount++;\n      } // Stop as soon as we arrive at the present\n\n\n      if (horizontalSlide.classList.contains('present')) {\n        break;\n      } // Don't count the wrapping section for vertical slides\n\n\n      if (horizontalSlide.classList.contains('stack') === false) {\n        pastCount++;\n      }\n    }\n\n    return pastCount;\n  }\n  /**\n   * Returns a value ranging from 0-1 that represents\n   * how far into the presentation we have navigated.\n   *\n   * @return {number}\n   */\n\n\n  function getProgress() {\n    // The number of past and total slides\n    var totalCount = getTotalSlides();\n    var pastCount = getSlidePastCount();\n\n    if (currentSlide) {\n      var allFragments = currentSlide.querySelectorAll('.fragment'); // If there are fragments in the current slide those should be\n      // accounted for in the progress.\n\n      if (allFragments.length > 0) {\n        var visibleFragments = currentSlide.querySelectorAll('.fragment.visible'); // This value represents how big a portion of the slide progress\n        // that is made up by its fragments (0-1)\n\n        var fragmentWeight = 0.9; // Add fragment progress to the past slide count\n\n        pastCount += visibleFragments.length / allFragments.length * fragmentWeight;\n      }\n    }\n\n    return Math.min(pastCount / (totalCount - 1), 1);\n  }\n  /**\n   * Checks if this presentation is running inside of the\n   * speaker notes window.\n   *\n   * @return {boolean}\n   */\n\n\n  function isSpeakerNotes() {\n    return !!window.location.search.match(/receiver/gi);\n  }\n  /**\n   * Reads the current URL (hash) and navigates accordingly.\n   */\n\n\n  function readURL() {\n    var hash = window.location.hash; // Attempt to parse the hash as either an index or name\n\n    var bits = hash.slice(2).split('/'),\n        name = hash.replace(/#|\\//gi, ''); // If the first bit is not fully numeric and there is a name we\n    // can assume that this is a named link\n\n    if (!/^[0-9]*$/.test(bits[0]) && name.length) {\n      var element; // Ensure the named link is a valid HTML ID attribute\n\n      try {\n        element = document.getElementById(decodeURIComponent(name));\n      } catch (error) {} // Ensure that we're not already on a slide with the same name\n\n\n      var isSameNameAsCurrentSlide = currentSlide ? currentSlide.getAttribute('id') === name : false;\n\n      if (element) {\n        // If the slide exists and is not the current slide...\n        if (!isSameNameAsCurrentSlide) {\n          // ...find the position of the named slide and navigate to it\n          var indices = Reveal.getIndices(element);\n          slide(indices.h, indices.v);\n        }\n      } // If the slide doesn't exist, navigate to the current slide\n      else {\n          slide(indexh || 0, indexv || 0);\n        }\n    } else {\n      var hashIndexBase = config.hashOneBasedIndex ? 1 : 0; // Read the index components of the hash\n\n      var h = parseInt(bits[0], 10) - hashIndexBase || 0,\n          v = parseInt(bits[1], 10) - hashIndexBase || 0,\n          f;\n\n      if (config.fragmentInURL) {\n        f = parseInt(bits[2], 10);\n\n        if (isNaN(f)) {\n          f = undefined;\n        }\n      }\n\n      if (h !== indexh || v !== indexv || f !== undefined) {\n        slide(h, v, f);\n      }\n    }\n  }\n  /**\n   * Updates the page URL (hash) to reflect the current\n   * state.\n   *\n   * @param {number} delay The time in ms to wait before\n   * writing the hash\n   */\n\n\n  function writeURL(delay) {\n    // Make sure there's never more than one timeout running\n    clearTimeout(writeURLTimeout); // If a delay is specified, timeout this call\n\n    if (typeof delay === 'number') {\n      writeURLTimeout = setTimeout(writeURL, delay);\n    } else if (currentSlide) {\n      // If we're configured to push to history OR the history\n      // API is not avaialble.\n      if (config.history || !window.history) {\n        window.location.hash = locationHash();\n      } // If we're configured to reflect the current slide in the\n      // URL without pushing to history.\n      else if (config.hash) {\n          window.history.replaceState(null, null, '#' + locationHash());\n        } // If history and hash are both disabled, a hash may still\n        // be added to the URL by clicking on a href with a hash\n        // target. Counter this by always removing the hash.\n        else {\n            window.history.replaceState(null, null, window.location.pathname + window.location.search);\n          }\n    }\n  }\n  /**\n   * Retrieves the h/v location and fragment of the current,\n   * or specified, slide.\n   *\n   * @param {HTMLElement} [slide] If specified, the returned\n   * index will be for this slide rather than the currently\n   * active one\n   *\n   * @return {{h: number, v: number, f: number}}\n   */\n\n\n  function getIndices(slide) {\n    // By default, return the current indices\n    var h = indexh,\n        v = indexv,\n        f; // If a slide is specified, return the indices of that slide\n\n    if (slide) {\n      var isVertical = isVerticalSlide(slide);\n      var slideh = isVertical ? slide.parentNode : slide; // Select all horizontal slides\n\n      var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)); // Now that we know which the horizontal slide is, get its index\n\n      h = Math.max(horizontalSlides.indexOf(slideh), 0); // Assume we're not vertical\n\n      v = undefined; // If this is a vertical slide, grab the vertical index\n\n      if (isVertical) {\n        v = Math.max(toArray(slide.parentNode.querySelectorAll('section')).indexOf(slide), 0);\n      }\n    }\n\n    if (!slide && currentSlide) {\n      var hasFragments = currentSlide.querySelectorAll('.fragment').length > 0;\n\n      if (hasFragments) {\n        var currentFragment = currentSlide.querySelector('.current-fragment');\n\n        if (currentFragment && currentFragment.hasAttribute('data-fragment-index')) {\n          f = parseInt(currentFragment.getAttribute('data-fragment-index'), 10);\n        } else {\n          f = currentSlide.querySelectorAll('.fragment.visible').length - 1;\n        }\n      }\n    }\n\n    return {\n      h: h,\n      v: v,\n      f: f\n    };\n  }\n  /**\n   * Retrieves all slides in this presentation.\n   */\n\n\n  function getSlides() {\n    return toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ':not(.stack)'));\n  }\n  /**\n   * Returns an array of objects where each object represents the\n   * attributes on its respective slide.\n   */\n\n\n  function getSlidesAttributes() {\n    return getSlides().map(function (slide) {\n      var attributes = {};\n\n      for (var i = 0; i < slide.attributes.length; i++) {\n        var attribute = slide.attributes[i];\n        attributes[attribute.name] = attribute.value;\n      }\n\n      return attributes;\n    });\n  }\n  /**\n   * Retrieves the total number of slides in this presentation.\n   *\n   * @return {number}\n   */\n\n\n  function getTotalSlides() {\n    return getSlides().length;\n  }\n  /**\n   * Returns the slide element matching the specified index.\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function getSlide(x, y) {\n    var horizontalSlide = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)[x];\n    var verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll('section');\n\n    if (verticalSlides && verticalSlides.length && typeof y === 'number') {\n      return verticalSlides ? verticalSlides[y] : undefined;\n    }\n\n    return horizontalSlide;\n  }\n  /**\n   * Returns the background element for the given slide.\n   * All slides, even the ones with no background properties\n   * defined, have a background element so as long as the\n   * index is valid an element will be returned.\n   *\n   * @param {mixed} x Horizontal background index OR a slide\n   * HTML element\n   * @param {number} y Vertical background index\n   * @return {(HTMLElement[]|*)}\n   */\n\n\n  function getSlideBackground(x, y) {\n    var slide = typeof x === 'number' ? getSlide(x, y) : x;\n\n    if (slide) {\n      return slide.slideBackgroundElement;\n    }\n\n    return undefined;\n  }\n  /**\n   * Retrieves the speaker notes from a slide. Notes can be\n   * defined in two ways:\n   * 1. As a data-notes attribute on the slide <section>\n   * 2. As an <aside class=\"notes\"> inside of the slide\n   *\n   * @param {HTMLElement} [slide=currentSlide]\n   * @return {(string|null)}\n   */\n\n\n  function getSlideNotes(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide; // Notes can be specified via the data-notes attribute...\n\n    if (slide.hasAttribute('data-notes')) {\n      return slide.getAttribute('data-notes');\n    } // ... or using an <aside class=\"notes\"> element\n\n\n    var notesElement = slide.querySelector('aside.notes');\n\n    if (notesElement) {\n      return notesElement.innerHTML;\n    }\n\n    return null;\n  }\n  /**\n   * Retrieves the current state of the presentation as\n   * an object. This state can then be restored at any\n   * time.\n   *\n   * @return {{indexh: number, indexv: number, indexf: number, paused: boolean, overview: boolean}}\n   */\n\n\n  function getState() {\n    var indices = getIndices();\n    return {\n      indexh: indices.h,\n      indexv: indices.v,\n      indexf: indices.f,\n      paused: isPaused(),\n      overview: isOverview()\n    };\n  }\n  /**\n   * Restores the presentation to the given state.\n   *\n   * @param {object} state As generated by getState()\n   * @see {@link getState} generates the parameter `state`\n   */\n\n\n  function setState(state) {\n    if (typeof state === 'object') {\n      slide(deserialize(state.indexh), deserialize(state.indexv), deserialize(state.indexf));\n      var pausedFlag = deserialize(state.paused),\n          overviewFlag = deserialize(state.overview);\n\n      if (typeof pausedFlag === 'boolean' && pausedFlag !== isPaused()) {\n        togglePause(pausedFlag);\n      }\n\n      if (typeof overviewFlag === 'boolean' && overviewFlag !== isOverview()) {\n        toggleOverview(overviewFlag);\n      }\n    }\n  }\n  /**\n   * Return a sorted fragments list, ordered by an increasing\n   * \"data-fragment-index\" attribute.\n   *\n   * Fragments will be revealed in the order that they are returned by\n   * this function, so you can use the index attributes to control the\n   * order of fragment appearance.\n   *\n   * To maintain a sensible default fragment order, fragments are presumed\n   * to be passed in document order. This function adds a \"fragment-index\"\n   * attribute to each node if such an attribute is not already present,\n   * and sets that attribute to an integer value which is the position of\n   * the fragment within the fragments list.\n   *\n   * @param {object[]|*} fragments\n   * @param {boolean} grouped If true the returned array will contain\n   * nested arrays for all fragments with the same index\n   * @return {object[]} sorted Sorted array of fragments\n   */\n\n\n  function sortFragments(fragments, grouped) {\n    fragments = toArray(fragments);\n    var ordered = [],\n        unordered = [],\n        sorted = []; // Group ordered and unordered elements\n\n    fragments.forEach(function (fragment, i) {\n      if (fragment.hasAttribute('data-fragment-index')) {\n        var index = parseInt(fragment.getAttribute('data-fragment-index'), 10);\n\n        if (!ordered[index]) {\n          ordered[index] = [];\n        }\n\n        ordered[index].push(fragment);\n      } else {\n        unordered.push([fragment]);\n      }\n    }); // Append fragments without explicit indices in their\n    // DOM order\n\n    ordered = ordered.concat(unordered); // Manually count the index up per group to ensure there\n    // are no gaps\n\n    var index = 0; // Push all fragments in their sorted order to an array,\n    // this flattens the groups\n\n    ordered.forEach(function (group) {\n      group.forEach(function (fragment) {\n        sorted.push(fragment);\n        fragment.setAttribute('data-fragment-index', index);\n      });\n      index++;\n    });\n    return grouped === true ? ordered : sorted;\n  }\n  /**\n   * Refreshes the fragments on the current slide so that they\n   * have the appropriate classes (.visible + .current-fragment).\n   *\n   * @param {number} [index] The index of the current fragment\n   * @param {array} [fragments] Array containing all fragments\n   * in the current slide\n   *\n   * @return {{shown: array, hidden: array}}\n   */\n\n\n  function updateFragments(index, fragments) {\n    var changedFragments = {\n      shown: [],\n      hidden: []\n    };\n\n    if (currentSlide && config.fragments) {\n      fragments = fragments || sortFragments(currentSlide.querySelectorAll('.fragment'));\n\n      if (fragments.length) {\n        if (typeof index !== 'number') {\n          var currentFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n          if (currentFragment) {\n            index = parseInt(currentFragment.getAttribute('data-fragment-index') || 0, 10);\n          }\n        }\n\n        toArray(fragments).forEach(function (el, i) {\n          if (el.hasAttribute('data-fragment-index')) {\n            i = parseInt(el.getAttribute('data-fragment-index'), 10);\n          } // Visible fragments\n\n\n          if (i <= index) {\n            if (!el.classList.contains('visible')) changedFragments.shown.push(el);\n            el.classList.add('visible');\n            el.classList.remove('current-fragment'); // Announce the fragments one by one to the Screen Reader\n\n            dom.statusDiv.textContent = getStatusText(el);\n\n            if (i === index) {\n              el.classList.add('current-fragment');\n              startEmbeddedContent(el);\n            }\n          } // Hidden fragments\n          else {\n              if (el.classList.contains('visible')) changedFragments.hidden.push(el);\n              el.classList.remove('visible');\n              el.classList.remove('current-fragment');\n            }\n        });\n      }\n    }\n\n    return changedFragments;\n  }\n  /**\n   * Navigate to the specified slide fragment.\n   *\n   * @param {?number} index The index of the fragment that\n   * should be shown, -1 means all are invisible\n   * @param {number} offset Integer offset to apply to the\n   * fragment index\n   *\n   * @return {boolean} true if a change was made in any\n   * fragments visibility as part of this call\n   */\n\n\n  function navigateFragment(index, offset) {\n    if (currentSlide && config.fragments) {\n      var fragments = sortFragments(currentSlide.querySelectorAll('.fragment'));\n\n      if (fragments.length) {\n        // If no index is specified, find the current\n        if (typeof index !== 'number') {\n          var lastVisibleFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n          if (lastVisibleFragment) {\n            index = parseInt(lastVisibleFragment.getAttribute('data-fragment-index') || 0, 10);\n          } else {\n            index = -1;\n          }\n        } // If an offset is specified, apply it to the index\n\n\n        if (typeof offset === 'number') {\n          index += offset;\n        }\n\n        var changedFragments = updateFragments(index, fragments);\n\n        if (changedFragments.hidden.length) {\n          dispatchEvent('fragmenthidden', {\n            fragment: changedFragments.hidden[0],\n            fragments: changedFragments.hidden\n          });\n        }\n\n        if (changedFragments.shown.length) {\n          dispatchEvent('fragmentshown', {\n            fragment: changedFragments.shown[0],\n            fragments: changedFragments.shown\n          });\n        }\n\n        updateControls();\n        updateProgress();\n\n        if (config.fragmentInURL) {\n          writeURL();\n        }\n\n        return !!(changedFragments.shown.length || changedFragments.hidden.length);\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Navigate to the next slide fragment.\n   *\n   * @return {boolean} true if there was a next fragment,\n   * false otherwise\n   */\n\n\n  function nextFragment() {\n    return navigateFragment(null, 1);\n  }\n  /**\n   * Navigate to the previous slide fragment.\n   *\n   * @return {boolean} true if there was a previous fragment,\n   * false otherwise\n   */\n\n\n  function previousFragment() {\n    return navigateFragment(null, -1);\n  }\n  /**\n   * Cues a new automated slide if enabled in the config.\n   */\n\n\n  function cueAutoSlide() {\n    cancelAutoSlide();\n\n    if (currentSlide && config.autoSlide !== false) {\n      var fragment = currentSlide.querySelector('.current-fragment'); // When the slide first appears there is no \"current\" fragment so\n      // we look for a data-autoslide timing on the first fragment\n\n      if (!fragment) fragment = currentSlide.querySelector('.fragment');\n      var fragmentAutoSlide = fragment ? fragment.getAttribute('data-autoslide') : null;\n      var parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute('data-autoslide') : null;\n      var slideAutoSlide = currentSlide.getAttribute('data-autoslide'); // Pick value in the following priority order:\n      // 1. Current fragment's data-autoslide\n      // 2. Current slide's data-autoslide\n      // 3. Parent slide's data-autoslide\n      // 4. Global autoSlide setting\n\n      if (fragmentAutoSlide) {\n        autoSlide = parseInt(fragmentAutoSlide, 10);\n      } else if (slideAutoSlide) {\n        autoSlide = parseInt(slideAutoSlide, 10);\n      } else if (parentAutoSlide) {\n        autoSlide = parseInt(parentAutoSlide, 10);\n      } else {\n        autoSlide = config.autoSlide;\n      } // If there are media elements with data-autoplay,\n      // automatically set the autoSlide duration to the\n      // length of that media. Not applicable if the slide\n      // is divided up into fragments.\n      // playbackRate is accounted for in the duration.\n\n\n      if (currentSlide.querySelectorAll('.fragment').length === 0) {\n        toArray(currentSlide.querySelectorAll('video, audio')).forEach(function (el) {\n          if (el.hasAttribute('data-autoplay')) {\n            if (autoSlide && el.duration * 1000 / el.playbackRate > autoSlide) {\n              autoSlide = el.duration * 1000 / el.playbackRate + 1000;\n            }\n          }\n        });\n      } // Cue the next auto-slide if:\n      // - There is an autoSlide value\n      // - Auto-sliding isn't paused by the user\n      // - The presentation isn't paused\n      // - The overview isn't active\n      // - The presentation isn't over\n\n\n      if (autoSlide && !autoSlidePaused && !isPaused() && !isOverview() && (!Reveal.isLastSlide() || availableFragments().next || config.loop === true)) {\n        autoSlideTimeout = setTimeout(function () {\n          typeof config.autoSlideMethod === 'function' ? config.autoSlideMethod() : navigateNext();\n          cueAutoSlide();\n        }, autoSlide);\n        autoSlideStartTime = Date.now();\n      }\n\n      if (autoSlidePlayer) {\n        autoSlidePlayer.setPlaying(autoSlideTimeout !== -1);\n      }\n    }\n  }\n  /**\n   * Cancels any ongoing request to auto-slide.\n   */\n\n\n  function cancelAutoSlide() {\n    clearTimeout(autoSlideTimeout);\n    autoSlideTimeout = -1;\n  }\n\n  function pauseAutoSlide() {\n    if (autoSlide && !autoSlidePaused) {\n      autoSlidePaused = true;\n      dispatchEvent('autoslidepaused');\n      clearTimeout(autoSlideTimeout);\n\n      if (autoSlidePlayer) {\n        autoSlidePlayer.setPlaying(false);\n      }\n    }\n  }\n\n  function resumeAutoSlide() {\n    if (autoSlide && autoSlidePaused) {\n      autoSlidePaused = false;\n      dispatchEvent('autoslideresumed');\n      cueAutoSlide();\n    }\n  }\n\n  function navigateLeft() {\n    // Reverse for RTL\n    if (config.rtl) {\n      if ((isOverview() || nextFragment() === false) && availableRoutes().left) {\n        slide(indexh + 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n    } // Normal navigation\n    else if ((isOverview() || previousFragment() === false) && availableRoutes().left) {\n        slide(indexh - 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n  }\n\n  function navigateRight() {\n    hasNavigatedRight = true; // Reverse for RTL\n\n    if (config.rtl) {\n      if ((isOverview() || previousFragment() === false) && availableRoutes().right) {\n        slide(indexh - 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n    } // Normal navigation\n    else if ((isOverview() || nextFragment() === false) && availableRoutes().right) {\n        slide(indexh + 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n  }\n\n  function navigateUp() {\n    // Prioritize hiding fragments\n    if ((isOverview() || previousFragment() === false) && availableRoutes().up) {\n      slide(indexh, indexv - 1);\n    }\n  }\n\n  function navigateDown() {\n    hasNavigatedDown = true; // Prioritize revealing fragments\n\n    if ((isOverview() || nextFragment() === false) && availableRoutes().down) {\n      slide(indexh, indexv + 1);\n    }\n  }\n  /**\n   * Navigates backwards, prioritized in the following order:\n   * 1) Previous fragment\n   * 2) Previous vertical slide\n   * 3) Previous horizontal slide\n   */\n\n\n  function navigatePrev() {\n    // Prioritize revealing fragments\n    if (previousFragment() === false) {\n      if (availableRoutes().up) {\n        navigateUp();\n      } else {\n        // Fetch the previous horizontal slide, if there is one\n        var previousSlide;\n\n        if (config.rtl) {\n          previousSlide = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.future')).pop();\n        } else {\n          previousSlide = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.past')).pop();\n        }\n\n        if (previousSlide) {\n          var v = previousSlide.querySelectorAll('section').length - 1 || undefined;\n          var h = indexh - 1;\n          slide(h, v);\n        }\n      }\n    }\n  }\n  /**\n   * The reverse of #navigatePrev().\n   */\n\n\n  function navigateNext() {\n    hasNavigatedRight = true;\n    hasNavigatedDown = true; // Prioritize revealing fragments\n\n    if (nextFragment() === false) {\n      var routes = availableRoutes(); // When looping is enabled `routes.down` is always available\n      // so we need a separate check for when we've reached the\n      // end of a stack and should move horizontally\n\n      if (routes.down && routes.right && config.loop && Reveal.isLastVerticalSlide(currentSlide)) {\n        routes.down = false;\n      }\n\n      if (routes.down) {\n        navigateDown();\n      } else if (config.rtl) {\n        navigateLeft();\n      } else {\n        navigateRight();\n      }\n    }\n  }\n  /**\n   * Checks if the target element prevents the triggering of\n   * swipe navigation.\n   */\n\n\n  function isSwipePrevented(target) {\n    while (target && typeof target.hasAttribute === 'function') {\n      if (target.hasAttribute('data-prevent-swipe')) return true;\n      target = target.parentNode;\n    }\n\n    return false;\n  } // --------------------------------------------------------------------//\n  // ----------------------------- EVENTS -------------------------------//\n  // --------------------------------------------------------------------//\n\n  /**\n   * Called by all event handlers that are based on user\n   * input.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onUserInput(event) {\n    if (config.autoSlideStoppable) {\n      pauseAutoSlide();\n    }\n  }\n  /**\n   * Called whenever there is mouse input at the document level\n   * to determine if the cursor is active or not.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentCursorActive(event) {\n    showCursor();\n    clearTimeout(cursorInactiveTimeout);\n    cursorInactiveTimeout = setTimeout(hideCursor, config.hideCursorTime);\n  }\n  /**\n   * Handler for the document level 'keypress' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentKeyPress(event) {\n    // Check if the pressed key is question mark\n    if (event.shiftKey && event.charCode === 63) {\n      toggleHelp();\n    }\n  }\n  /**\n   * Handler for the document level 'keydown' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentKeyDown(event) {\n    // If there's a condition specified and it returns false,\n    // ignore this event\n    if (typeof config.keyboardCondition === 'function' && config.keyboardCondition(event) === false) {\n      return true;\n    } // Shorthand\n\n\n    var keyCode = event.keyCode; // Remember if auto-sliding was paused so we can toggle it\n\n    var autoSlideWasPaused = autoSlidePaused;\n    onUserInput(event); // Is there a focused element that could be using the keyboard?\n\n    var activeElementIsCE = document.activeElement && document.activeElement.contentEditable !== 'inherit';\n    var activeElementIsInput = document.activeElement && document.activeElement.tagName && /input|textarea/i.test(document.activeElement.tagName);\n    var activeElementIsNotes = document.activeElement && document.activeElement.className && /speaker-notes/i.test(document.activeElement.className); // Whitelist specific modified + keycode combinations\n\n    var prevSlideShortcut = event.shiftKey && event.keyCode === 32;\n    var firstSlideShortcut = (event.metaKey || event.ctrlKey) && keyCode === 37;\n    var lastSlideShortcut = (event.metaKey || event.ctrlKey) && keyCode === 39; // Prevent all other events when a modifier is pressed\n\n    var unusedModifier = !prevSlideShortcut && !firstSlideShortcut && !lastSlideShortcut && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey); // Disregard the event if there's a focused element or a\n    // keyboard modifier key is present\n\n    if (activeElementIsCE || activeElementIsInput || activeElementIsNotes || unusedModifier) return; // While paused only allow resume keyboard events; 'b', 'v', '.'\n\n    var resumeKeyCodes = [66, 86, 190, 191];\n    var key; // Custom key bindings for togglePause should be able to resume\n\n    if (typeof config.keyboard === 'object') {\n      for (key in config.keyboard) {\n        if (config.keyboard[key] === 'togglePause') {\n          resumeKeyCodes.push(parseInt(key, 10));\n        }\n      }\n    }\n\n    if (isPaused() && resumeKeyCodes.indexOf(keyCode) === -1) {\n      return false;\n    }\n\n    var triggered = false; // 1. User defined key bindings\n\n    if (typeof config.keyboard === 'object') {\n      for (key in config.keyboard) {\n        // Check if this binding matches the pressed key\n        if (parseInt(key, 10) === keyCode) {\n          var value = config.keyboard[key]; // Callback function\n\n          if (typeof value === 'function') {\n            value.apply(null, [event]);\n          } // String shortcuts to reveal.js API\n          else if (typeof value === 'string' && typeof Reveal[value] === 'function') {\n              Reveal[value].call();\n            }\n\n          triggered = true;\n        }\n      }\n    } // 2. Registered custom key bindings\n\n\n    if (triggered === false) {\n      for (key in registeredKeyBindings) {\n        // Check if this binding matches the pressed key\n        if (parseInt(key, 10) === keyCode) {\n          var action = registeredKeyBindings[key].callback; // Callback function\n\n          if (typeof action === 'function') {\n            action.apply(null, [event]);\n          } // String shortcuts to reveal.js API\n          else if (typeof action === 'string' && typeof Reveal[action] === 'function') {\n              Reveal[action].call();\n            }\n\n          triggered = true;\n        }\n      }\n    } // 3. System defined key bindings\n\n\n    if (triggered === false) {\n      // Assume true and try to prove false\n      triggered = true; // P, PAGE UP\n\n      if (keyCode === 80 || keyCode === 33) {\n        navigatePrev();\n      } // N, PAGE DOWN\n      else if (keyCode === 78 || keyCode === 34) {\n          navigateNext();\n        } // H, LEFT\n        else if (keyCode === 72 || keyCode === 37) {\n            if (firstSlideShortcut) {\n              slide(0);\n            } else if (!isOverview() && config.navigationMode === 'linear') {\n              navigatePrev();\n            } else {\n              navigateLeft();\n            }\n          } // L, RIGHT\n          else if (keyCode === 76 || keyCode === 39) {\n              if (lastSlideShortcut) {\n                slide(Number.MAX_VALUE);\n              } else if (!isOverview() && config.navigationMode === 'linear') {\n                navigateNext();\n              } else {\n                navigateRight();\n              }\n            } // K, UP\n            else if (keyCode === 75 || keyCode === 38) {\n                if (!isOverview() && config.navigationMode === 'linear') {\n                  navigatePrev();\n                } else {\n                  navigateUp();\n                }\n              } // J, DOWN\n              else if (keyCode === 74 || keyCode === 40) {\n                  if (!isOverview() && config.navigationMode === 'linear') {\n                    navigateNext();\n                  } else {\n                    navigateDown();\n                  }\n                } // HOME\n                else if (keyCode === 36) {\n                    slide(0);\n                  } // END\n                  else if (keyCode === 35) {\n                      slide(Number.MAX_VALUE);\n                    } // SPACE\n                    else if (keyCode === 32) {\n                        if (isOverview()) {\n                          deactivateOverview();\n                        }\n\n                        if (event.shiftKey) {\n                          navigatePrev();\n                        } else {\n                          navigateNext();\n                        }\n                      } // TWO-SPOT, SEMICOLON, B, V, PERIOD, LOGITECH PRESENTER TOOLS \"BLACK SCREEN\" BUTTON\n                      else if (keyCode === 58 || keyCode === 59 || keyCode === 66 || keyCode === 86 || keyCode === 190 || keyCode === 191) {\n                          togglePause();\n                        } // F\n                        else if (keyCode === 70) {\n                            enterFullscreen();\n                          } // A\n                          else if (keyCode === 65) {\n                              if (config.autoSlideStoppable) {\n                                toggleAutoSlide(autoSlideWasPaused);\n                              }\n                            } else {\n                              triggered = false;\n                            }\n    } // If the input resulted in a triggered action we should prevent\n    // the browsers default behavior\n\n\n    if (triggered) {\n      event.preventDefault && event.preventDefault();\n    } // ESC or O key\n    else if ((keyCode === 27 || keyCode === 79) && features.transforms3d) {\n        if (dom.overlay) {\n          closeOverlay();\n        } else {\n          toggleOverview();\n        }\n\n        event.preventDefault && event.preventDefault();\n      } // If auto-sliding is enabled we need to cue up\n    // another timeout\n\n\n    cueAutoSlide();\n  }\n  /**\n   * Handler for the 'touchstart' event, enables support for\n   * swipe and pinch gestures.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchStart(event) {\n    if (isSwipePrevented(event.target)) return true;\n    touch.startX = event.touches[0].clientX;\n    touch.startY = event.touches[0].clientY;\n    touch.startCount = event.touches.length;\n  }\n  /**\n   * Handler for the 'touchmove' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchMove(event) {\n    if (isSwipePrevented(event.target)) return true; // Each touch should only trigger one action\n\n    if (!touch.captured) {\n      onUserInput(event);\n      var currentX = event.touches[0].clientX;\n      var currentY = event.touches[0].clientY; // There was only one touch point, look for a swipe\n\n      if (event.touches.length === 1 && touch.startCount !== 2) {\n        var deltaX = currentX - touch.startX,\n            deltaY = currentY - touch.startY;\n\n        if (deltaX > touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n          touch.captured = true;\n          navigateLeft();\n        } else if (deltaX < -touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n          touch.captured = true;\n          navigateRight();\n        } else if (deltaY > touch.threshold) {\n          touch.captured = true;\n          navigateUp();\n        } else if (deltaY < -touch.threshold) {\n          touch.captured = true;\n          navigateDown();\n        } // If we're embedded, only block touch events if they have\n        // triggered an action\n\n\n        if (config.embedded) {\n          if (touch.captured || isVerticalSlide(currentSlide)) {\n            event.preventDefault();\n          }\n        } // Not embedded? Block them all to avoid needless tossing\n        // around of the viewport in iOS\n        else {\n            event.preventDefault();\n          }\n      }\n    } // There's a bug with swiping on some Android devices unless\n    // the default action is always prevented\n    else if (UA.match(/android/gi)) {\n        event.preventDefault();\n      }\n  }\n  /**\n   * Handler for the 'touchend' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchEnd(event) {\n    touch.captured = false;\n  }\n  /**\n   * Convert pointer down to touch start.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerDown(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchStart(event);\n    }\n  }\n  /**\n   * Convert pointer move to touch move.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerMove(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchMove(event);\n    }\n  }\n  /**\n   * Convert pointer up to touch end.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerUp(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchEnd(event);\n    }\n  }\n  /**\n   * Handles mouse wheel scrolling, throttled to avoid skipping\n   * multiple slides.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentMouseScroll(event) {\n    if (Date.now() - lastMouseWheelStep > 600) {\n      lastMouseWheelStep = Date.now();\n      var delta = event.detail || -event.wheelDelta;\n\n      if (delta > 0) {\n        navigateNext();\n      } else if (delta < 0) {\n        navigatePrev();\n      }\n    }\n  }\n  /**\n   * Clicking on the progress bar results in a navigation to the\n   * closest approximate horizontal slide using this equation:\n   *\n   * ( clickX / presentationWidth ) * numberOfSlides\n   *\n   * @param {object} event\n   */\n\n\n  function onProgressClicked(event) {\n    onUserInput(event);\n    event.preventDefault();\n    var slidesTotal = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).length;\n    var slideIndex = Math.floor(event.clientX / dom.wrapper.offsetWidth * slidesTotal);\n\n    if (config.rtl) {\n      slideIndex = slidesTotal - slideIndex;\n    }\n\n    slide(slideIndex);\n  }\n  /**\n   * Event handler for navigation control buttons.\n   */\n\n\n  function onNavigateLeftClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    config.navigationMode === 'linear' ? navigatePrev() : navigateLeft();\n  }\n\n  function onNavigateRightClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    config.navigationMode === 'linear' ? navigateNext() : navigateRight();\n  }\n\n  function onNavigateUpClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateUp();\n  }\n\n  function onNavigateDownClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateDown();\n  }\n\n  function onNavigatePrevClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigatePrev();\n  }\n\n  function onNavigateNextClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateNext();\n  }\n  /**\n   * Handler for the window level 'hashchange' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onWindowHashChange(event) {\n    readURL();\n  }\n  /**\n   * Handler for the window level 'resize' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onWindowResize(event) {\n    layout();\n  }\n  /**\n   * Handle for the window level 'visibilitychange' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onPageVisibilityChange(event) {\n    var isHidden = document.webkitHidden || document.msHidden || document.hidden; // If, after clicking a link or similar and we're coming back,\n    // focus the document.body to ensure we can use keyboard shortcuts\n\n    if (isHidden === false && document.activeElement !== document.body) {\n      // Not all elements support .blur() - SVGs among them.\n      if (typeof document.activeElement.blur === 'function') {\n        document.activeElement.blur();\n      }\n\n      document.body.focus();\n    }\n  }\n  /**\n   * Invoked when a slide is and we're in the overview.\n   *\n   * @param {object} event\n   */\n\n\n  function onOverviewSlideClicked(event) {\n    // TODO There's a bug here where the event listeners are not\n    // removed after deactivating the overview.\n    if (eventsAreBound && isOverview()) {\n      event.preventDefault();\n      var element = event.target;\n\n      while (element && !element.nodeName.match(/section/gi)) {\n        element = element.parentNode;\n      }\n\n      if (element && !element.classList.contains('disabled')) {\n        deactivateOverview();\n\n        if (element.nodeName.match(/section/gi)) {\n          var h = parseInt(element.getAttribute('data-index-h'), 10),\n              v = parseInt(element.getAttribute('data-index-v'), 10);\n          slide(h, v);\n        }\n      }\n    }\n  }\n  /**\n   * Handles clicks on links that are set to preview in the\n   * iframe overlay.\n   *\n   * @param {object} event\n   */\n\n\n  function onPreviewLinkClicked(event) {\n    if (event.currentTarget && event.currentTarget.hasAttribute('href')) {\n      var url = event.currentTarget.getAttribute('href');\n\n      if (url) {\n        showPreview(url);\n        event.preventDefault();\n      }\n    }\n  }\n  /**\n   * Handles click on the auto-sliding controls element.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onAutoSlidePlayerClick(event) {\n    // Replay\n    if (Reveal.isLastSlide() && config.loop === false) {\n      slide(0, 0);\n      resumeAutoSlide();\n    } // Resume\n    else if (autoSlidePaused) {\n        resumeAutoSlide();\n      } // Pause\n      else {\n          pauseAutoSlide();\n        }\n  } // --------------------------------------------------------------------//\n  // ------------------------ PLAYBACK COMPONENT ------------------------//\n  // --------------------------------------------------------------------//\n\n  /**\n   * Constructor for the playback component, which displays\n   * play/pause/progress controls.\n   *\n   * @param {HTMLElement} container The component will append\n   * itself to this\n   * @param {function} progressCheck A method which will be\n   * called frequently to get the current progress on a range\n   * of 0-1\n   */\n\n\n  function Playback(container, progressCheck) {\n    // Cosmetics\n    this.diameter = 100;\n    this.diameter2 = this.diameter / 2;\n    this.thickness = 6; // Flags if we are currently playing\n\n    this.playing = false; // Current progress on a 0-1 range\n\n    this.progress = 0; // Used to loop the animation smoothly\n\n    this.progressOffset = 1;\n    this.container = container;\n    this.progressCheck = progressCheck;\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'playback';\n    this.canvas.width = this.diameter;\n    this.canvas.height = this.diameter;\n    this.canvas.style.width = this.diameter2 + 'px';\n    this.canvas.style.height = this.diameter2 + 'px';\n    this.context = this.canvas.getContext('2d');\n    this.container.appendChild(this.canvas);\n    this.render();\n  }\n  /**\n   * @param value\n   */\n\n\n  Playback.prototype.setPlaying = function (value) {\n    var wasPlaying = this.playing;\n    this.playing = value; // Start repainting if we weren't already\n\n    if (!wasPlaying && this.playing) {\n      this.animate();\n    } else {\n      this.render();\n    }\n  };\n\n  Playback.prototype.animate = function () {\n    var progressBefore = this.progress;\n    this.progress = this.progressCheck(); // When we loop, offset the progress so that it eases\n    // smoothly rather than immediately resetting\n\n    if (progressBefore > 0.8 && this.progress < 0.2) {\n      this.progressOffset = this.progress;\n    }\n\n    this.render();\n\n    if (this.playing) {\n      features.requestAnimationFrameMethod.call(window, this.animate.bind(this));\n    }\n  };\n  /**\n   * Renders the current progress and playback state.\n   */\n\n\n  Playback.prototype.render = function () {\n    var progress = this.playing ? this.progress : 0,\n        radius = this.diameter2 - this.thickness,\n        x = this.diameter2,\n        y = this.diameter2,\n        iconSize = 28; // Ease towards 1\n\n    this.progressOffset += (1 - this.progressOffset) * 0.1;\n    var endAngle = -Math.PI / 2 + progress * (Math.PI * 2);\n    var startAngle = -Math.PI / 2 + this.progressOffset * (Math.PI * 2);\n    this.context.save();\n    this.context.clearRect(0, 0, this.diameter, this.diameter); // Solid background color\n\n    this.context.beginPath();\n    this.context.arc(x, y, radius + 4, 0, Math.PI * 2, false);\n    this.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n    this.context.fill(); // Draw progress track\n\n    this.context.beginPath();\n    this.context.arc(x, y, radius, 0, Math.PI * 2, false);\n    this.context.lineWidth = this.thickness;\n    this.context.strokeStyle = 'rgba( 255, 255, 255, 0.2 )';\n    this.context.stroke();\n\n    if (this.playing) {\n      // Draw progress on top of track\n      this.context.beginPath();\n      this.context.arc(x, y, radius, startAngle, endAngle, false);\n      this.context.lineWidth = this.thickness;\n      this.context.strokeStyle = '#fff';\n      this.context.stroke();\n    }\n\n    this.context.translate(x - iconSize / 2, y - iconSize / 2); // Draw play/pause icons\n\n    if (this.playing) {\n      this.context.fillStyle = '#fff';\n      this.context.fillRect(0, 0, iconSize / 2 - 4, iconSize);\n      this.context.fillRect(iconSize / 2 + 4, 0, iconSize / 2 - 4, iconSize);\n    } else {\n      this.context.beginPath();\n      this.context.translate(4, 0);\n      this.context.moveTo(0, 0);\n      this.context.lineTo(iconSize - 4, iconSize / 2);\n      this.context.lineTo(0, iconSize);\n      this.context.fillStyle = '#fff';\n      this.context.fill();\n    }\n\n    this.context.restore();\n  };\n\n  Playback.prototype.on = function (type, listener) {\n    this.canvas.addEventListener(type, listener, false);\n  };\n\n  Playback.prototype.off = function (type, listener) {\n    this.canvas.removeEventListener(type, listener, false);\n  };\n\n  Playback.prototype.destroy = function () {\n    this.playing = false;\n\n    if (this.canvas.parentNode) {\n      this.container.removeChild(this.canvas);\n    }\n  }; // --------------------------------------------------------------------//\n  // ------------------------------- API --------------------------------//\n  // --------------------------------------------------------------------//\n\n\n  Reveal = {\n    VERSION: VERSION,\n    initialize: initialize,\n    configure: configure,\n    sync: sync,\n    syncSlide: syncSlide,\n    syncFragments: syncFragments,\n    // Navigation methods\n    slide: slide,\n    left: navigateLeft,\n    right: navigateRight,\n    up: navigateUp,\n    down: navigateDown,\n    prev: navigatePrev,\n    next: navigateNext,\n    // Fragment methods\n    navigateFragment: navigateFragment,\n    prevFragment: previousFragment,\n    nextFragment: nextFragment,\n    // Deprecated aliases\n    navigateTo: slide,\n    navigateLeft: navigateLeft,\n    navigateRight: navigateRight,\n    navigateUp: navigateUp,\n    navigateDown: navigateDown,\n    navigatePrev: navigatePrev,\n    navigateNext: navigateNext,\n    // Forces an update in slide layout\n    layout: layout,\n    // Randomizes the order of slides\n    shuffle: shuffle,\n    // Returns an object with the available routes as booleans (left/right/top/bottom)\n    availableRoutes: availableRoutes,\n    // Returns an object with the available fragments as booleans (prev/next)\n    availableFragments: availableFragments,\n    // Toggles a help overlay with keyboard shortcuts\n    toggleHelp: toggleHelp,\n    // Toggles the overview mode on/off\n    toggleOverview: toggleOverview,\n    // Toggles the \"black screen\" mode on/off\n    togglePause: togglePause,\n    // Toggles the auto slide mode on/off\n    toggleAutoSlide: toggleAutoSlide,\n    // State checks\n    isOverview: isOverview,\n    isPaused: isPaused,\n    isAutoSliding: isAutoSliding,\n    isSpeakerNotes: isSpeakerNotes,\n    // Slide preloading\n    loadSlide: loadSlide,\n    unloadSlide: unloadSlide,\n    // Adds or removes all internal event listeners (such as keyboard)\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners,\n    // Facility for persisting and restoring the presentation state\n    getState: getState,\n    setState: setState,\n    // Presentation progress\n    getSlidePastCount: getSlidePastCount,\n    // Presentation progress on range of 0-1\n    getProgress: getProgress,\n    // Returns the indices of the current, or specified, slide\n    getIndices: getIndices,\n    // Returns an Array of all slides\n    getSlides: getSlides,\n    // Returns an Array of objects representing the attributes on\n    // the slides\n    getSlidesAttributes: getSlidesAttributes,\n    // Returns the total number of slides\n    getTotalSlides: getTotalSlides,\n    // Returns the slide element at the specified index\n    getSlide: getSlide,\n    // Returns the slide background element at the specified index\n    getSlideBackground: getSlideBackground,\n    // Returns the speaker notes string for a slide, or null\n    getSlideNotes: getSlideNotes,\n    // Returns the previous slide element, may be null\n    getPreviousSlide: function getPreviousSlide() {\n      return previousSlide;\n    },\n    // Returns the current slide element\n    getCurrentSlide: function getCurrentSlide() {\n      return currentSlide;\n    },\n    // Returns the current scale of the presentation content\n    getScale: function getScale() {\n      return scale;\n    },\n    // Returns the current configuration object\n    getConfig: function getConfig() {\n      return config;\n    },\n    // Helper method, retrieves query string as a key/value hash\n    getQueryHash: function getQueryHash() {\n      var query = {};\n      location.search.replace(/[A-Z0-9]+?=([\\w\\.%-]*)/gi, function (a) {\n        query[a.split('=').shift()] = a.split('=').pop();\n      }); // Basic deserialization\n\n      for (var i in query) {\n        var value = query[i];\n        query[i] = deserialize(unescape(value));\n      }\n\n      return query;\n    },\n    // Returns the top-level DOM element\n    getRevealElement: function getRevealElement() {\n      return dom.wrapper || document.querySelector('.reveal');\n    },\n    // Returns a hash with all registered plugins\n    getPlugins: function getPlugins() {\n      return plugins;\n    },\n    // Returns true if we're currently on the first slide\n    isFirstSlide: function isFirstSlide() {\n      return indexh === 0 && indexv === 0;\n    },\n    // Returns true if we're currently on the last slide\n    isLastSlide: function isLastSlide() {\n      if (currentSlide) {\n        // Does this slide have a next sibling?\n        if (currentSlide.nextElementSibling) return false; // If it's vertical, does its parent have a next sibling?\n\n        if (isVerticalSlide(currentSlide) && currentSlide.parentNode.nextElementSibling) return false;\n        return true;\n      }\n\n      return false;\n    },\n    // Returns true if we're on the last slide in the current\n    // vertical stack\n    isLastVerticalSlide: function isLastVerticalSlide() {\n      if (currentSlide && isVerticalSlide(currentSlide)) {\n        // Does this slide have a next sibling?\n        if (currentSlide.nextElementSibling) return false;\n        return true;\n      }\n\n      return false;\n    },\n    // Checks if reveal.js has been loaded and is ready for use\n    isReady: function isReady() {\n      return loaded;\n    },\n    // Forward event binding to the reveal DOM element\n    addEventListener: function addEventListener(type, listener, useCapture) {\n      if ('addEventListener' in window) {\n        Reveal.getRevealElement().addEventListener(type, listener, useCapture);\n      }\n    },\n    removeEventListener: function removeEventListener(type, listener, useCapture) {\n      if ('addEventListener' in window) {\n        Reveal.getRevealElement().removeEventListener(type, listener, useCapture);\n      }\n    },\n    // Adds/removes a custom key binding\n    addKeyBinding: addKeyBinding,\n    removeKeyBinding: removeKeyBinding,\n    // API for registering and retrieving plugins\n    registerPlugin: registerPlugin,\n    hasPlugin: hasPlugin,\n    getPlugin: getPlugin,\n    // Programmatically triggers a keyboard event\n    triggerKey: function triggerKey(keyCode) {\n      onDocumentKeyDown({\n        keyCode: keyCode\n      });\n    },\n    // Registers a new shortcut to include in the help overlay\n    registerKeyboardShortcut: function registerKeyboardShortcut(key, value) {\n      keyboardShortcuts[key] = value;\n    }\n  };\n  return Reveal;\n});","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","var map = {\n\t\"./beige.css\": 211,\n\t\"./black.css\": 212,\n\t\"./blood.css\": 213,\n\t\"./league.css\": 214,\n\t\"./moon.css\": 215,\n\t\"./night.css\": 216,\n\t\"./serif.css\": 217,\n\t\"./simple.css\": 218,\n\t\"./sky.css\": 219,\n\t\"./solarized.css\": 220,\n\t\"./white.css\": 221\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 210;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 222;","var map = {\n\t\"./prism-coy.css\": 224,\n\t\"./prism-dark.css\": 225,\n\t\"./prism-funky.css\": 226,\n\t\"./prism-okaidia.css\": 227,\n\t\"./prism-solarizedlight.css\": 228,\n\t\"./prism-tomorrow.css\": 229,\n\t\"./prism-twilight.css\": 230,\n\t\"./prism.css\": 231\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 223;"],"sourceRoot":""}
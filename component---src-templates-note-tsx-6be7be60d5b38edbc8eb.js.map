{"version":3,"sources":["webpack:///./src/components/Reveal/Reveal.types.ts","webpack:///./src/components/Loader/Loader.types.ts","webpack:///./src/components/Loader/Loader.styles.ts","webpack:///./src/components/Loader/Loader.tsx","webpack:///./src/components/Portal/usePortal.ts","webpack:///./src/components/Portal/index.tsx","webpack:///./src/components/Loader/PageLoader.tsx","webpack:///./src/components/Reveal/index.tsx","webpack:///./src/templates/note.tsx","webpack:///./node_modules/reveal.js/js/reveal.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/reveal.js/css/theme sync ^\\.\\/.*\\.css$","webpack:///./src/templates sync","webpack:///./node_modules/prismjs/themes sync ^\\.\\/.*\\.css$"],"names":["Theme","LoaderLabelPosition","LoaderSize","spinAnimation","keyframes","transform","Label","color","Root","labelPosition","top","right","left","Circle","secondaryColor","size","xs","sm","md","lg","Loader","className","label","style","inverted","aria-label","usePortal","id","window","rootElemRef","useRef","useEffect","rootElem","existingParent","document","querySelector","parentElem","rootContainer","createElement","setAttribute","createRootElement","body","insertBefore","lastElementChild","nextElementSibling","appendChild","current","remove","childNodes","length","Portal","children","target","createPortal","Overlay","transitionDuration","isOpaque","PageLoader","props","toggleLoadingLag","delay","isLoading","transitionLag","setTimeout","setState","isTransition","stopTransition","transitionDelay","overlayRef","React","createRef","state","componentDidUpdate","prevProps","this","componentWillUnmount","clearTimeout","render","loaderProps","showLoader","ref","Component","defaultProps","katexCss","require","revealCss","Revealer","renderHtml","dangerouslySetInnerHTML","__html","formatHtml","html","separator","separatorVertical","split","map","section","vertSection","join","componentDidMount","Reveal","initialize","config","removeEventListeners","themeCss","theme","css","WHITE","hash","pageQuery","NoteTemplate","data","markdownRemark","site","frontmatter","title","description","Head","GlobalStyles","siteMetadata","revealjsConfig","styles","root","indexh","indexv","previousSlide","currentSlide","previousBackground","isMobileDevice","isChrome","autoSlidePlayer","SLIDES_SELECTOR","HORIZONTAL_SLIDES_SELECTOR","VERTICAL_SLIDES_SELECTOR","HOME_SLIDE_SELECTOR","UA","navigator","userAgent","width","height","margin","minScale","maxScale","controls","controlsTutorial","controlsLayout","controlsBackArrows","progress","slideNumber","showSlideNumber","hashOneBasedIndex","history","keyboard","keyboardCondition","overview","disableLayout","center","touch","loop","rtl","navigationMode","shuffle","fragments","fragmentInURL","embedded","help","pause","showNotes","autoPlayMedia","preloadIframes","autoSlide","autoSlideStoppable","autoSlideMethod","defaultTiming","mouseWheel","rollingLinks","hideAddressBar","previewLinks","postMessage","postMessageEvents","focusBodyOnPageVisibilityChange","transition","transitionSpeed","backgroundTransition","parallaxBackgroundImage","parallaxBackgroundSize","parallaxBackgroundRepeat","parallaxBackgroundPosition","parallaxBackgroundHorizontal","parallaxBackgroundVertical","pdfMaxPagesPerSlide","Number","POSITIVE_INFINITY","pdfSeparateFragments","pdfPageHeightOffset","viewDistance","display","hideInactiveCursor","hideCursorTime","dependencies","initialized","loaded","overviewSlideWidth","overviewSlideHeight","hasNavigatedRight","hasNavigatedDown","scale","slidesTransform","layout","dom","plugins","asyncDependencies","features","lastMouseWheelStep","writeURLTimeout","cursorHidden","cursorInactiveTimeout","eventsAreBound","autoSlideTimeout","autoSlideStartTime","autoSlidePaused","startX","startY","startCount","captured","threshold","keyboardShortcuts","registeredKeyBindings","initPlugins","pluginsToInitialize","Object","keys","loadAsyncDependencies","afterPlugInitialized","i","plugin","init","callback","then","statusDiv","forEach","s","loadScript","src","slides","classList","add","wrapper","test","background","createSingletonNode","progressbar","speakerNotes","pauseOverlay","controlsLeft","toArray","querySelectorAll","controlsRight","controlsUp","controlsDown","controlsPrev","controlsNext","controlsRightArrow","controlsDownArrow","getElementById","position","overflow","clip","addEventListener","event","charAt","JSON","parse","method","apply","args","setInterval","scrollTop","scrollLeft","horizontalSlide","verticalSlide","y","configure","readURL","updateBackground","dispatchEvent","isPrintingPDF","readyState","setupPDF","url","script","type","async","defer","onload","onreadystatechange","onerror","err","Error","head","lastChild","getStatusText","node","text","nodeType","textContent","isAriaHidden","getAttribute","isDisplayHidden","getComputedStyle","child","slideSize","getComputedSlideSize","innerWidth","innerHeight","pageWidth","Math","floor","pageHeight","slideWidth","slideHeight","injectStyleSheet","layoutSlideContents","hslide","h","contains","vslide","v","slide","contentHeight","scrollHeight","numberOfPages","max","ceil","min","page","parentNode","slideBackgroundElement","notes","getSlideNotes","notesLayout","notesElement","innerHTML","nextSibling","notesSpacing","bottom","slideNumberH","parseInt","slideNumberV","numberElement","formatSlideNumber","previousFragmentStep","previousPage","fragmentGroups","sortFragments","fragment","clonedPage","cloneNode","container","tagname","classname","nodes","testNode","createBackground","element","replace","contentElement","slideBackgroundContentElement","syncBackground","removeAttribute","backgroundColor","backgroundSize","backgroundRepeat","backgroundPosition","backgroundImage","opacity","backgroundVideo","backgroundIframe","backgroundOpacity","contrastColor","computedBackgroundStyle","rgb","colorToRgb","a","r","g","b","options","oldTransition","extend","numberOfSlides","transforms3d","resume","onDocumentMouseScroll","removeEventListener","anchors","len","anchor","span","enableRollingLinks","disableRollingLinks","onDocumentCursorActive","showCursor","enablePreviewLinks","disablePreviewLinks","destroy","canvas","requestAnimationFrame","Playback","Date","now","on","onAutoSlidePlayerClick","slideNumberDisplay","isSpeakerNotes","sync","addEventListeners","visibilityChange","onWindowHashChange","onWindowResize","onPointerDown","onPointerMove","onPointerUp","msPointerEnabled","onTouchStart","onTouchMove","onTouchEnd","onDocumentKeyDown","onDocumentKeyPress","onProgressClicked","onPageVisibilityChange","pointerEvents","match","eventName","el","onNavigateLeftClicked","onNavigateRightClicked","onNavigateUpClicked","onNavigateDownClicked","onNavigatePrevClicked","onNavigateNextClicked","o","Array","prototype","slice","call","deserialize","value","parseFloat","transformElement","WebkitTransform","MozTransform","msTransform","transformSlides","transforms","tag","styleSheet","cssText","createTextNode","getElementsByTagName","closestParent","selector","parent","matchesMethod","matches","matchesSelector","msMatchesSelector","hex3","hex6","substr","rgba","location","search","removeAddressBar","scrollTo","createEvent","initEvent","self","stringify","namespace","getState","onPreviewLinkClicked","toggleHelp","override","showHelp","closeOverlay","overlay","key","binding","preventDefault","removeChild","documentElement","setProperty","oldScale","presentationWidth","presentationHeight","zoom","updateProgress","updateParallax","isOverview","updateOverview","remainingHeight","newHeight","oldHeight","offsetHeight","removeProperty","getRemainingHeight","nodeName","nw","naturalWidth","videoWidth","nh","naturalHeight","videoHeight","es","offsetWidth","setPreviousVerticalIndex","stack","getPreviousVerticalIndex","attributeName","hasAttribute","activateOverview","overviewTransitions","cancelAutoSlide","onOverviewSlideClicked","updateSlidesVisibility","layoutOverview","hbackground","vbackground","vmin","deactivateOverview","cueAutoSlide","toggleOverview","locationHash","indexf","encodeURIComponent","getIndices","f","undefined","hashIndexBase","isVerticalSlide","cursor","hideCursor","wasPaused","togglePause","isPaused","toggleAutoSlide","resumeAutoSlide","pauseAutoSlide","horizontalSlides","stateBefore","concat","indexhBefore","indexvBefore","updateSlides","currentHorizontalSlide","currentVerticalSlides","navigateFragment","slideChanged","stateLoop","j","splice","pop","stopEmbeddedContent","startEmbeddedContent","updateControls","updateSlideNumber","updateNotes","updateFragments","writeURL","_appendParamToIframeSource","slideh","backgroundStack","slidev","verticalSlides","sourceAttribute","sourceURL","param","indexOf","unloadIframes","syncFragments","random","index","slidesLength","printMode","reverse","slideState","distanceX","horizontalSlidesLength","MAX_VALUE","x","verticalSlidesLength","abs","loadSlide","unloadSlide","oy","getProgress","format","push","getSlidePastCount","getTotalSlides","delimiter","isNaN","routes","availableRoutes","availableFragments","up","down","prev","next","includeAll","currentBackground","horizontalPast","horizontalFuture","backgroundh","backgroundv","currentBackgroundContent","backgroundImageURL","previousBackgroundHash","currentBackgroundHash","classToBubble","backgroundWidth","backgroundHeight","horizontalOffset","horizontalSlideCount","verticalOffsetMultiplier","verticalOffset","verticalSlideCount","tagName","preload","shouldPreload","media","sources","source","load","backgroundContent","backgroundVideoLoop","backgroundVideoMuted","encodeURI","video","muted","autoplay","excludeIframes","iframe","maxHeight","maxWidth","getSlideBackground","hiddenFragments","play","startEmbeddedMedia","promise","startEmbeddedIframe","isAttachedToDOM","isVisible","currentTime","contentWindow","pastCount","mainLoop","totalCount","allFragments","bits","name","decodeURIComponent","error","isSameNameAsCurrentSlide","indices","replaceState","pathname","isVertical","currentFragment","getSlides","getSlide","paused","grouped","ordered","unordered","sorted","group","changedFragments","shown","hidden","offset","lastVisibleFragment","nextFragment","previousFragment","fragmentAutoSlide","parentAutoSlide","slideAutoSlide","duration","playbackRate","isLastSlide","navigateNext","setPlaying","navigateLeft","navigateRight","navigateUp","navigateDown","navigatePrev","isLastVerticalSlide","isSwipePrevented","onUserInput","shiftKey","charCode","keyCode","autoSlideWasPaused","activeElementIsCE","activeElement","contentEditable","activeElementIsInput","activeElementIsNotes","prevSlideShortcut","firstSlideShortcut","metaKey","ctrlKey","lastSlideShortcut","unusedModifier","altKey","resumeKeyCodes","requestMethod","triggered","action","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","touches","clientX","clientY","currentX","currentY","deltaX","deltaY","pointerType","MSPOINTER_TYPE_TOUCH","delta","detail","wheelDelta","slidesTotal","slideIndex","webkitHidden","msHidden","blur","focus","currentTarget","showPreview","progressCheck","diameter","diameter2","thickness","playing","progressOffset","context","getContext","wasPlaying","animate","progressBefore","requestAnimationFrameMethod","bind","radius","endAngle","PI","startAngle","save","clearRect","beginPath","arc","fillStyle","fill","lineWidth","strokeStyle","stroke","translate","iconSize","fillRect","moveTo","lineTo","restore","listener","off","VERSION","testElement","transforms2d","webkitRequestAnimationFrame","mozRequestAnimationFrame","checkCapabilities","scripts","scriptsToLoad","query","getQueryHash","condition","images","iframes","lazyLoadable","syncSlide","prevFragment","navigateTo","isAutoSliding","pausedFlag","overviewFlag","getSlidesAttributes","attributes","attribute","getPreviousSlide","getCurrentSlide","getScale","getConfig","shift","unescape","getRevealElement","getPlugins","isFirstSlide","isReady","useCapture","addKeyBinding","removeKeyBinding","registerPlugin","console","warn","hasPlugin","getPlugin","triggerKey","registerKeyboardShortcut","factory","$export","P","toObject","toAbsoluteIndex","toLength","module","exports","O","aLen","arguments","end","endPos","global","has","cof","inheritIfRequired","toPrimitive","fails","gOPN","gOPD","dP","$trim","trim","$Number","Base","proto","BROKEN_COF","TRIM","String","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","l","that","valueOf","constructor","webpackContext","req","webpackContextResolve","__webpack_require__","e","resolve","webpackEmptyContext"],"mappings":"qGAAYA,E,gDAAAA,K,cAAAA,E,cAAAA,E,cAAAA,E,gBAAAA,E,YAAAA,E,cAAAA,E,cAAAA,E,gBAAAA,E,UAAAA,E,sBAAAA,E,eAAAA,M,SCEAC,EAMAC,E,kBANAD,O,aAAAA,I,iBAAAA,I,gBAAAA,M,cAMAC,O,WAAAA,I,WAAAA,I,WAAAA,I,YAAAA,M,KCCZ,IAAMC,EAAgBC,YAAU,CAC9B,KAAM,CACJC,UAAW,gBAEb,OAAQ,CACNA,UAAW,oBAIFC,EAAQ,mBAAH,oBAAG,CAAH,UACP,qBAAGC,OAAqB,UADjB,uCAMLC,EAAO,mBAAH,oBAAG,CAAH,0EAKG,YAChB,OADuC,EAApBC,eAEjB,KAAKR,EAAoBS,IACvB,MAAO,iBACT,KAAKT,EAAoBU,MACvB,MAAO,MACT,KAAKV,EAAoBW,KACvB,MAAO,cACT,QACE,MAAO,YAdE,IAkBbN,EAlBa,YAmBH,YACR,OAD+B,EAApBG,eAET,KAAKR,EAAoBS,IACvB,MAAO,WACT,KAAKT,EAAoBU,MACvB,MAAO,aACT,KAAKV,EAAoBW,KACvB,MAAO,aACT,QACE,MAAO,cA5BA,M,8MAkCJC,EAAS,mBAAH,oBAAG,CAAH,yCAGK,qBAAGC,gBAAuC,cAH/C,sBAKG,qBAAGP,OAAqB,UAL3B,mBAMCJ,EAND,4HAUf,YACA,OADc,EAAXY,MAED,KAAKb,EAAWc,GACd,SAIF,KAAKd,EAAWe,GACd,SAIF,KAAKf,EAAWgB,GACd,SAIF,KAAKhB,EAAWiB,GACd,YA5BW,KCpDNC,EAAiC,SAAC,GAAD,IAC5CC,EAD4C,EAC5CA,UACAZ,EAF4C,EAE5CA,cACAa,EAH4C,EAG5CA,MAH4C,IAI5CP,YAJ4C,MAIrCb,EAAWe,GAJ0B,EAK5CM,EAL4C,EAK5CA,MACAC,EAN4C,EAM5CA,SAN4C,OAQ5C,YAAChB,EAAD,CACEe,MAAOA,EACPF,UAAWA,EACXZ,cAAeA,EACfgB,aAAW,WAEX,YAACZ,EAAD,CAAQE,KAAMA,EAAMS,SAAUA,IAC7BF,GAAS,YAAChB,EAAD,KAAQgB,K,iBCiCPI,MApCf,SAAmBC,GACjB,GAAsB,oBAAXC,OAAX,CAEA,IAAMC,EAAcC,iBAAO,MA8B3B,OA5BAC,qBAAU,WACR,IAboBC,EAadC,EAAiBC,SAASC,cAAT,IAA2BR,GAC5CS,EAAaH,GApBvB,SAA2BN,GACzB,IAAMU,EAAgBH,SAASI,cAAc,OAE7C,OADAD,EAAcE,aAAa,KAAMZ,GAC1BU,EAiBgCG,CAAkBb,GAQvD,OANKM,IAhBeD,EAiBHI,EAhBnBF,SAASO,KAAKC,aACZV,EACAE,SAASO,KAAKE,iBAAiBC,qBAiB/BR,EAAWS,YAAYhB,EAAYiB,SAE5B,WACLjB,EAAYiB,QAAQC,UACkB,IAAlCX,EAAWY,WAAWC,QACxBb,EAAWW,YAGd,IAMIlB,EAAYiB,UACfjB,EAAYiB,QAAUZ,SAASI,cAAc,QAExCT,EAAYiB,UClCRI,EANwB,SAAC,GAAqB,IAAnBvB,EAAmB,EAAnBA,GAAIwB,EAAe,EAAfA,SACtCC,EAAS1B,EAAUC,GACzB,OAAIyB,EAAeC,uBAAaF,EAAUC,GAC9B,8BAAGD,I,+MCCjB,IAAMG,EAAU,mBAAH,mBAAG,CAAH,0JAWW,qBAAGC,qBAXd,eAYA,qBAAGC,SAA2B,EAAI,IAZlC,KAwCAC,EAAb,Y,QAYE,WAAYC,GAAwB,aAClC,cAAMA,IAAN,MAiBFC,iBAAmB,SAACC,EAAeC,GAEjC,EAAKC,cAAgBC,YACnB,kBACE,EAAKC,SAAS,CAAEH,YAAWI,cAAc,GAAQ,EAAKC,kBACxDN,IAvBgC,EA2BpCM,eAAiB,WAEf,EAAKC,gBAAkBJ,YACrB,kBAAM,EAAKC,SAAS,CAAEC,cAAc,MACpC,EAAKP,MAAMH,qBA5Bb,EAAKa,WAAaC,IAAMC,YAExB,EAAKC,MAAQ,CACXV,UAAWH,EAAMG,UACjBI,cAAc,GAPkB,E,EAZtC,G,EAAA,G,6EAAA,2BAuBEO,mBAAA,SAAmBC,GAA4B,MACRC,KAAKhB,MAAlCG,EADqC,EACrCA,UAAWC,EAD0B,EAC1BA,cACfA,GAAiBW,EAAUZ,YAAcA,GAC3Ca,KAAKf,iBAAiBG,EAAeD,IA1B3C,EA+CEc,qBAAA,WACEC,aAAaF,KAAKZ,eAClBc,aAAaF,KAAKP,kBAjDtB,EAoDEU,OAAA,WAAS,MAC+CH,KAAKhB,MAAnDP,EADD,EACCA,SAAUI,EADX,EACWA,mBAAoBuB,EAD/B,EAC+BA,YAD/B,EAE6BJ,KAAKH,MAAjCV,EAFD,EAECA,UAGFkB,EALC,EAEYd,eAEKJ,IAAcV,GAGtC,OACE,8BACGA,EACA4B,GACC,YAAC,EAAD,CAAQpD,GAAG,UACT,YAAC2B,EAAD,CACE0B,IAAKN,KAAKN,WACVZ,SAAUK,EACVN,mBAAoBA,GAEpB,YAAC,EAAD,GAAQxC,KAAMb,EAAWiB,IAAQ2D,QArE/C,GAAgCT,IAAMY,WAAzBxB,EAIJyB,aAAyC,CAC9CpB,cAAe,IACfP,mBAAoB,KCpDxB,IAAM4B,EAAWC,EAAQ,KACnBC,EAAYD,EAAQ,KAoBpBE,E,oBAUJ,WAAY5B,GAAsB,aAChC,cAAMA,IAAN,MAgEF6B,WAAa,SAAC7B,GAKZ,OACE,mBACErC,UAAU,SACVmE,wBAAyB,CACvBC,OAAQ,EAAKC,WAAWhC,OA1EE,EAgFlCgC,WAAa,YAQP,IAPJC,EAOI,EAPJA,KAOI,IANJC,iBAMI,MANQ,WAMR,MALJC,yBAKI,MALgB,eAKhB,EACJ,OAAOF,EACJG,MAAMF,GACNG,KACC,SAAAC,GAAO,kBACOA,EACTF,MAAMD,GACNE,KAAI,SAAAE,GAAW,kBAAgBA,EAAhB,gBACfC,KAAK,IAJH,4BAORA,KAAK,KAhGR,EAAK3B,MAAQ,CACXV,WAAW,GAJmB,E,kHAQlCsC,kBAAA,WACwB,oBAAXvE,SACT8C,KAAK0B,OAAShB,EAAQ,KACtBV,KAAK0B,OAAOC,WAAW3B,KAAKhB,MAAM4C,SAGpC5B,KAAKV,SAAS,CACZH,WAAW,K,EAIfc,qBAAA,WACED,KAAK0B,OAAOG,wB,EAGd1B,OAAA,WAAS,IACChB,EAAca,KAAKH,MAAnBV,UADD,EAEwCa,KAAKhB,MAA5CiC,EAFD,EAECA,KAAMC,EAFP,EAEOA,UAAWC,EAFlB,EAEkBA,kBAEnBW,EAAWpB,OAAQ,KAAuBV,KAAKhB,MAAM+C,MAAnC,QACxB,OACE,uBACEC,IAAKA,YACDrB,EADD,IAECF,EAFD,sOAkBGqB,EAlBH,OAsBH,YAAC,EAAD,CAAY3C,UAAWA,GACrB,mBAAKxC,UAAU,UACZqD,KAAKa,WAAW,CACfI,OACAC,YACAC,0B,GAnESxB,IAAMY,WAAvBK,EAGGJ,aAAuC,CAC5CuB,MAAOzG,EAAM2G,MACbL,OAAQ,CACNM,MAAM,IA2GGtB,Q,0CChHf,IAuBauB,EAAY,aA2DVC,UAlF4B,SAAC,GAAa,IAAXC,EAAW,EAAXA,KACpCC,EAAyBD,EAAzBC,eAAgBC,EAASF,EAATE,KAChBC,EAAsBF,EAAtBE,YAAavB,EAASqB,EAATrB,KACbwB,EAAuBD,EAAvBC,MAAOC,EAAgBF,EAAhBE,YAWf,OAFIhC,OAAQ,wBAGV,8BACE,YAACiC,EAAA,EAAD,CAAMF,MAAOA,GAAS,eAAgBC,YAAaA,IACnD,YAACE,EAAD,MACA,YAAClB,EAAD,CAAQE,OAAQW,EAAKM,aAAaC,eAAgB7B,KAAMA,MAsE9D,SAAS2B,IACP,OAAO,YAAC,IAAD,CAAQG,OAAQf,kB,oBCrHzB,MAuCWgB,EAvCX,EAAQ,KAER,EAAQ,IAER,EAAQ,IAER,EAAQ,IAER,EAAQ,IAER,EAAQ,IAER,EAAQ,KAER,EAAQ,IAER,EAAQ,IAER,EAAQ,IAER,EAAQ,IAER,EAAQ,IAER,EAAQ,GAER,EAAQ,IAER,EAAQ,IAER,EAAQ,KASGA,EAcRhD,UARE,KAHD,aAEE,OADAgD,EAAKtB,OAUF,WACP,aAEA,IAAIA,EAuNJuB,EACIC,EAEJC,EACIC,EACAC,EAyBJC,EAEAC,EAcAC,EAlQIC,EAAkB,kBAClBC,EAA6B,kBAC7BC,EAA2B,kCAC3BC,EAAsB,gCACtBC,EAAKC,UAAUC,UAEnBnC,EAAS,CAGPoC,MAAO,IACPC,OAAQ,IAERC,OAAQ,IAERC,SAAU,GACVC,SAAU,EAEVC,UAAU,EAGVC,kBAAkB,EAElBC,eAAgB,eAGhBC,mBAAoB,QAEpBC,UAAU,EAeVC,aAAa,EAKbC,gBAAiB,MAGjBC,mBAAmB,EAGnB1C,MAAM,EAEN2C,SAAS,EAETC,UAAU,EAEVC,kBAAmB,KAEnBC,UAAU,EAGVC,eAAe,EAEfC,QAAQ,EAERC,OAAO,EAEPC,MAAM,EAENC,KAAK,EAyBLC,eAAgB,UAEhBC,SAAS,EAETC,WAAW,EAGXC,eAAe,EAGfC,UAAU,EAGVC,MAAM,EAENC,OAAO,EAEPC,WAAW,EAKXC,cAAe,KAMfC,eAAgB,KAMhBC,UAAW,EAEXC,oBAAoB,EAEpBC,gBAAiB,KAIjBC,cAAe,KAEfC,YAAY,EAEZC,cAAc,EAEdC,gBAAgB,EAIhBC,cAAc,EAEdC,aAAa,EAEbC,mBAAmB,EAEnBC,iCAAiC,EAEjCC,WAAY,QAGZC,gBAAiB,UAGjBC,qBAAsB,OAGtBC,wBAAyB,GAGzBC,uBAAwB,GAGxBC,yBAA0B,GAG1BC,2BAA4B,GAG5BC,6BAA8B,KAC9BC,2BAA4B,KAG5BC,oBAAqBC,OAAOC,kBAE5BC,sBAAsB,EAMtBC,qBAAsB,EAEtBC,aAAc,EAEdC,QAAS,QAETC,oBAAoB,EAEpBC,eAAgB,IAEhBC,aAAc,IAGhBC,GAAc,EAEdC,GAAS,EAET/C,GAAW,EAEXgD,EAAqB,KACjBC,EAAsB,KAS1BC,GAAoB,EAChBC,GAAmB,EAIvBtI,EAAQ,GAERuI,EAAQ,EAGRC,EAAkB,CAChBC,OAAQ,GACRtD,SAAU,IAGZuD,EAAM,GAENC,EAAU,GAEVC,EAAoB,GAEpBC,EAAW,GAMXC,EAAqB,EAErBC,EAAkB,EAElBC,GAAe,EAEfC,EAAwB,EAExBC,GAAiB,EAEjB/C,EAAY,EAGRgD,EAAmB,EACnBC,GAAsB,EACtBC,GAAkB,EAEtB/D,EAAQ,CACNgE,OAAQ,EACRC,OAAQ,EACRC,WAAY,EACZC,UAAU,EACVC,UAAW,IAIbC,EAAoB,GAEpBC,EAAwB,GAsHxB,SAASC,IACP,IAAIC,EAAsBC,OAAOC,KAAKrB,GAASjK,OAE/C,GAA4B,IAAxBoL,EACFG,QAEG,CACD,IAAIC,EAAuB,WACK,KAAxBJ,GACJG,KAIJ,IAAK,IAAIE,KAAKxB,EAAS,CACrB,IAAIyB,EAASzB,EAAQwB,GAErB,GAA2B,mBAAhBC,EAAOC,KAAqB,CACrC,IAAIC,EAAWF,EAAOC,OAElBC,GAAqC,mBAAlBA,EAASC,KAC9BD,EAASC,KAAKL,GAEdA,SAGFA,MAUV,SAASD,IAoGT,IAsDMO,EAzJA5B,EAAkBlK,QACpBkK,EAAkB6B,SAAQ,SAAUC,GAClCC,EAAWD,EAAEE,IAAKF,EAAEJ,aAmDxBpC,GAAS,EAgDTQ,EAAImC,OAAOC,UAAUC,IAAI,iBAErBtH,EACFiF,EAAIsC,QAAQF,UAAUC,IAAI,YAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,YAG3B,WAAWyM,KAAKjH,GAClB0E,EAAIsC,QAAQF,UAAUC,IAAI,aAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,aAI/BkK,EAAIwC,WAAaC,EAAoBzC,EAAIsC,QAAS,MAAO,cAAe,MAExEtC,EAAI9D,SAAWuG,EAAoBzC,EAAIsC,QAAS,MAAO,WAAY,iBACnEtC,EAAI0C,YAAc1C,EAAI9D,SAAShH,cAAc,QAE7C8K,EAAIlE,SAAW2G,EAAoBzC,EAAIsC,QAAS,QAAS,WAAY,6YAErEtC,EAAI7D,YAAcsG,EAAoBzC,EAAIsC,QAAS,MAAO,eAAgB,IAE1EtC,EAAI2C,aAAeF,EAAoBzC,EAAIsC,QAAS,MAAO,gBAAiB,MAC5EtC,EAAI2C,aAAarN,aAAa,qBAAsB,IACpD0K,EAAI2C,aAAarN,aAAa,WAAY,KAE1C0K,EAAI4C,aAAeH,EAAoBzC,EAAIsC,QAAS,MAAO,gBAAiBjJ,EAAOyC,SAAW,6DAA+D,MAC7JkE,EAAIsC,QAAQhN,aAAa,OAAQ,eAEjC0K,EAAI6C,aAAeC,EAAQ7N,SAAS8N,iBAAiB,mBACrD/C,EAAIgD,cAAgBF,EAAQ7N,SAAS8N,iBAAiB,oBACtD/C,EAAIiD,WAAaH,EAAQ7N,SAAS8N,iBAAiB,iBACnD/C,EAAIkD,aAAeJ,EAAQ7N,SAAS8N,iBAAiB,mBACrD/C,EAAImD,aAAeL,EAAQ7N,SAAS8N,iBAAiB,mBACrD/C,EAAIoD,aAAeN,EAAQ7N,SAAS8N,iBAAiB,mBAErD/C,EAAIqD,mBAAqBrD,EAAIlE,SAAS5G,cAAc,mBACpD8K,EAAIsD,kBAAoBtD,EAAIlE,SAAS5G,cAAc,kBACnD8K,EAAI8B,YAYAA,EAAY7M,SAASsO,eAAe,uBAGtCzB,EAAY7M,SAASI,cAAc,QACzBf,MAAMkP,SAAW,WAC3B1B,EAAUxN,MAAMoH,OAAS,MACzBoG,EAAUxN,MAAMmH,MAAQ,MACxBqG,EAAUxN,MAAMmP,SAAW,SAC3B3B,EAAUxN,MAAMoP,KAAO,6BACvB5B,EAAUxM,aAAa,KAAM,mBAC7BwM,EAAUxM,aAAa,YAAa,UACpCwM,EAAUxM,aAAa,cAAe,QACtC0K,EAAIsC,QAAQ1M,YAAYkM,IAGnBA,GAgZHzI,EAAO4E,aACTtJ,OAAOgP,iBAAiB,WAAW,SAAUC,GAC3C,IAAI9J,EAAO8J,EAAM9J,KAEG,iBAATA,GAAwC,MAAnBA,EAAK+J,OAAO,IAA+C,MAAjC/J,EAAK+J,OAAO/J,EAAK9D,OAAS,KAClF8D,EAAOgK,KAAKC,MAAMjK,IAETkK,QAAyC,mBAAxB7K,EAAOW,EAAKkK,SACpC7K,EAAOW,EAAKkK,QAAQC,MAAM9K,EAAQW,EAAKoK,SAG1C,GAhOLC,aAAY,WACoB,IAA1BnE,EAAIsC,QAAQ8B,WAA8C,IAA3BpE,EAAIsC,QAAQ+B,aAC7CrE,EAAIsC,QAAQ8B,UAAY,EACxBpE,EAAIsC,QAAQ+B,WAAa,KAE1B,KAoxDoBvB,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAC3C4G,SAAQ,SAAUuC,GACZxB,EAAQwB,EAAgBvB,iBAAiB,YAC/ChB,SAAQ,SAAUwC,EAAeC,GAC1CA,EAAI,IACND,EAAcnC,UAAUtM,OAAO,WAC/ByO,EAAcnC,UAAUtM,OAAO,QAC/ByO,EAAcnC,UAAUC,IAAI,UAC5BkC,EAAcjP,aAAa,cAAe,eArkEhDmP,IAEAC,KAEAC,IAAiB,GAGjB7N,YAAW,WAETkJ,EAAImC,OAAOC,UAAUtM,OAAO,iBAC5BkK,EAAIsC,QAAQF,UAAUC,IAAI,SAC1BuC,GAAc,QAAS,CACrB,OAAUlK,EACV,OAAUC,EACV,aAAgBE,MAEjB,GAECgK,OACFvL,IAG4B,aAAxBrE,SAAS6P,WACXC,IAEApQ,OAAOgP,iBAAiB,OAAQoB,IAvEtC,SAAS9C,EAAW+C,EAAKpD,GACvB,IAAIqD,EAAShQ,SAASI,cAAc,UACpC4P,EAAOC,KAAO,kBACdD,EAAOE,OAAQ,EACfF,EAAOG,OAAQ,EACfH,EAAO/C,IAAM8C,EAETpD,IAEFqD,EAAOI,OAASJ,EAAOK,mBAAqB,SAAU1B,IACjC,SAAfA,EAAMsB,MAAmB,kBAAkB3C,KAAK0C,EAAOH,eAEzDG,EAAOI,OAASJ,EAAOK,mBAAqBL,EAAOM,QAAU,KAC7D3D,MAKJqD,EAAOM,QAAU,SAAUC,GAEzBP,EAAOI,OAASJ,EAAOK,mBAAqBL,EAAOM,QAAU,KAC7D3D,EAAS,IAAI6D,MAAM,0BAA4BR,EAAO/C,IAAM,KAAOsD,MAKvE,IAAIE,EAAOzQ,SAASC,cAAc,QAClCwQ,EAAKjQ,aAAawP,EAAQS,EAAKC,WAqIjC,SAASC,EAAcC,GACrB,IAAIC,EAAO,GAEX,GAAsB,IAAlBD,EAAKE,SACPD,GAAQD,EAAKG,iBAEV,GAAsB,IAAlBH,EAAKE,SAAgB,CAC1B,IAAIE,EAAeJ,EAAKK,aAAa,eACjCC,EAA+D,SAA7CxR,OAAOyR,iBAAiBP,GAAe,QAExC,SAAjBI,GAA4BE,GAC9BrD,EAAQ+C,EAAK9P,YAAYgM,SAAQ,SAAUsE,GACzCP,GAAQF,EAAcS,MAK9B,OAAOP,EAQT,SAASf,IACP,IAAIuB,EAAYC,GAAqB5R,OAAO6R,WAAY7R,OAAO8R,aAE3DC,EAAYC,KAAKC,MAAMN,EAAU7K,OAAS,EAAIpC,EAAOsC,SACrDkL,EAAaF,KAAKC,MAAMN,EAAU5K,QAAU,EAAIrC,EAAOsC,SAEvDmL,EAAaR,EAAU7K,MACvBsL,EAAcT,EAAU5K,OAE5BsL,GAAiB,cAAgBN,EAAY,MAAQG,EAAa,qBAElEG,GAAiB,iFAAmFF,EAAa,kBAAoBC,EAAc,OACnJ9R,SAASO,KAAK4M,UAAUC,IAAI,aAC5BpN,SAASO,KAAKlB,MAAMmH,MAAQiL,EAAY,KACxCzR,SAASO,KAAKlB,MAAMoH,OAASmL,EAAa,KAE1CI,GAAoBH,EAAYC,GAGhCjE,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAA6B4G,SAAQ,SAAUmF,EAAQC,GAC1FD,EAAO5R,aAAa,eAAgB6R,GAEhCD,EAAO9E,UAAUgF,SAAS,UAC5BtE,EAAQoE,EAAOnE,iBAAiB,YAAYhB,SAAQ,SAAUsF,EAAQC,GACpED,EAAO/R,aAAa,eAAgB6R,GACpCE,EAAO/R,aAAa,eAAgBgS,SAK1CxE,EAAQ9C,EAAIsC,QAAQS,iBAAiB7H,IAAkB6G,SAAQ,SAAUwF,GAGvE,IAA0C,IAAtCA,EAAMnF,UAAUgF,SAAS,SAAoB,CAE/C,IAAIzT,GAAQ+S,EAAYI,GAAc,EAClCrT,GAAOoT,EAAaE,GAAe,EACnCS,EAAgBD,EAAME,aACtBC,EAAgBf,KAAKgB,IAAIhB,KAAKiB,KAAKJ,EAAgBX,GAAa,IAI9C,KAFtBa,EAAgBf,KAAKkB,IAAIH,EAAerO,EAAOwF,uBAEpBxF,EAAOsD,QAAU4K,EAAMnF,UAAUgF,SAAS,aACnE3T,EAAMkT,KAAKgB,KAAKd,EAAaW,GAAiB,EAAG,IAKnD,IAAIM,EAAO7S,SAASI,cAAc,OAelC,GAdAyS,EAAK1T,UAAY,WACjB0T,EAAKxT,MAAMoH,QAAUmL,EAAaxN,EAAO4F,qBAAuByI,EAAgB,KAChFH,EAAMQ,WAAWtS,aAAaqS,EAAMP,GACpCO,EAAKlS,YAAY2R,GAEjBA,EAAMjT,MAAMX,KAAOA,EAAO,KAC1B4T,EAAMjT,MAAMb,IAAMA,EAAM,KACxB8T,EAAMjT,MAAMmH,MAAQqL,EAAa,KAE7BS,EAAMS,wBACRF,EAAKrS,aAAa8R,EAAMS,uBAAwBT,GAI9ClO,EAAOiE,UAAW,CAEpB,IAAI2K,EAAQC,GAAcX,GAE1B,GAAIU,EAAO,CACT,IACIE,EAA0C,iBAArB9O,EAAOiE,UAAyBjE,EAAOiE,UAAY,SACxE8K,EAAenT,SAASI,cAAc,OAC1C+S,EAAahG,UAAUC,IAAI,iBAC3B+F,EAAahG,UAAUC,IAAI,qBAC3B+F,EAAa9S,aAAa,cAAe6S,GACzCC,EAAaC,UAAYJ,EAEL,kBAAhBE,EACFL,EAAKC,WAAWtS,aAAa2S,EAAcN,EAAKQ,cAEhDF,EAAa9T,MAAMX,KAAO4U,MAC1BH,EAAa9T,MAAMkU,OAASD,MAC5BH,EAAa9T,MAAMmH,MAAQiL,EAAY6B,GAAmB,KAC1DT,EAAKlS,YAAYwS,KAMvB,GAAI/O,EAAO8C,aAAe,aAAaoG,KAAKlJ,EAAO+C,iBAAkB,CACnE,IAAIqM,EAAeC,SAASnB,EAAMrB,aAAa,gBAAiB,IAAM,EAClEyC,EAAeD,SAASnB,EAAMrB,aAAa,gBAAiB,IAAM,EAClE0C,EAAgB3T,SAASI,cAAc,OAC3CuT,EAAcxG,UAAUC,IAAI,gBAC5BuG,EAAcxG,UAAUC,IAAI,oBAC5BuG,EAAcP,UAAYQ,GAAkBJ,EAAc,IAAKE,GAC/Db,EAAKlS,YAAYgT,GAInB,GAAIvP,EAAO2F,qBAAsB,CAI/B,IACI8J,EACAC,EAFAC,EAAiBC,GAAcnB,EAAK/E,iBAAiB,cAAc,GAGvEiG,EAAejH,SAAQ,SAAU9E,GAE3B6L,GACFA,EAAqB/G,SAAQ,SAAUmH,GACrCA,EAAS9G,UAAUtM,OAAO,uBAK9BmH,EAAU8E,SAAQ,SAAUmH,GAC1BA,EAAS9G,UAAUC,IAAI,UAAW,uBAGpC,IAAI8G,EAAarB,EAAKsB,WAAU,GAChCtB,EAAKC,WAAWtS,aAAa0T,GAAaJ,GAAgBjB,GAAMQ,aAChEQ,EAAuB7L,EACvB8L,EAAeI,KAGjBH,EAAejH,SAAQ,SAAU9E,GAC/BA,EAAU8E,SAAQ,SAAUmH,GAC1BA,EAAS9G,UAAUtM,OAAO,UAAW,+BAKvCgN,EAAQgF,EAAK/E,iBAAiB,6BAA6BhB,SAAQ,SAAUmH,GAC3EA,EAAS9G,UAAUC,IAAI,kBAMjCuC,GAAc,aAmChB,SAASnC,EAAoB4G,EAAWC,EAASC,EAAWlB,GAK1D,IAHA,IAAImB,EAAQH,EAAUtG,iBAAiB,IAAMwG,GAGpC9H,EAAI,EAAGA,EAAI+H,EAAMxT,OAAQyL,IAAK,CACrC,IAAIgI,EAAWD,EAAM/H,GAErB,GAAIgI,EAAS1B,aAAesB,EAC1B,OAAOI,EAKX,IAAI5D,EAAO5Q,SAASI,cAAciU,GAQlC,OAPAzD,EAAKzR,UAAYmV,EAEQ,iBAAdlB,IACTxC,EAAKwC,UAAYA,GAGnBgB,EAAUzT,YAAYiQ,GACfA,EAmDT,SAAS6D,EAAiBnC,EAAO8B,GAE/B,IAAIM,EAAU1U,SAASI,cAAc,OACrCsU,EAAQvV,UAAY,oBAAsBmT,EAAMnT,UAAUwV,QAAQ,sBAAuB,IAEzF,IAAIC,EAAiB5U,SAASI,cAAc,OAQ5C,OAPAwU,EAAezV,UAAY,2BAC3BuV,EAAQ/T,YAAYiU,GACpBR,EAAUzT,YAAY+T,GACtBpC,EAAMS,uBAAyB2B,EAC/BpC,EAAMuC,8BAAgCD,EAEtCE,EAAexC,GACRoC,EAUT,SAASI,EAAexC,GACtB,IAAIoC,EAAUpC,EAAMS,uBAChB6B,EAAiBtC,EAAMuC,8BAG3BvC,EAAMnF,UAAUtM,OAAO,uBACvByR,EAAMnF,UAAUtM,OAAO,wBACvB6T,EAAQK,gBAAgB,eACxBL,EAAQK,gBAAgB,wBACxBL,EAAQK,gBAAgB,wBACxBL,EAAQK,gBAAgB,8BACxBL,EAAQrV,MAAM2V,gBAAkB,GAChCJ,EAAevV,MAAM4V,eAAiB,GACtCL,EAAevV,MAAM6V,iBAAmB,GACxCN,EAAevV,MAAM8V,mBAAqB,GAC1CP,EAAevV,MAAM+V,gBAAkB,GACvCR,EAAevV,MAAMgW,QAAU,GAC/BT,EAAexB,UAAY,GAC3B,IAAIvO,EAAO,CACT0I,WAAY+E,EAAMrB,aAAa,mBAC/BgE,eAAgB3C,EAAMrB,aAAa,wBACnCmE,gBAAiB9C,EAAMrB,aAAa,yBACpCqE,gBAAiBhD,EAAMrB,aAAa,yBACpCsE,iBAAkBjD,EAAMrB,aAAa,0BACrC+D,gBAAiB1C,EAAMrB,aAAa,yBACpCiE,iBAAkB5C,EAAMrB,aAAa,0BACrCkE,mBAAoB7C,EAAMrB,aAAa,4BACvC5H,qBAAsBiJ,EAAMrB,aAAa,8BACzCuE,kBAAmBlD,EAAMrB,aAAa,4BAGpCpM,EAAK0I,aAEH,sBAAsBD,KAAKzI,EAAK0I,aAAe,2CAA2CD,KAAKzI,EAAK0I,YACtG+E,EAAMjS,aAAa,wBAAyBwE,EAAK0I,YAEjDmH,EAAQrV,MAAMkO,WAAa1I,EAAK0I,aAOhC1I,EAAK0I,YAAc1I,EAAKmQ,iBAAmBnQ,EAAKuQ,iBAAmBvQ,EAAKyQ,iBAAmBzQ,EAAK0Q,mBAClGb,EAAQrU,aAAa,uBAAwBwE,EAAK0I,WAAa1I,EAAKoQ,eAAiBpQ,EAAKuQ,gBAAkBvQ,EAAKyQ,gBAAkBzQ,EAAK0Q,iBAAmB1Q,EAAKmQ,gBAAkBnQ,EAAKqQ,iBAAmBrQ,EAAKsQ,mBAAqBtQ,EAAKwE,qBAAuBxE,EAAK2Q,mBAInQ3Q,EAAKoQ,gBAAgBP,EAAQrU,aAAa,uBAAwBwE,EAAKoQ,gBACvEpQ,EAAKmQ,kBAAiBN,EAAQrV,MAAM2V,gBAAkBnQ,EAAKmQ,iBAC3DnQ,EAAKwE,sBAAsBqL,EAAQrU,aAAa,6BAA8BwE,EAAKwE,sBAEnFxE,EAAKoQ,iBAAgBL,EAAevV,MAAM4V,eAAiBpQ,EAAKoQ,gBAChEpQ,EAAKqQ,mBAAkBN,EAAevV,MAAM6V,iBAAmBrQ,EAAKqQ,kBACpErQ,EAAKsQ,qBAAoBP,EAAevV,MAAM8V,mBAAqBtQ,EAAKsQ,oBACxEtQ,EAAK2Q,oBAAmBZ,EAAevV,MAAMgW,QAAUxQ,EAAK2Q,mBAIhE,IA8mBuBnX,EA9mBnBoX,EAAgB5Q,EAAKmQ,gBAEzB,IAAKS,EAAe,CAClB,IAAIC,EAA0BhW,OAAOyR,iBAAiBuD,GAElDgB,GAA2BA,EAAwBV,kBACrDS,EAAgBC,EAAwBV,iBAI5C,GAAIS,EAAe,CACjB,IAAIE,EAAMC,GAAWH,GAIjBE,GAAiB,IAAVA,EAAIE,IAgmBI,iBADExX,EA9lBCoX,KA+lBOpX,EAAQuX,GAAWvX,KAE9CA,GACgB,IAAVA,EAAMyX,EAAoB,IAAVzX,EAAM0X,EAAoB,IAAV1X,EAAM2X,GAAW,IAGpD,MArmBkC,IACnC1D,EAAMnF,UAAUC,IAAI,uBAEpBkF,EAAMnF,UAAUC,IAAI,0BAwC5B,SAASoC,EAAUyG,GACjB,IAAIC,EAAgB9R,EAAO+E,WAO3B,GAJuB,iBAAZ8M,GAAsBE,EAAO/R,EAAQ6R,IAIjC,IAAX1L,EAAJ,CACA,IAAI6L,EAAiBrL,EAAIsC,QAAQS,iBAAiB7H,GAAiBlF,OAEnEgK,EAAIsC,QAAQF,UAAUtM,OAAOqV,IAEC,IAA1BhL,EAASmL,eAAwBjS,EAAO+E,WAAa,UACzD4B,EAAIsC,QAAQF,UAAUC,IAAIhJ,EAAO+E,YACjC4B,EAAIsC,QAAQhN,aAAa,wBAAyB+D,EAAOgF,iBACzD2B,EAAIsC,QAAQhN,aAAa,6BAA8B+D,EAAOiF,sBAC9D0B,EAAIlE,SAASxH,MAAM6K,QAAU9F,EAAOyC,SAAW,QAAU,OACzDkE,EAAI9D,SAAS5H,MAAM6K,QAAU9F,EAAO6C,SAAW,QAAU,OACzD8D,EAAIlE,SAASxG,aAAa,uBAAwB+D,EAAO2C,gBACzDgE,EAAIlE,SAASxG,aAAa,4BAA6B+D,EAAO4C,oBAE1D5C,EAAO2D,SACTA,KAGE3D,EAAOyD,IACTkD,EAAIsC,QAAQF,UAAUC,IAAI,OAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,OAG3BuD,EAAOsD,OACTqD,EAAIsC,QAAQF,UAAUC,IAAI,UAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,WAIV,IAAjBuD,EAAOgE,OACTkO,KAGElS,EAAOiE,WACT0C,EAAI2C,aAAarN,aAAa,cAA2C,iBAArB+D,EAAOiE,UAAyBjE,EAAOiE,UAAY,UAGrGjE,EAAOwE,YACT5I,SAAS0O,iBAAiB,iBAAkB6H,IAAuB,GAEnEvW,SAAS0O,iBAAiB,aAAc6H,IAAuB,KAE/DvW,SAASwW,oBAAoB,iBAAkBD,IAAuB,GAEtEvW,SAASwW,oBAAoB,aAAcD,IAAuB,IAIhEnS,EAAOyE,aA4lBb,WACE,GAAIqC,EAASmL,gBAAkB,kBAAmBrW,SAASO,KAAKlB,OAG9D,IAFA,IAAIoX,EAAU1L,EAAIsC,QAAQS,iBAAiB7H,EAAkB,MAEpDuG,EAAI,EAAGkK,EAAMD,EAAQ1V,OAAQyL,EAAIkK,EAAKlK,IAAK,CAClD,IAAImK,EAASF,EAAQjK,GAErB,GAAImK,EAAO5F,cAAgB4F,EAAO1W,cAAc,QAAU0W,EAAOxX,YAAcwX,EAAOxJ,UAAUgF,SAASwE,EAAQ,SAAU,CACzH,IAAIC,EAAO5W,SAASI,cAAc,QAClCwW,EAAKvW,aAAa,aAAcsW,EAAO9F,MACvC+F,EAAKxD,UAAYuD,EAAOvD,UACxBuD,EAAOxJ,UAAUC,IAAI,QACrBuJ,EAAOvD,UAAY,GACnBuD,EAAOhW,YAAYiW,KAxmBvBC,GAknBJ,WAGE,IAFA,IAAIJ,EAAU1L,EAAIsC,QAAQS,iBAAiB7H,EAAkB,WAEpDuG,EAAI,EAAGkK,EAAMD,EAAQ1V,OAAQyL,EAAIkK,EAAKlK,IAAK,CAClD,IAAImK,EAASF,EAAQjK,GACjBoK,EAAOD,EAAO1W,cAAc,QAE5B2W,IACFD,EAAOxJ,UAAUtM,OAAO,QACxB8V,EAAOvD,UAAYwD,EAAKxD,YAznB1B0D,GAIE1S,EAAO+F,oBACTnK,SAAS0O,iBAAiB,YAAaqI,IAAwB,GAC/D/W,SAAS0O,iBAAiB,YAAaqI,IAAwB,KAE/DC,KACAhX,SAASwW,oBAAoB,YAAaO,IAAwB,GAClE/W,SAASwW,oBAAoB,YAAaO,IAAwB,IAIhE3S,EAAO2E,cACTkO,KACAC,GAAoB,+BAEpBA,KACAD,GAAmB,uDAIjBjR,IACFA,EAAgBmR,UAChBnR,EAAkB,MAIhBoQ,EAAiB,GAAKhS,EAAOoE,WAAapE,EAAOqE,oBAAsByC,EAASkM,QAAUlM,EAASmM,yBACrGrR,EAAkB,IAAIsR,GAASvM,EAAIsC,SAAS,WAC1C,OAAOqE,KAAKkB,IAAIlB,KAAKgB,KAAK6E,KAAKC,MAAQ/L,GAAsBjD,EAAW,GAAI,OAE9DiP,GAAG,QAASC,IAC5BhM,GAAkB,IAIK,IAArBtH,EAAO4D,WACT6F,EAAQ9C,EAAImC,OAAOY,iBAAiB,cAAchB,SAAQ,SAAU4H,GAClEA,EAAQvH,UAAUC,IAAI,WACtBsH,EAAQvH,UAAUtM,OAAO,uBAK7B,IAAI8W,EAAqB,OAErBvT,EAAO8C,cAAgB0I,OACM,QAA3BxL,EAAO+C,gBACTwQ,EAAqB,QACe,YAA3BvT,EAAO+C,iBAAiCyQ,OACjDD,EAAqB,UAIzB5M,EAAI7D,YAAY7H,MAAM6K,QAAUyN,EAEF,YAA1BvT,EAAO0D,eACTiD,EAAIsC,QAAQhN,aAAa,uBAAwB+D,EAAO0D,gBAExDiD,EAAIsC,QAAQ0H,gBAAgB,wBAIA,WAA1B3Q,EAAO0D,gBACTkE,EAAkB,mDAAqD,aACvEA,EAAkB,yCAA2C,mBAE7DA,EAAkB,eAAiB,aACnCA,EAAqB,EAAI,iBACzBA,EAAkB,iBAAmB,gBACrCA,EAAkB,iBAAmB,iBACrCA,EAAkB,iBAAmB,cACrCA,EAAkB,iBAAmB,iBAGvCA,EAAkB,iCAAmC,cACrDA,EAAkB,gCAAkC,aACpDA,EAAkB,WAAa,QAC/BA,EAAqB,EAAI,aACzBA,EAAkB,UAAY,iBAC9B6L,MAOF,SAASC,IAoCL,IAAIC,EAnCNxM,GAAiB,EACjB7L,OAAOgP,iBAAiB,aAAcsJ,IAAoB,GAC1DtY,OAAOgP,iBAAiB,SAAUuJ,IAAgB,GAE9C7T,EAAOuD,QACL,kBAAmBjI,QAErBqL,EAAIsC,QAAQqB,iBAAiB,cAAewJ,IAAe,GAC3DnN,EAAIsC,QAAQqB,iBAAiB,cAAeyJ,IAAe,GAC3DpN,EAAIsC,QAAQqB,iBAAiB,YAAa0J,IAAa,IAC9C1Y,OAAO4G,UAAU+R,kBAE1BtN,EAAIsC,QAAQqB,iBAAiB,gBAAiBwJ,IAAe,GAC7DnN,EAAIsC,QAAQqB,iBAAiB,gBAAiByJ,IAAe,GAC7DpN,EAAIsC,QAAQqB,iBAAiB,cAAe0J,IAAa,KAGzDrN,EAAIsC,QAAQqB,iBAAiB,aAAc4J,IAAc,GACzDvN,EAAIsC,QAAQqB,iBAAiB,YAAa6J,IAAa,GACvDxN,EAAIsC,QAAQqB,iBAAiB,WAAY8J,IAAY,KAIrDpU,EAAOkD,WACTtH,SAAS0O,iBAAiB,UAAW+J,IAAmB,GACxDzY,SAAS0O,iBAAiB,WAAYgK,IAAoB,IAGxDtU,EAAO6C,UAAY8D,EAAI9D,UACzB8D,EAAI9D,SAASyH,iBAAiB,QAASiK,IAAmB,GAG5D5N,EAAI4C,aAAae,iBAAiB,QAAS4H,IAAQ,GAE/ClS,EAAO8E,kCAGL,WAAYlJ,SACd+X,EAAmB,mBACV,aAAc/X,SACvB+X,EAAmB,qBACV,iBAAkB/X,WAC3B+X,EAAmB,0BAGjBA,GACF/X,SAAS0O,iBAAiBqJ,EAAkBa,IAAwB,IAMxE,IAAIC,EAAgB,CAAC,aAAc,SAG/BxS,EAAGyS,MAAM,eACXD,EAAgB,CAAC,eAGnBA,EAAc/L,SAAQ,SAAUiM,GAC9BhO,EAAI6C,aAAad,SAAQ,SAAUkM,GACjCA,EAAGtK,iBAAiBqK,EAAWE,IAAuB,MAExDlO,EAAIgD,cAAcjB,SAAQ,SAAUkM,GAClCA,EAAGtK,iBAAiBqK,EAAWG,IAAwB,MAEzDnO,EAAIiD,WAAWlB,SAAQ,SAAUkM,GAC/BA,EAAGtK,iBAAiBqK,EAAWI,IAAqB,MAEtDpO,EAAIkD,aAAanB,SAAQ,SAAUkM,GACjCA,EAAGtK,iBAAiBqK,EAAWK,IAAuB,MAExDrO,EAAImD,aAAapB,SAAQ,SAAUkM,GACjCA,EAAGtK,iBAAiBqK,EAAWM,IAAuB,MAExDtO,EAAIoD,aAAarB,SAAQ,SAAUkM,GACjCA,EAAGtK,iBAAiBqK,EAAWO,IAAuB,SAS5D,SAASjV,IACPkH,GAAiB,EACjBvL,SAASwW,oBAAoB,UAAWiC,IAAmB,GAC3DzY,SAASwW,oBAAoB,WAAYkC,IAAoB,GAC7DhZ,OAAO8W,oBAAoB,aAAcwB,IAAoB,GAC7DtY,OAAO8W,oBAAoB,SAAUyB,IAAgB,GACrDlN,EAAIsC,QAAQmJ,oBAAoB,cAAe0B,IAAe,GAC9DnN,EAAIsC,QAAQmJ,oBAAoB,cAAe2B,IAAe,GAC9DpN,EAAIsC,QAAQmJ,oBAAoB,YAAa4B,IAAa,GAC1DrN,EAAIsC,QAAQmJ,oBAAoB,gBAAiB0B,IAAe,GAChEnN,EAAIsC,QAAQmJ,oBAAoB,gBAAiB2B,IAAe,GAChEpN,EAAIsC,QAAQmJ,oBAAoB,cAAe4B,IAAa,GAC5DrN,EAAIsC,QAAQmJ,oBAAoB,aAAc8B,IAAc,GAC5DvN,EAAIsC,QAAQmJ,oBAAoB,YAAa+B,IAAa,GAC1DxN,EAAIsC,QAAQmJ,oBAAoB,WAAYgC,IAAY,GACxDzN,EAAI4C,aAAa6I,oBAAoB,QAASF,IAAQ,GAElDlS,EAAO6C,UAAY8D,EAAI9D,UACzB8D,EAAI9D,SAASuP,oBAAoB,QAASmC,IAAmB,GAG/D,CAAC,aAAc,SAAS7L,SAAQ,SAAUiM,GACxChO,EAAI6C,aAAad,SAAQ,SAAUkM,GACjCA,EAAGxC,oBAAoBuC,EAAWE,IAAuB,MAE3DlO,EAAIgD,cAAcjB,SAAQ,SAAUkM,GAClCA,EAAGxC,oBAAoBuC,EAAWG,IAAwB,MAE5DnO,EAAIiD,WAAWlB,SAAQ,SAAUkM,GAC/BA,EAAGxC,oBAAoBuC,EAAWI,IAAqB,MAEzDpO,EAAIkD,aAAanB,SAAQ,SAAUkM,GACjCA,EAAGxC,oBAAoBuC,EAAWK,IAAuB,MAE3DrO,EAAImD,aAAapB,SAAQ,SAAUkM,GACjCA,EAAGxC,oBAAoBuC,EAAWM,IAAuB,MAE3DtO,EAAIoD,aAAarB,SAAQ,SAAUkM,GACjCA,EAAGxC,oBAAoBuC,EAAWO,IAAuB,SAoF/D,SAASnD,EAAON,EAAGG,GACjB,IAAK,IAAIxJ,KAAKwJ,EACZH,EAAErJ,GAAKwJ,EAAExJ,GAGX,OAAOqJ,EAUT,SAAShI,EAAQ0L,GACf,OAAOC,MAAMC,UAAUC,MAAMC,KAAKJ,GAUpC,SAASK,GAAYC,GACnB,GAAqB,iBAAVA,EAAoB,CAC7B,GAAc,SAAVA,EAAkB,OAAO,KAAU,GAAc,SAAVA,EAAkB,OAAO,EAAU,GAAc,UAAVA,EAAmB,OAAO,EAAW,GAAIA,EAAMf,MAAM,eAAgB,OAAOgB,WAAWD,GAG3K,OAAOA,EA0BT,SAASE,GAAiBrF,EAASvW,GACjCuW,EAAQrV,MAAM2a,gBAAkB7b,EAChCuW,EAAQrV,MAAM4a,aAAe9b,EAC7BuW,EAAQrV,MAAM6a,YAAc/b,EAC5BuW,EAAQrV,MAAMlB,UAAYA,EAW5B,SAASgc,GAAgBC,GAEU,iBAAtBA,EAAWtP,SAAqBD,EAAgBC,OAASsP,EAAWtP,QAC5C,iBAAxBsP,EAAW5S,WAAuBqD,EAAgBrD,SAAW4S,EAAW5S,UAE/EqD,EAAgBC,OAClBiP,GAAiBhP,EAAImC,OAAQrC,EAAgBC,OAAS,IAAMD,EAAgBrD,UAE5EuS,GAAiBhP,EAAImC,OAAQrC,EAAgBrD,UAUjD,SAASuK,GAAiB8H,GACxB,IAAIQ,EAAMra,SAASI,cAAc,SACjCia,EAAIpK,KAAO,WAEPoK,EAAIC,WACND,EAAIC,WAAWC,QAAUV,EAEzBQ,EAAI1Z,YAAYX,SAASwa,eAAeX,IAG1C7Z,SAASya,qBAAqB,QAAQ,GAAG9Z,YAAY0Z,GAevD,SAASK,GAAcxZ,EAAQyZ,GAG7B,IAFA,IAAIC,EAAS1Z,EAAO4R,WAEb8H,GAAQ,CAIb,IAAIC,EAAgBD,EAAOE,SAAWF,EAAOG,iBAAmBH,EAAOI,kBAEvE,GAAIH,GAAiBA,EAAclB,KAAKiB,EAAQD,GAC9C,OAAOC,EAITA,EAASA,EAAO9H,WAGlB,OAAO,KAmBT,SAAS8C,GAAWvX,GAClB,IAAI4c,EAAO5c,EAAMya,MAAM,qBAEvB,GAAImC,GAAQA,EAAK,GAEf,OADAA,EAAOA,EAAK,GACL,CACLnF,EAAkC,GAA/BrC,SAASwH,EAAKrM,OAAO,GAAI,IAC5BmH,EAAkC,GAA/BtC,SAASwH,EAAKrM,OAAO,GAAI,IAC5BoH,EAAkC,GAA/BvC,SAASwH,EAAKrM,OAAO,GAAI,KAIhC,IAAIsM,EAAO7c,EAAMya,MAAM,qBAEvB,GAAIoC,GAAQA,EAAK,GAEf,OADAA,EAAOA,EAAK,GACL,CACLpF,EAAGrC,SAASyH,EAAKC,OAAO,EAAG,GAAI,IAC/BpF,EAAGtC,SAASyH,EAAKC,OAAO,EAAG,GAAI,IAC/BnF,EAAGvC,SAASyH,EAAKC,OAAO,EAAG,GAAI,KAInC,IAAIxF,EAAMtX,EAAMya,MAAM,oDAEtB,GAAInD,EACF,MAAO,CACLG,EAAGrC,SAASkC,EAAI,GAAI,IACpBI,EAAGtC,SAASkC,EAAI,GAAI,IACpBK,EAAGvC,SAASkC,EAAI,GAAI,KAIxB,IAAIyF,EAAO/c,EAAMya,MAAM,gFAEvB,OAAIsC,EACK,CACLtF,EAAGrC,SAAS2H,EAAK,GAAI,IACrBrF,EAAGtC,SAAS2H,EAAK,GAAI,IACrBpF,EAAGvC,SAAS2H,EAAK,GAAI,IACrBvF,EAAGiE,WAAWsB,EAAK,KAIhB,KAyDT,SAASxL,KACP,MAAO,cAActC,KAAK5N,OAAO2b,SAASC,QAoB5C,SAASC,KACP1Z,YAAW,WACTnC,OAAO8b,SAAS,EAAG,KAClB,IAQL,SAAS7L,GAAcM,EAAMhB,GAC3B,IAAIN,EAAQ3O,SAASyb,YAAY,aAAc,EAAG,GAClD9M,EAAM+M,UAAUzL,GAAM,GAAM,GAC5BkG,EAAOxH,EAAOM,GACdlE,EAAIsC,QAAQsC,cAAchB,GAGtBvK,EAAO6E,mBAAqBvJ,OAAOkb,SAAWlb,OAAOic,MACvDjc,OAAOkb,OAAO5R,YAAY6F,KAAK+M,UAAU,CACvCC,UAAW,SACX9C,UAAW9I,EACX5N,MAAOyZ,OACL,KAmDR,SAAS7E,GAAmB0D,GACZ9M,EAAQ7N,SAAS8N,iBAAiB6M,GAAsB,MAC9D7N,SAAQ,SAAU4H,GACpB,gBAAgBpH,KAAKoH,EAAQzD,aAAa,UAC5CyD,EAAQhG,iBAAiB,QAASqN,IAAsB,MAS9D,SAAS7E,GAAoByD,GACb9M,EAAQ7N,SAAS8N,iBAAiB6M,GAAsB,MAC9D7N,SAAQ,SAAU4H,GACpB,gBAAgBpH,KAAKoH,EAAQzD,aAAa,UAC5CyD,EAAQ8B,oBAAoB,QAASuF,IAAsB,MAyCjE,SAASC,GAAWC,GACM,kBAAbA,EACTA,EAAWC,KAAaC,KAEpBpR,EAAIqR,QACND,KAEAD,KASN,SAASA,KACP,GAAI9X,EAAO+D,KAAM,CACfgU,KACApR,EAAIqR,QAAUpc,SAASI,cAAc,OACrC2K,EAAIqR,QAAQjP,UAAUC,IAAI,WAC1BrC,EAAIqR,QAAQjP,UAAUC,IAAI,gBAC1BrC,EAAIsC,QAAQ1M,YAAYoK,EAAIqR,SAC5B,IAAI3Y,EAAO,+CAGX,IAAK,IAAI4Y,KAFT5Y,GAAQ,qCAEQuI,EACdvI,GAAQ,WAAa4Y,EAAM,YAAcrQ,EAAkBqQ,GAAO,aAIpE,IAAK,IAAIC,KAAWrQ,EACdA,EAAsBqQ,GAASD,KAAOpQ,EAAsBqQ,GAASpX,cACvEzB,GAAQ,WAAawI,EAAsBqQ,GAASD,IAAM,YAAcpQ,EAAsBqQ,GAASpX,YAAc,cAIzHzB,GAAQ,WACRsH,EAAIqR,QAAQhJ,UAAY,CAAC,WAAY,2DAA4D,YAAa,yBAA0B,+BAAiC3P,EAAO,SAAU,UAAUO,KAAK,IACzM+G,EAAIqR,QAAQnc,cAAc,UAAUyO,iBAAiB,SAAS,SAAUC,GACtEwN,KACAxN,EAAM4N,oBACL,GACH1a,YAAW,WACTkJ,EAAIqR,QAAQjP,UAAUC,IAAI,aACzB,IAQP,SAAS+O,KACHpR,EAAIqR,UACNrR,EAAIqR,QAAQtJ,WAAW0J,YAAYzR,EAAIqR,SACvCrR,EAAIqR,QAAU,MASlB,SAAStR,KACP,GAAIC,EAAIsC,UAAYuC,KAAiB,CACnC,IAAKxL,EAAOqD,cAAe,CAOrB3B,GACF9F,SAASyc,gBAAgBpd,MAAMqd,YAAY,OAA6B,IAArBhd,OAAO8R,YAAqB,MAGjF,IAAI3S,EAAOyS,KACPqL,EAAW/R,EAEfoH,GAAoB5N,EAAOoC,MAAOpC,EAAOqC,QACzCsE,EAAImC,OAAO7N,MAAMmH,MAAQ3H,EAAK2H,MAAQ,KACtCuE,EAAImC,OAAO7N,MAAMoH,OAAS5H,EAAK4H,OAAS,KAExCmE,EAAQ8G,KAAKkB,IAAI/T,EAAK+d,kBAAoB/d,EAAK2H,MAAO3H,EAAKge,mBAAqBhe,EAAK4H,QAErFmE,EAAQ8G,KAAKgB,IAAI9H,EAAOxG,EAAOuC,UAGjB,KAFdiE,EAAQ8G,KAAKkB,IAAIhI,EAAOxG,EAAOwC,YAG7BmE,EAAImC,OAAO7N,MAAMyd,KAAO,GACxB/R,EAAImC,OAAO7N,MAAMX,KAAO,GACxBqM,EAAImC,OAAO7N,MAAMb,IAAM,GACvBuM,EAAImC,OAAO7N,MAAMkU,OAAS,GAC1BxI,EAAImC,OAAO7N,MAAMZ,MAAQ,GACzB0b,GAAgB,CACdrP,OAAQ,MAMNF,EAAQ,GAAKM,EAAS4R,MACxB/R,EAAImC,OAAO7N,MAAMyd,KAAOlS,EACxBG,EAAImC,OAAO7N,MAAMX,KAAO,GACxBqM,EAAImC,OAAO7N,MAAMb,IAAM,GACvBuM,EAAImC,OAAO7N,MAAMkU,OAAS,GAC1BxI,EAAImC,OAAO7N,MAAMZ,MAAQ,GACzB0b,GAAgB,CACdrP,OAAQ,OAIRC,EAAImC,OAAO7N,MAAMyd,KAAO,GACxB/R,EAAImC,OAAO7N,MAAMX,KAAO,MACxBqM,EAAImC,OAAO7N,MAAMb,IAAM,MACvBuM,EAAImC,OAAO7N,MAAMkU,OAAS,OAC1BxI,EAAImC,OAAO7N,MAAMZ,MAAQ,OACzB0b,GAAgB,CACdrP,OAAQ,+BAAiCF,EAAQ,OAQzD,IAFA,IAAIsC,EAASW,EAAQ9C,EAAIsC,QAAQS,iBAAiB7H,IAEzCuG,EAAI,EAAGkK,EAAMxJ,EAAOnM,OAAQyL,EAAIkK,EAAKlK,IAAK,CACjD,IAAI8F,EAAQpF,EAAOV,GAES,SAAxB8F,EAAMjT,MAAM6K,UAIZ9F,EAAOsD,QAAU4K,EAAMnF,UAAUgF,SAAS,UAGxCG,EAAMnF,UAAUgF,SAAS,SAC3BG,EAAMjT,MAAMb,IAAM,EAElB8T,EAAMjT,MAAMb,IAAMkT,KAAKgB,KAAK7T,EAAK4H,OAAS6L,EAAME,cAAgB,EAAG,GAAK,KAG1EF,EAAMjT,MAAMb,IAAM,IAIlBme,IAAa/R,GACf+E,GAAc,SAAU,CACtB,SAAYgN,EACZ,MAAS/R,EACT,KAAQ/L,IAKdke,KACAC,KAEIC,MACFC,MAaN,SAASlL,GAAoBxL,EAAOC,GAElCoH,EAAQ9C,EAAImC,OAAOY,iBAAiB,uBAAuBhB,SAAQ,SAAU4H,GAE3E,IAAIyI,EAtWR,SAA4BzI,EAASjO,GAGnC,GAFAA,EAASA,GAAU,EAEfiO,EAAS,CACX,IAAI0I,EACAC,EAAY3I,EAAQrV,MAAMoH,OAY9B,OATAiO,EAAQrV,MAAMoH,OAAS,MAGvBiO,EAAQ5B,WAAWzT,MAAMoH,OAAS,OAClC2W,EAAY3W,EAASiO,EAAQ5B,WAAWwK,aAExC5I,EAAQrV,MAAMoH,OAAS4W,EAAY,KAEnC3I,EAAQ5B,WAAWzT,MAAMke,eAAe,UACjCH,EAGT,OAAO3W,EAkViB+W,CAAmB9I,EAASjO,GAElD,GAAI,gBAAgB6G,KAAKoH,EAAQ+I,UAAW,CAC1C,IAAIC,EAAKhJ,EAAQiJ,cAAgBjJ,EAAQkJ,WACrCC,EAAKnJ,EAAQoJ,eAAiBpJ,EAAQqJ,YACtCC,EAAKtM,KAAKkB,IAAIpM,EAAQkX,EAAIP,EAAkBU,GAChDnJ,EAAQrV,MAAMmH,MAAQkX,EAAKM,EAAK,KAChCtJ,EAAQrV,MAAMoH,OAASoX,EAAKG,EAAK,UAEjCtJ,EAAQrV,MAAMmH,MAAQA,EAAQ,KAC9BkO,EAAQrV,MAAMoH,OAAS0W,EAAkB,QAc/C,SAAS7L,GAAqBsL,EAAmBC,GAC/C,IAAIhe,EAAO,CAET2H,MAAOpC,EAAOoC,MACdC,OAAQrC,EAAOqC,OAEfmW,kBAAmBA,GAAqB7R,EAAIsC,QAAQ4Q,YACpDpB,mBAAoBA,GAAsB9R,EAAIsC,QAAQiQ,cAexD,OAZAze,EAAK+d,mBAAqB/d,EAAK+d,kBAAoBxY,EAAOsC,OAC1D7H,EAAKge,oBAAsBhe,EAAKge,mBAAqBzY,EAAOsC,OAElC,iBAAf7H,EAAK2H,OAAsB,KAAK8G,KAAKzO,EAAK2H,SACnD3H,EAAK2H,MAAQiN,SAAS5U,EAAK2H,MAAO,IAAM,IAAM3H,EAAK+d,mBAI1B,iBAAhB/d,EAAK4H,QAAuB,KAAK6G,KAAKzO,EAAK4H,UACpD5H,EAAK4H,OAASgN,SAAS5U,EAAK4H,OAAQ,IAAM,IAAM5H,EAAKge,oBAGhDhe,EAYT,SAASqf,GAAyBC,EAAO9L,GAClB,iBAAV8L,GAAoD,mBAAvBA,EAAM9d,cAC5C8d,EAAM9d,aAAa,uBAAwBgS,GAAK,GAYpD,SAAS+L,GAAyBD,GAChC,GAAqB,iBAAVA,GAAoD,mBAAvBA,EAAM9d,cAA+B8d,EAAMhR,UAAUgF,SAAS,SAAU,CAE9G,IAAIkM,EAAgBF,EAAMG,aAAa,qBAAuB,oBAAsB,uBACpF,OAAO7K,SAAS0K,EAAMlN,aAAaoN,IAAkB,EAAG,IAG1D,OAAO,EAQT,SAASE,KAEP,GAAIna,EAAOoD,WAAayV,KAAc,CACpCzV,GAAW,EACXuD,EAAIsC,QAAQF,UAAUC,IAAI,YAC1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,yBAEzBqK,EAASsT,qBACX3c,YAAW,WACTkJ,EAAIsC,QAAQF,UAAUC,IAAI,uBACzB,GAILqR,KAGA1T,EAAImC,OAAOvM,YAAYoK,EAAIwC,YAE3BM,EAAQ9C,EAAIsC,QAAQS,iBAAiB7H,IAAkB6G,SAAQ,SAAUwF,GAClEA,EAAMnF,UAAUgF,SAAS,UAC5BG,EAAM5D,iBAAiB,QAASgQ,IAAwB,MAI5D,IACIrN,EAAYC,KAChB9G,EAAqB6G,EAAU7K,MAFlB,GAGbiE,EAAsB4G,EAAU5K,OAHnB,GAKTrC,EAAOyD,MACT2C,GAAsBA,GAGxBmU,KACAC,KACA1B,KACApS,KAEA6E,GAAc,gBAAiB,CAC7B,OAAUlK,EACV,OAAUC,EACV,aAAgBE,KAUtB,SAASgZ,KAEP/Q,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAA6B4G,SAAQ,SAAUmF,EAAQC,GAC1FD,EAAO5R,aAAa,eAAgB6R,GACpC6H,GAAiB9H,EAAQ,eAAiBC,EAAI1H,EAAqB,aAE/DyH,EAAO9E,UAAUgF,SAAS,UAC5BtE,EAAQoE,EAAOnE,iBAAiB,YAAYhB,SAAQ,SAAUsF,EAAQC,GACpED,EAAO/R,aAAa,eAAgB6R,GACpCE,EAAO/R,aAAa,eAAgBgS,GACpC0H,GAAiB3H,EAAQ,kBAAoBC,EAAI5H,EAAsB,gBAK7EoD,EAAQ9C,EAAIwC,WAAWzM,YAAYgM,SAAQ,SAAU+R,EAAa3M,GAChE6H,GAAiB8E,EAAa,eAAiB3M,EAAI1H,EAAqB,aACxEqD,EAAQgR,EAAY/Q,iBAAiB,sBAAsBhB,SAAQ,SAAUgS,EAAazM,GACxF0H,GAAiB+E,EAAa,kBAAoBzM,EAAI5H,EAAsB,gBAUlF,SAASyS,KACP,IAAI6B,EAAOrN,KAAKkB,IAAIlT,OAAO6R,WAAY7R,OAAO8R,aAE9C2I,GAAgB,CACd3S,SAAU,CAAC,SAFDkK,KAAKgB,IAAIqM,EAAO,EAAG,KAAOA,EAEN,IAAK,eAAiBtZ,EAAS+E,EAAqB,MAAO,eAAiB9E,EAAS+E,EAAsB,OAAOzG,KAAK,OASzJ,SAASgb,KAEH5a,EAAOoD,WACTA,GAAW,EACXuD,EAAIsC,QAAQF,UAAUtM,OAAO,YAC7BkK,EAAIsC,QAAQF,UAAUtM,OAAO,qBAI7BkK,EAAIsC,QAAQF,UAAUC,IAAI,yBAC1BvL,YAAW,WACTkJ,EAAIsC,QAAQF,UAAUtM,OAAO,2BAC5B,GAEHkK,EAAIsC,QAAQ1M,YAAYoK,EAAIwC,YAE5BM,EAAQ9C,EAAIsC,QAAQS,iBAAiB7H,IAAkB6G,SAAQ,SAAUwF,GACvEyH,GAAiBzH,EAAO,IACxBA,EAAMkE,oBAAoB,QAASkI,IAAwB,MAG7D7Q,EAAQ9C,EAAIwC,WAAWO,iBAAiB,sBAAsBhB,SAAQ,SAAUS,GAC9EwM,GAAiBxM,EAAY,OAE/B4M,GAAgB,CACd3S,SAAU,KAEZ8K,GAAM7M,EAAQC,GACdoF,KACAmU,KAEAtP,GAAc,iBAAkB,CAC9B,OAAUlK,EACV,OAAUC,EACV,aAAgBE,KAatB,SAASsZ,GAAejD,GACE,kBAAbA,EACTA,EAAWsC,KAAqBS,KAEhC/B,KAAe+B,KAAuBT,KAW1C,SAAStB,KACP,OAAOzV,EAOT,SAAS2X,KACP,IAQIC,EARArP,EAAM,IAENtQ,EAAKmG,EAAeA,EAAaqL,aAAa,MAAQ,KAc1D,GAZIxR,IACFA,EAAK4f,mBAAmB5f,IAKtB2E,EAAO6D,gBACTmX,EAASE,KAAaC,GAKN,iBAAP9f,GAAmBA,EAAGsB,aAAqBye,IAAXJ,EACzCrP,EAAM,IAAMtQ,MAET,CACD,IAAIggB,EAAgBrb,EAAOgD,kBAAoB,EAAI,GAC/C3B,EAAS,GAAKC,EAAS,QAAgB8Z,IAAXJ,KAAsBrP,GAAOtK,EAASga,IAClE/Z,EAAS,QAAgB8Z,IAAXJ,KAAsBrP,GAAO,KAAOrK,EAAS+Z,SAChDD,IAAXJ,IAAsBrP,GAAO,IAAMqP,GAG3C,OAAOrP,EAYT,SAAS2P,GAAgBpN,GAGvB,OADAA,EAAQA,GAAgB1M,IACR0M,EAAMQ,cAAgBR,EAAMQ,WAAW2K,SAAS3E,MAAM,YAyBxE,SAAS9B,KACH3L,IACFA,GAAe,EACfN,EAAIsC,QAAQhO,MAAMsgB,OAAS,IAS/B,SAASC,MACc,IAAjBvU,IACFA,GAAe,EACfN,EAAIsC,QAAQhO,MAAMsgB,OAAS,QAS/B,SAASvX,KACP,GAAIhE,EAAOgE,MAAO,CAChB,IAAIyX,EAAY9U,EAAIsC,QAAQF,UAAUgF,SAAS,UAC/CsM,KACA1T,EAAIsC,QAAQF,UAAUC,IAAI,WAER,IAAdyS,GACFlQ,GAAc,WASpB,SAAS2G,KACP,IAAIuJ,EAAY9U,EAAIsC,QAAQF,UAAUgF,SAAS,UAC/CpH,EAAIsC,QAAQF,UAAUtM,OAAO,UAC7Boe,KAEIY,GACFlQ,GAAc,WAQlB,SAASmQ,GAAY7D,GACK,kBAAbA,EACTA,EAAW7T,KAAUkO,KAErByJ,KAAazJ,KAAWlO,KAU5B,SAAS2X,KACP,OAAOhV,EAAIsC,QAAQF,UAAUgF,SAAS,UAUxC,SAAS6N,GAAgB/D,GACC,kBAAbA,EACTA,EAAWgE,KAAoBC,KAE/BxU,EAAkBuU,KAAoBC,KA0B1C,SAAS5N,GAAMJ,EAAGG,EAAGkN,EAAGhG,GAEtB5T,EAAgBC,EAEhB,IAAIua,EAAmBpV,EAAIsC,QAAQS,iBAAiB5H,GAEpD,GAAgC,IAA5Bia,EAAiBpf,OAArB,MAGUye,IAANnN,GAAoB4K,OACtB5K,EAAI+L,GAAyB+B,EAAiBjO,KAK5CvM,GAAiBA,EAAcmN,YAAcnN,EAAcmN,WAAW3F,UAAUgF,SAAS,UAC3F+L,GAAyBvY,EAAcmN,WAAYpN,GAIrD,IAAI0a,EAAc/d,EAAMge,SAExBhe,EAAMtB,OAAS,EACf,IAAIuf,EAAe7a,GAAU,EACzB8a,EAAe7a,GAAU,EAE7BD,EAAS+a,GAAata,OAAkCsZ,IAANtN,EAAkBzM,EAASyM,GAC7ExM,EAAS8a,GAAara,OAAgCqZ,IAANnN,EAAkB3M,EAAS2M,GAE3EsM,KACA7T,KAEImS,MACFC,KAKF,IAAIuD,EAAyBN,EAAiB1a,GAC1Cib,EAAwBD,EAAuB3S,iBAAiB,WAEpElI,EAAe8a,EAAsBhb,IAAW+a,OAE/B,IAANlB,GACToB,GAAiBpB,GAInB,IAAIqB,EAAenb,IAAW6a,GAAgB5a,IAAW6a,EAEpDK,IAEHjb,EAAgB,MAMdA,GAAiBA,IAAkBC,IACrCD,EAAcwH,UAAUtM,OAAO,WAC/B8E,EAActF,aAAa,cAAe,QAGtC0K,EAAIsC,QAAQpN,cAAcmG,GAAqB+G,UAAUgF,SAAS,YAEpEtQ,YAAW,WACT,IACI2K,EADAU,EAASW,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,EAA6B,WAG/E,IAAKsG,KAAKU,EACJA,EAAOV,IAET0R,GAAyBhR,EAAOV,GAAI,KAGvC,IAKPqU,EAAW,IAAK,IAAIrU,EAAI,EAAGkK,EAAMrU,EAAMtB,OAAQyL,EAAIkK,EAAKlK,IAAK,CAG3D,IAAK,IAAIsU,EAAI,EAAGA,EAAIV,EAAYrf,OAAQ+f,IACtC,GAAIV,EAAYU,KAAOze,EAAMmK,GAAI,CAC/B4T,EAAYW,OAAOD,EAAG,GACtB,SAASD,EAIb7gB,SAASyc,gBAAgBtP,UAAUC,IAAI/K,EAAMmK,IAE7CmD,GAActN,EAAMmK,IAItB,KAAO4T,EAAYrf,QACjBf,SAASyc,gBAAgBtP,UAAUtM,OAAOuf,EAAYY,OAGpDJ,GACFjR,GAAc,eAAgB,CAC5B,OAAUlK,EACV,OAAUC,EACV,cAAiBC,EACjB,aAAgBC,EAChB,OAAU2T,KAKVqH,GAAiBjb,IACnBsb,GAAoBtb,GACpBub,GAAqBtb,IAIvBmF,EAAI8B,UAAUkE,YAAcJ,EAAc/K,GAC1Cub,KACApE,KACArN,KACAsN,KACAoE,KACAC,KACAC,KAEAC,KACAtC,MASF,SAASpH,KAs2BT,IACM2J,EAr2BJnd,IACAyT,IAEAhN,KAEAtC,EAAYpE,EAAOoE,UAEnByW,KA9pDgBrP,KAEhB7E,EAAIwC,WAAW6F,UAAY,GAC3BrI,EAAIwC,WAAWJ,UAAUC,IAAI,iBAE7BS,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAA6B4G,SAAQ,SAAU2U,GAClF,IAAIC,EAAkBjN,EAAiBgN,EAAQ1W,EAAIwC,YAEnDM,EAAQ4T,EAAO3T,iBAAiB,YAAYhB,SAAQ,SAAU6U,GAC5DlN,EAAiBkN,EAAQD,GACzBA,EAAgBvU,UAAUC,IAAI,eAI9BhJ,EAAOkF,yBACTyB,EAAIwC,WAAWlO,MAAM+V,gBAAkB,QAAUhR,EAAOkF,wBAA0B,KAClFyB,EAAIwC,WAAWlO,MAAM4V,eAAiB7Q,EAAOmF,uBAC7CwB,EAAIwC,WAAWlO,MAAM6V,iBAAmB9Q,EAAOoF,yBAC/CuB,EAAIwC,WAAWlO,MAAM8V,mBAAqB/Q,EAAOqF,2BAKjD5H,YAAW,WACTkJ,EAAIsC,QAAQF,UAAUC,IAAI,6BACzB,KAEHrC,EAAIwC,WAAWlO,MAAM+V,gBAAkB,GACvCrK,EAAIsC,QAAQF,UAAUtM,OAAO,4BAsoD/B0gB,KAsFuB1T,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAC3C4G,SAAQ,SAAUuC,GACjC,IAAIuS,EAAiB/T,EAAQwB,EAAgBvB,iBAAiB,YAC9D8T,EAAe9U,SAAQ,SAAUwC,EAAeC,GAC9CyE,GAAc1E,EAAcxB,iBAAiB,iBAEjB,IAA1B8T,EAAe7gB,QAAciT,GAAc3E,EAAgBvB,iBAAiB,iBA1FlFqT,KACApE,KACAqE,KACAzC,KACAjP,IAAiB,GA6SbtL,EAAOiE,WAaJ0C,EAAImC,OAAOY,iBAAiB,6BAA6B/M,OAAS,EAZvEgK,EAAIsC,QAAQF,UAAUC,IAAI,cAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,cA9S/BwgB,MAk1BIG,EAA6B,SAAoCK,EAAiBC,EAAWC,GAC/FlU,EAAQ9C,EAAImC,OAAOY,iBAAiB,UAAY+T,EAAkB,MAAQC,EAAY,OAAOhV,SAAQ,SAAUkM,GAC7G,IAAI/L,EAAM+L,EAAG/H,aAAa4Q,GAEtB5U,IAA+B,IAAxBA,EAAI+U,QAAQD,IACrB/I,EAAG3Y,aAAawhB,EAAiB5U,GAAQ,KAAKK,KAAKL,GAAa,IAAN,KAAa8U,QAMlD,MAAO,qBAAsB,iBAExDP,EAA2B,WAAY,qBAAsB,iBAG7DA,EAA2B,MAAO,oBAAqB,SAEvDA,EAA2B,WAAY,oBAAqB,UAj2B/B,IAAzBpd,EAAOkE,cACT2Y,GAAoBrb,EAAc,CAChCqc,eAAe,IAGjBf,GAAqBtb,GAGnBqX,MACF2B,KAkCJ,SAASsD,GAAc5P,GAGrB,OAAO0B,IADP1B,EAAQA,GAAS1M,GACUkI,iBAAiB,cA2C9C,SAAS/F,KACP,IAAImF,EAASW,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAClDgH,EAAOJ,SAAQ,SAAUwF,GAGvBvH,EAAImC,OAAO1M,aAAa8R,EAAOpF,EAAOwE,KAAKC,MAAMD,KAAKyQ,SAAWjV,EAAOnM,aAkB5E,SAASyf,GAAa7F,EAAUyH,GAG9B,IAAIlV,EAASW,EAAQ9C,EAAIsC,QAAQS,iBAAiB6M,IAC9C0H,EAAenV,EAAOnM,OACtBuhB,EAAY1S,KAEhB,GAAIyS,EAAc,CAEZje,EAAOwD,OACTwa,GAASC,GAEG,IACVD,EAAQC,EAAeD,GAK3BA,EAAQ1Q,KAAKgB,IAAIhB,KAAKkB,IAAIwP,EAAOC,EAAe,GAAI,GAEpD,IAAK,IAAI7V,EAAI,EAAGA,EAAI6V,EAAc7V,IAAK,CACrC,IAAIkI,EAAUxH,EAAOV,GACjB+V,EAAUne,EAAOyD,MAAQ6X,GAAgBhL,GAC7CA,EAAQvH,UAAUtM,OAAO,QACzB6T,EAAQvH,UAAUtM,OAAO,WACzB6T,EAAQvH,UAAUtM,OAAO,UAEzB6T,EAAQrU,aAAa,SAAU,IAC/BqU,EAAQrU,aAAa,cAAe,QAEhCqU,EAAQzU,cAAc,YACxByU,EAAQvH,UAAUC,IAAI,SAIpBkV,EACF5N,EAAQvH,UAAUC,IAAI,WAIpBZ,EAAI4V,GAEN1N,EAAQvH,UAAUC,IAAImV,EAAU,SAAW,QAEvCne,EAAO4D,WAET6F,EAAQ6G,EAAQ5G,iBAAiB,cAAchB,SAAQ,SAAUmH,GAC/DA,EAAS9G,UAAUC,IAAI,WACvB6G,EAAS9G,UAAUtM,OAAO,wBAGrB2L,EAAI4V,IAEb1N,EAAQvH,UAAUC,IAAImV,EAAU,OAAS,UAErCne,EAAO4D,WAET6F,EAAQ6G,EAAQ5G,iBAAiB,sBAAsBhB,SAAQ,SAAUmH,GACvEA,EAAS9G,UAAUtM,OAAO,WAC1BoT,EAAS9G,UAAUtM,OAAO,wBAOlCqM,EAAOkV,GAAOjV,UAAUC,IAAI,WAC5BF,EAAOkV,GAAOrN,gBAAgB,UAC9B7H,EAAOkV,GAAOrN,gBAAgB,eAG9B,IAAIyN,EAAatV,EAAOkV,GAAOnR,aAAa,cAExCuR,IACFngB,EAAQA,EAAMge,OAAOmC,EAAW5e,MAAM,YAKxCwe,EAAQ,EAGV,OAAOA,EAQT,SAASzD,KAGP,IAEI8D,EAFAtC,EAAmBtS,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IACxDwc,EAAyBvC,EAAiBpf,OAI9C,GAAI2hB,QAA4C,IAAXjd,EAAwB,CAG3D,IAAIwE,EAAegT,KAAe,GAAK7Y,EAAO6F,aAE1CnE,IACFmE,EAAegT,KAAe,EAAI,GAIhCrN,OACF3F,EAAeJ,OAAO8Y,WAGxB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAwBE,IAAK,CAC/C,IAAIvT,EAAkB8Q,EAAiByC,GACnChB,EAAiB/T,EAAQwB,EAAgBvB,iBAAiB,YAC1D+U,EAAuBjB,EAAe7gB,OAgB1C,GAdA0hB,EAAY/Q,KAAKoR,KAAKrd,GAAU,GAAKmd,IAAM,EAGvCxe,EAAOwD,OACT6a,EAAY/Q,KAAKoR,MAAMrd,GAAU,GAAKmd,IAAMF,EAAyBzY,KAAkB,GAIrFwY,EAAYxY,EACd8Y,GAAU1T,GAEV2T,GAAY3T,GAGVwT,EAGF,IAFA,IAAII,EAAK7E,GAAyB/O,GAEzBE,EAAI,EAAGA,EAAIsT,EAAsBtT,IAAK,CAC7C,IAAID,EAAgBsS,EAAerS,GAG/BkT,GAFQG,KAAOnd,GAAU,GAAKiM,KAAKoR,KAAKpd,GAAU,GAAK6J,GAAKmC,KAAKoR,IAAIvT,EAAI0T,IAEjDhZ,EAC1B8Y,GAAUzT,GAEV0T,GAAY1T,IAOhBvE,EAAIsC,QAAQS,iBAAiB,2BAA2B/M,OAC1DgK,EAAIsC,QAAQF,UAAUC,IAAI,uBAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,uBAI3BkK,EAAIsC,QAAQS,iBAAiB,mBAAmB/M,OAAS,EAC3DgK,EAAIsC,QAAQF,UAAUC,IAAI,yBAE1BrC,EAAIsC,QAAQF,UAAUtM,OAAO,0BAYnC,SAASwgB,KACHjd,EAAOiE,WAAa0C,EAAI2C,cAAgB9H,IAAiBgK,OAC3D7E,EAAI2C,aAAa0F,UAAYH,MAAmB,kEAgCpD,SAAS8J,KAEH3Y,EAAO6C,UAAY8D,EAAI0C,cACzB1C,EAAI0C,YAAYpO,MAAMmH,MAAQ0c,KAAgBnY,EAAIsC,QAAQ4Q,YAAc,MAQ5E,SAASmD,KAEP,GAAIhd,EAAO8C,aAAe6D,EAAI7D,YAAa,CACzC,IAAI2S,EACAsJ,EAAS,MAEb,GAAkC,mBAAvB/e,EAAO8C,YAChB2S,EAAQzV,EAAO8C,mBAef,OAZkC,iBAAvB9C,EAAO8C,cAChBic,EAAS/e,EAAO8C,aAKb,IAAIoG,KAAK6V,IAA+E,IAApEpY,EAAIsC,QAAQS,iBAAiB5H,GAA4BnF,SAChFoiB,EAAS,KAGXtJ,EAAQ,GAEAsJ,GACN,IAAK,IACHtJ,EAAMuJ,KAAKC,KAAsB,GACjC,MAEF,IAAK,MACHxJ,EAAMuJ,KAAKC,KAAsB,EAAG,IAAKC,MACzC,MAEF,IAAK,MACHzJ,EAAMuJ,KAAK3d,EAAS,GAChBia,MAAmB7F,EAAMuJ,KAAK,IAAK1d,EAAS,GAChD,MAEF,QACEmU,EAAMuJ,KAAK3d,EAAS,GAChBia,MAAmB7F,EAAMuJ,KAAK,IAAK1d,EAAS,GAItDqF,EAAI7D,YAAYkM,UAAYQ,GAAkBiG,EAAM,GAAIA,EAAM,GAAIA,EAAM,KAc5E,SAASjG,GAAkBiC,EAAG0N,EAAWvN,GACvC,IAAIjG,EAAM,IAAMoP,KAEhB,MAAiB,iBAANnJ,GAAmBwN,MAAMxN,GAG3B,YAAcjG,EAAM,kCAAyC8F,EAAI,cAFjE,YAAc9F,EAAM,kCAAyC8F,EAAI,+CAAsD0N,EAAY,uCAA8CvN,EAAI,cAUhM,SAASmL,KACP,IAAIsC,EAASC,KACT1b,EAAY2b,KAEhB5Y,EAAI6C,aAAayS,OAAOtV,EAAIgD,eAAesS,OAAOtV,EAAIiD,YAAYqS,OAAOtV,EAAIkD,cAAcoS,OAAOtV,EAAImD,cAAcmS,OAAOtV,EAAIoD,cAAcrB,SAAQ,SAAU8D,GAC7JA,EAAKzD,UAAUtM,OAAO,WACtB+P,EAAKzD,UAAUtM,OAAO,cAEtB+P,EAAKvQ,aAAa,WAAY,eAG5BojB,EAAO/kB,MAAMqM,EAAI6C,aAAad,SAAQ,SAAUkM,GAClDA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAGjE,gBAAgB,eAEjB0O,EAAOhlB,OAAOsM,EAAIgD,cAAcjB,SAAQ,SAAUkM,GACpDA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAGjE,gBAAgB,eAEjB0O,EAAOG,IAAI7Y,EAAIiD,WAAWlB,SAAQ,SAAUkM,GAC9CA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAGjE,gBAAgB,eAEjB0O,EAAOI,MAAM9Y,EAAIkD,aAAanB,SAAQ,SAAUkM,GAClDA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAGjE,gBAAgB,gBAGjB0O,EAAO/kB,MAAQ+kB,EAAOG,KAAI7Y,EAAImD,aAAapB,SAAQ,SAAUkM,GAC/DA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAGjE,gBAAgB,gBAEjB0O,EAAOhlB,OAASglB,EAAOI,OAAM9Y,EAAIoD,aAAarB,SAAQ,SAAUkM,GAClEA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAGjE,gBAAgB,eAGjBnP,IAEEoC,EAAU8b,MAAM/Y,EAAImD,aAAapB,SAAQ,SAAUkM,GACrDA,EAAG7L,UAAUC,IAAI,aAAc,WAC/B4L,EAAGjE,gBAAgB,eAEjB/M,EAAU+b,MAAMhZ,EAAIoD,aAAarB,SAAQ,SAAUkM,GACrDA,EAAG7L,UAAUC,IAAI,aAAc,WAC/B4L,EAAGjE,gBAAgB,eAIjB2K,GAAgB9Z,IACdoC,EAAU8b,MAAM/Y,EAAIiD,WAAWlB,SAAQ,SAAUkM,GACnDA,EAAG7L,UAAUC,IAAI,aAAc,WAC/B4L,EAAGjE,gBAAgB,eAEjB/M,EAAU+b,MAAMhZ,EAAIkD,aAAanB,SAAQ,SAAUkM,GACrDA,EAAG7L,UAAUC,IAAI,aAAc,WAC/B4L,EAAGjE,gBAAgB,iBAGjB/M,EAAU8b,MAAM/Y,EAAI6C,aAAad,SAAQ,SAAUkM,GACrDA,EAAG7L,UAAUC,IAAI,aAAc,WAC/B4L,EAAGjE,gBAAgB,eAEjB/M,EAAU+b,MAAMhZ,EAAIgD,cAAcjB,SAAQ,SAAUkM,GACtDA,EAAG7L,UAAUC,IAAI,aAAc,WAC/B4L,EAAGjE,gBAAgB,iBAKrB3Q,EAAO0C,oBAGJ6D,GAAoB8Y,EAAOI,KAC9B9Y,EAAIsD,kBAAkBlB,UAAUC,IAAI,cAEpCrC,EAAIsD,kBAAkBlB,UAAUtM,OAAO,cAElC6J,GAAqB+Y,EAAOhlB,OAAoB,IAAXiH,EACxCqF,EAAIqD,mBAAmBjB,UAAUC,IAAI,aAErCrC,EAAIqD,mBAAmBjB,UAAUtM,OAAO,eAchD,SAAS6O,GAAiBsU,GACxB,IAAIC,EAAoB,KAEpBC,EAAiB9f,EAAOyD,IAAM,SAAW,OACzCsc,EAAmB/f,EAAOyD,IAAM,OAAS,SA0C7C,GAvCAgG,EAAQ9C,EAAIwC,WAAWzM,YAAYgM,SAAQ,SAAUsX,EAAalS,GAChEkS,EAAYjX,UAAUtM,OAAO,QAC7BujB,EAAYjX,UAAUtM,OAAO,WAC7BujB,EAAYjX,UAAUtM,OAAO,UAEzBqR,EAAIzM,EACN2e,EAAYjX,UAAUC,IAAI8W,GACjBhS,EAAIzM,EACb2e,EAAYjX,UAAUC,IAAI+W,IAE1BC,EAAYjX,UAAUC,IAAI,WAE1B6W,EAAoBG,IAGlBJ,GAAc9R,IAAMzM,IACtBoI,EAAQuW,EAAYtW,iBAAiB,sBAAsBhB,SAAQ,SAAUuX,EAAahS,GACxFgS,EAAYlX,UAAUtM,OAAO,QAC7BwjB,EAAYlX,UAAUtM,OAAO,WAC7BwjB,EAAYlX,UAAUtM,OAAO,UAEzBwR,EAAI3M,EACN2e,EAAYlX,UAAUC,IAAI,QACjBiF,EAAI3M,EACb2e,EAAYlX,UAAUC,IAAI,WAE1BiX,EAAYlX,UAAUC,IAAI,WAEtB8E,IAAMzM,IAAQwe,EAAoBI,UAM1Cxe,GACFob,GAAoBpb,GAIlBoe,EAAmB,CACrB/C,GAAqB+C,GACrB,IAAIK,EAA2BL,EAAkBhkB,cAAc,6BAE/D,GAAIqkB,EAA0B,CAC5B,IAAIC,EAAqBD,EAAyBjlB,MAAM+V,iBAAmB,GAEvE,SAAS9H,KAAKiX,KAChBD,EAAyBjlB,MAAM+V,gBAAkB,GACjD1V,OAAOyR,iBAAiBmT,GAA0BjP,QAClDiP,EAAyBjlB,MAAM+V,gBAAkBmP,GAMrD,IAAIC,EAAyB3e,EAAqBA,EAAmBoL,aAAa,wBAA0B,KACxGwT,EAAwBR,EAAkBhT,aAAa,wBAEvDwT,GAAyBA,IAA0BD,GAA0BP,IAAsBpe,GACrGkF,EAAIwC,WAAWJ,UAAUC,IAAI,iBAG/BvH,EAAqBoe,EAKnBre,GACF,CAAC,uBAAwB,uBAAuBkH,SAAQ,SAAU4X,GAC5D9e,EAAauH,UAAUgF,SAASuS,GAClC3Z,EAAIsC,QAAQF,UAAUC,IAAIsX,GAE1B3Z,EAAIsC,QAAQF,UAAUtM,OAAO6jB,MAMnC7iB,YAAW,WACTkJ,EAAIwC,WAAWJ,UAAUtM,OAAO,mBAC/B,GAQL,SAASmc,KACP,GAAI5Y,EAAOkF,wBAAyB,CAClC,IAGIqb,EACAC,EAJAzE,EAAmBpV,EAAIsC,QAAQS,iBAAiB5H,GAChD0b,EAAiB7W,EAAIsC,QAAQS,iBAAiB3H,GAC9C8O,EAAiBlK,EAAIwC,WAAWlO,MAAM4V,eAAerR,MAAM,KAIjC,IAA1BqR,EAAelU,OACjB4jB,EAAkBC,EAAmBnR,SAASwB,EAAe,GAAI,KAEjE0P,EAAkBlR,SAASwB,EAAe,GAAI,IAC9C2P,EAAmBnR,SAASwB,EAAe,GAAI,KAGjD,IAGI4P,EAHAhT,EAAa9G,EAAIwC,WAAW0Q,YAC5B6G,EAAuB3E,EAAiBpf,OAU5C8jB,GANmD,iBAAxCzgB,EAAOsF,6BACatF,EAAOsF,6BAEPob,EAAuB,GAAKH,EAAkB9S,IAAeiT,EAAuB,GAAK,GAGxErf,GAAU,EAC1D,IAEIsf,EACAC,EAHAlT,EAAc/G,EAAIwC,WAAW+P,aAC7B2H,EAAqBrD,EAAe7gB,OAKtCgkB,EAD+C,iBAAtC3gB,EAAOuF,2BACWvF,EAAOuF,4BAENib,EAAmB9S,IAAgBmT,EAAqB,GAGtFD,EAAiBC,EAAqB,EAAIF,EAA2Brf,EAAS,EAC9EqF,EAAIwC,WAAWlO,MAAM8V,mBAAqB0P,EAAmB,OAASG,EAAiB,MA+B3F,SAASjC,GAAUzQ,EAAO2D,GACxBA,EAAUA,GAAW,GAErB3D,EAAMjT,MAAM6K,QAAU9F,EAAO8F,QAE7B2D,EAAQyE,EAAMxE,iBAAiB,sEAAsEhB,SAAQ,SAAU4H,IAC7F,WAApBA,EAAQwQ,SA1BhB,SAAuBxQ,GAErB,IAAIyQ,EAAU/gB,EAAOmE,eAOrB,MAJuB,kBAAZ4c,IACTA,EAAUzQ,EAAQ4J,aAAa,iBAG1B6G,EAiB+BC,CAAc1Q,MAChDA,EAAQrU,aAAa,MAAOqU,EAAQzD,aAAa,aACjDyD,EAAQrU,aAAa,mBAAoB,IACzCqU,EAAQK,gBAAgB,gBAI5BlH,EAAQyE,EAAMxE,iBAAiB,iBAAiBhB,SAAQ,SAAUuY,GAChE,IAAIC,EAAU,EACdzX,EAAQwX,EAAMvX,iBAAiB,qBAAqBhB,SAAQ,SAAUyY,GACpEA,EAAOllB,aAAa,MAAOklB,EAAOtU,aAAa,aAC/CsU,EAAOxQ,gBAAgB,YACvBwQ,EAAOllB,aAAa,mBAAoB,IACxCilB,GAAW,KAITA,EAAU,GACZD,EAAMG,UAIV,IAAIjY,EAAa+E,EAAMS,uBAEvB,GAAIxF,EAAY,CACdA,EAAWlO,MAAM6K,QAAU,QAC3B,IAAIub,EAAoBnT,EAAMuC,8BAE9B,IAA+C,IAA3CtH,EAAW+Q,aAAa,eAA0B,CACpD/Q,EAAWlN,aAAa,cAAe,QACvC,IAAI+U,EAAkB9C,EAAMrB,aAAa,yBACrCqE,EAAkBhD,EAAMrB,aAAa,yBACrCyU,EAAsBpT,EAAMgM,aAAa,8BACzCqH,EAAuBrT,EAAMgM,aAAa,+BAC1C/I,EAAmBjD,EAAMrB,aAAa,0BAE1C,GAAImE,EACFqQ,EAAkBpmB,MAAM+V,gBAAkB,OAASwQ,UAAUxQ,GAAmB,SAE7E,GAAIE,IAAoBsC,KAAkB,CAC3C,IAAIiO,EAAQ7lB,SAASI,cAAc,SAE/BslB,GACFG,EAAMxlB,aAAa,OAAQ,IAGzBslB,IACFE,EAAMC,OAAQ,GAMZhgB,IACF+f,EAAMC,OAAQ,EACdD,EAAME,UAAW,EACjBF,EAAMxlB,aAAa,cAAe,KAIpCiV,EAAgB1R,MAAM,KAAKkJ,SAAQ,SAAUyY,GAC3CM,EAAMzS,WAAa,gBAAkBmS,EAAS,QAEhDE,EAAkB9kB,YAAYklB,QAE3B,GAAItQ,IAA+C,IAA3BU,EAAQ+P,eAAyB,CAC1D,IAAIC,EAASjmB,SAASI,cAAc,UACpC6lB,EAAO5lB,aAAa,kBAAmB,IACvC4lB,EAAO5lB,aAAa,qBAAsB,IAC1C4lB,EAAO5lB,aAAa,wBAAyB,IAGzC,0BAA0BiN,KAAKiI,GACjC0Q,EAAO5lB,aAAa,WAAYkV,GAEhC0Q,EAAO5lB,aAAa,MAAOkV,GAG7B0Q,EAAO5mB,MAAMmH,MAAQ,OACrByf,EAAO5mB,MAAMoH,OAAS,OACtBwf,EAAO5mB,MAAM6mB,UAAY,OACzBD,EAAO5mB,MAAM8mB,SAAW,OACxBV,EAAkB9kB,YAAYslB,MAa1C,SAASjD,GAAY1Q,GAEnBA,EAAMjT,MAAM6K,QAAU,OAEtB,IAAIqD,EAAa6Y,GAAmB9T,GAEhC/E,IACFA,EAAWlO,MAAM6K,QAAU,QAI7B2D,EAAQyE,EAAMxE,iBAAiB,8FAA8FhB,SAAQ,SAAU4H,GAC7IA,EAAQrU,aAAa,WAAYqU,EAAQzD,aAAa,QACtDyD,EAAQK,gBAAgB,UAG1BlH,EAAQyE,EAAMxE,iBAAiB,2DAA2DhB,SAAQ,SAAUyY,GAC1GA,EAAOllB,aAAa,WAAYklB,EAAOtU,aAAa,QACpDsU,EAAOxQ,gBAAgB,UAU3B,SAAS2O,KACP,IAAIvD,EAAmBpV,EAAIsC,QAAQS,iBAAiB5H,GAChD0b,EAAiB7W,EAAIsC,QAAQS,iBAAiB3H,GAC9Csd,EAAS,CACX/kB,KAAM+G,EAAS,EACfhH,MAAOgH,EAAS0a,EAAiBpf,OAAS,EAC1C6iB,GAAIle,EAAS,EACbme,KAAMne,EAASkc,EAAe7gB,OAAS,GAiBzC,GAbIqD,EAAOwD,OACLuY,EAAiBpf,OAAS,IAC5B0iB,EAAO/kB,MAAO,EACd+kB,EAAOhlB,OAAQ,GAGbmjB,EAAe7gB,OAAS,IAC1B0iB,EAAOG,IAAK,EACZH,EAAOI,MAAO,IAKdzf,EAAOyD,IAAK,CACd,IAAInJ,EAAO+kB,EAAO/kB,KAClB+kB,EAAO/kB,KAAO+kB,EAAOhlB,MACrBglB,EAAOhlB,MAAQC,EAGjB,OAAO+kB,EAUT,SAASE,KACP,GAAI/d,GAAgBxB,EAAO4D,UAAW,CACpC,IAAIA,EAAYpC,EAAakI,iBAAiB,aAC1CuY,EAAkBzgB,EAAakI,iBAAiB,2BACpD,MAAO,CACLgW,KAAM9b,EAAUjH,OAASslB,EAAgBtlB,OAAS,EAClDgjB,OAAQsC,EAAgBtlB,QAG1B,MAAO,CACL+iB,MAAM,EACNC,MAAM,GAsCZ,SAAS7C,GAAqBxM,GACxBA,IAAYkD,OAEd/J,EAAQ6G,EAAQ5G,iBAAiB,qBAAqBhB,SAAQ,SAAUkM,GAGtEA,EAAG3Y,aAAa,MAAO2Y,EAAG/H,aAAa,WAGzCpD,EAAQ6G,EAAQ5G,iBAAiB,iBAAiBhB,SAAQ,SAAUkM,GAClE,IAAI0B,GAAc1B,EAAI,cAAiB0B,GAAc1B,EAAI,qBAAzD,CAKA,IAAI+M,EAAW3hB,EAAOkE,cAOtB,GAJwB,kBAAbyd,IACTA,EAAW/M,EAAGsF,aAAa,oBAAsB5D,GAAc1B,EAAI,sBAGjE+M,GAA+B,mBAAZ/M,EAAGsN,KAExB,GAAItN,EAAGnJ,WAAa,EAClB0W,GAAmB,CACjBrlB,OAAQ8X,SAIP,GAAIlT,EAAgB,CACrB,IAAI0gB,EAAUxN,EAAGsN,OAGbE,GAAuC,mBAArBA,EAAe,QAAoC,IAAhBxN,EAAGnS,UAC1D2f,EAAe,OAAE,WACfxN,EAAGnS,UAAW,EAEdmS,EAAGtK,iBAAiB,QAAQ,WAC1BsK,EAAGnS,UAAW,aAMlBmS,EAAGxC,oBAAoB,aAAc+P,IAErCvN,EAAGtK,iBAAiB,aAAc6X,QAK5C1Y,EAAQ6G,EAAQ5G,iBAAiB,gBAAgBhB,SAAQ,SAAUkM,GAC7D0B,GAAc1B,EAAI,eAAiB0B,GAAc1B,EAAI,sBAIzDyN,GAAoB,CAClBvlB,OAAQ8X,OAIZnL,EAAQ6G,EAAQ5G,iBAAiB,qBAAqBhB,SAAQ,SAAUkM,GAClE0B,GAAc1B,EAAI,eAAiB0B,GAAc1B,EAAI,sBAIrDA,EAAG/H,aAAa,SAAW+H,EAAG/H,aAAa,cAC7C+H,EAAGxC,oBAAoB,OAAQiQ,IAE/BzN,EAAGtK,iBAAiB,OAAQ+X,IAC5BzN,EAAG3Y,aAAa,MAAO2Y,EAAG/H,aAAa,kBAa/C,SAASsV,GAAmB5X,GAC1B,IAAI+X,IAAoBhM,GAAc/L,EAAMzN,OAAQ,QAChDylB,IAAcjM,GAAc/L,EAAMzN,OAAQ,YAE1CwlB,GAAmBC,IACrBhY,EAAMzN,OAAO0lB,YAAc,EAC3BjY,EAAMzN,OAAOolB,QAGf3X,EAAMzN,OAAOsV,oBAAoB,aAAc+P,IAUjD,SAASE,GAAoB9X,GAC3B,IAAIsX,EAAStX,EAAMzN,OAEnB,GAAI+kB,GAAUA,EAAOY,cAAe,CAClC,IAAIH,IAAoBhM,GAAc/L,EAAMzN,OAAQ,QAChDylB,IAAcjM,GAAc/L,EAAMzN,OAAQ,YAE9C,GAAIwlB,GAAmBC,EAAW,CAEhC,IAAIZ,EAAW3hB,EAAOkE,cAGE,kBAAbyd,IACTA,EAAWE,EAAO3H,aAAa,oBAAsB5D,GAAcuL,EAAQ,sBAIzE,wBAAwB3Y,KAAK2Y,EAAOhV,aAAa,SAAW8U,EAC9DE,EAAOY,cAAc7d,YAAY,mDAAoD,KAE9E,uBAAuBsE,KAAK2Y,EAAOhV,aAAa,SAAW8U,EAChEE,EAAOY,cAAc7d,YAAY,oBAAqB,KAGpDid,EAAOY,cAAc7d,YAAY,cAAe,OAa5D,SAASiY,GAAoBvM,EAASuB,GACpCA,EAAUE,EAAO,CAEf8L,eAAe,GACdhM,GAAW,IAEVvB,GAAWA,EAAQ5B,aAErBjF,EAAQ6G,EAAQ5G,iBAAiB,iBAAiBhB,SAAQ,SAAUkM,GAC7DA,EAAGsF,aAAa,gBAAsC,mBAAbtF,EAAG5Q,QAC/C4Q,EAAG3Y,aAAa,wBAAyB,IACzC2Y,EAAG5Q,YAIPyF,EAAQ6G,EAAQ5G,iBAAiB,WAAWhB,SAAQ,SAAUkM,GACxDA,EAAG6N,eAAe7N,EAAG6N,cAAc7d,YAAY,aAAc,KACjEgQ,EAAGxC,oBAAoB,OAAQiQ,OAGjC5Y,EAAQ6G,EAAQ5G,iBAAiB,sCAAsChB,SAAQ,SAAUkM,IAClFA,EAAGsF,aAAa,gBAAkBtF,EAAG6N,eAAyD,mBAAjC7N,EAAG6N,cAAc7d,aACjFgQ,EAAG6N,cAAc7d,YAAY,oDAAqD,QAItF6E,EAAQ6G,EAAQ5G,iBAAiB,qCAAqChB,SAAQ,SAAUkM,IACjFA,EAAGsF,aAAa,gBAAkBtF,EAAG6N,eAAyD,mBAAjC7N,EAAG6N,cAAc7d,aACjFgQ,EAAG6N,cAAc7d,YAAY,qBAAsB,SAIzB,IAA1BiN,EAAQgM,eAEVpU,EAAQ6G,EAAQ5G,iBAAiB,qBAAqBhB,SAAQ,SAAUkM,GAGtEA,EAAG3Y,aAAa,MAAO,eACvB2Y,EAAGjE,gBAAgB,WAa3B,SAASsO,KACP,IAAIlD,EAAmBtS,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAExD4gB,EAAY,EAEhBC,EAAU,IAAK,IAAIva,EAAI,EAAGA,EAAI2T,EAAiBpf,OAAQyL,IAAK,CAI1D,IAHA,IAAI6C,EAAkB8Q,EAAiB3T,GACnCoV,EAAiB/T,EAAQwB,EAAgBvB,iBAAiB,YAErDgT,EAAI,EAAGA,EAAIc,EAAe7gB,OAAQ+f,IAAK,CAE9C,GAAIc,EAAed,GAAG3T,UAAUgF,SAAS,WACvC,MAAM4U,EAGRD,IAIF,GAAIzX,EAAgBlC,UAAUgF,SAAS,WACrC,OAIkD,IAAhD9C,EAAgBlC,UAAUgF,SAAS,UACrC2U,IAIJ,OAAOA,EAUT,SAAS5D,KAEP,IAAI8D,EAAa1D,KACbwD,EAAYzD,KAEhB,GAAIzd,EAAc,CAChB,IAAIqhB,EAAerhB,EAAakI,iBAAiB,aAG7CmZ,EAAalmB,OAAS,IAMxB+lB,GALuBlhB,EAAakI,iBAAiB,qBAKvB/M,OAASkmB,EAAalmB,OAF/B,IAMzB,OAAO2Q,KAAKkB,IAAIkU,GAAaE,EAAa,GAAI,GAUhD,SAASpP,KACP,QAASlY,OAAO2b,SAASC,OAAOxC,MAAM,cAOxC,SAASrJ,KACP,IAAI/K,EAAOhF,OAAO2b,SAAS3W,KAEvBwiB,EAAOxiB,EAAKgV,MAAM,GAAG9V,MAAM,KAC3BujB,EAAOziB,EAAKiQ,QAAQ,SAAU,IAGlC,IAAK,WAAWrH,KAAK4Z,EAAK,KAAOC,EAAKpmB,OAAQ,CAC5C,IAAI2T,EAEJ,IACEA,EAAU1U,SAASsO,eAAe8Y,mBAAmBD,IACrD,MAAOE,IAGT,IAAIC,IAA2B1hB,GAAeA,EAAaqL,aAAa,QAAUkW,EAElF,GAAIzS,GAEF,IAAK4S,EAA0B,CAE7B,IAAIC,EAAUrjB,EAAOob,WAAW5K,GAChCpC,GAAMiV,EAAQrV,EAAGqV,EAAQlV,SAIzBC,GAAM7M,GAAU,EAAGC,GAAU,OAE5B,CACL,IAII6Z,EAJAE,EAAgBrb,EAAOgD,kBAAoB,EAAI,EAE/C8K,EAAIuB,SAASyT,EAAK,GAAI,IAAMzH,GAAiB,EAC7CpN,EAAIoB,SAASyT,EAAK,GAAI,IAAMzH,GAAiB,EAG7Crb,EAAO6D,gBACTsX,EAAI9L,SAASyT,EAAK,GAAI,IAElB1D,MAAMjE,KACRA,OAAIC,IAIJtN,IAAMzM,GAAU4M,IAAM3M,QAAgB8Z,IAAND,GAClCjN,GAAMJ,EAAGG,EAAGkN,IAalB,SAASgC,GAAS7f,GAEhBgB,aAAa0I,GAEQ,iBAAV1J,EACT0J,EAAkBvJ,WAAW0f,GAAU7f,GAC9BkE,IAGLxB,EAAOiD,UAAY3H,OAAO2H,QAC5B3H,OAAO2b,SAAS3W,KAAOya,KAGhB/a,EAAOM,KACZhF,OAAO2H,QAAQmgB,aAAa,KAAM,KAAM,IAAMrI,MAK5Czf,OAAO2H,QAAQmgB,aAAa,KAAM,KAAM9nB,OAAO2b,SAASoM,SAAW/nB,OAAO2b,SAASC,SAgB7F,SAASgE,GAAWhN,GAElB,IAEIiN,EAFArN,EAAIzM,EACJ4M,EAAI3M,EAGR,GAAI4M,EAAO,CACT,IAAIoV,EAAahI,GAAgBpN,GAC7BmP,EAASiG,EAAapV,EAAMQ,WAAaR,EAEzC6N,EAAmBtS,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAE5DgM,EAAIR,KAAKgB,IAAIyN,EAAiB6B,QAAQP,GAAS,GAE/CpP,OAAImN,EAEAkI,IACFrV,EAAIX,KAAKgB,IAAI7E,EAAQyE,EAAMQ,WAAWhF,iBAAiB,YAAYkU,QAAQ1P,GAAQ,IAIvF,IAAKA,GAAS1M,GACOA,EAAakI,iBAAiB,aAAa/M,OAAS,EAErD,CAChB,IAAI4mB,EAAkB/hB,EAAa3F,cAAc,qBAG/Csf,EADEoI,GAAmBA,EAAgBrJ,aAAa,uBAC9C7K,SAASkU,EAAgB1W,aAAa,uBAAwB,IAE9DrL,EAAakI,iBAAiB,qBAAqB/M,OAAS,EAKtE,MAAO,CACLmR,EAAGA,EACHG,EAAGA,EACHkN,EAAGA,GAQP,SAASqI,KACP,OAAO/Z,EAAQ9C,EAAIsC,QAAQS,iBAAiB7H,EAAkB,iBA2BhE,SAASqd,KACP,OAAOsE,KAAY7mB,OASrB,SAAS8mB,GAASjF,EAAGrT,GACnB,IAAIF,EAAkBtE,EAAIsC,QAAQS,iBAAiB5H,GAA4B0c,GAC3EhB,EAAiBvS,GAAmBA,EAAgBvB,iBAAiB,WAEzE,OAAI8T,GAAkBA,EAAe7gB,QAAuB,iBAANwO,EAC7CqS,EAAiBA,EAAerS,QAAKiQ,EAGvCnQ,EAeT,SAAS+W,GAAmBxD,EAAGrT,GAC7B,IAAI+C,EAAqB,iBAANsQ,EAAiBiF,GAASjF,EAAGrT,GAAKqT,EAErD,GAAItQ,EACF,OAAOA,EAAMS,uBAgBjB,SAASE,GAAcX,GAIrB,IAFAA,EAAQA,GAAS1M,GAEP0Y,aAAa,cACrB,OAAOhM,EAAMrB,aAAa,cAI5B,IAAIkC,EAAeb,EAAMrS,cAAc,eAEvC,OAAIkT,EACKA,EAAaC,UAGf,KAWT,SAAS0I,KACP,IAAIyL,EAAUjI,KACd,MAAO,CACL7Z,OAAQ8hB,EAAQrV,EAChBxM,OAAQ6hB,EAAQlV,EAChB+M,OAAQmI,EAAQhI,EAChBuI,OAAQ/H,KACRvY,SAAUyV,MA+Cd,SAASjJ,GAAchM,EAAW+f,GAChC/f,EAAY6F,EAAQ7F,GACpB,IAAIggB,EAAU,GACVC,EAAY,GACZC,EAAS,GAEblgB,EAAU8E,SAAQ,SAAUmH,EAAUzH,GACpC,GAAIyH,EAASqK,aAAa,uBAAwB,CAChD,IAAI8D,EAAQ3O,SAASQ,EAAShD,aAAa,uBAAwB,IAE9D+W,EAAQ5F,KACX4F,EAAQ5F,GAAS,IAGnB4F,EAAQ5F,GAAOgB,KAAKnP,QAEpBgU,EAAU7E,KAAK,CAACnP,OAKpB+T,EAAUA,EAAQ3H,OAAO4H,GAGzB,IAAI7F,EAAQ,EAUZ,OAPA4F,EAAQlb,SAAQ,SAAUqb,GACxBA,EAAMrb,SAAQ,SAAUmH,GACtBiU,EAAO9E,KAAKnP,GACZA,EAAS5T,aAAa,sBAAuB+hB,MAE/CA,QAEiB,IAAZ2F,EAAmBC,EAAUE,EActC,SAAS5G,GAAgBc,EAAOpa,GAC9B,IAAIogB,EAAmB,CACrBC,MAAO,GACPC,OAAQ,IAGV,GAAI1iB,GAAgBxB,EAAO4D,YACzBA,EAAYA,GAAagM,GAAcpO,EAAakI,iBAAiB,eAEvD/M,OAAQ,CACpB,GAAqB,iBAAVqhB,EAAoB,CAC7B,IAAIuF,EAAkB3T,GAAcpO,EAAakI,iBAAiB,sBAAsBkT,MAEpF2G,IACFvF,EAAQ3O,SAASkU,EAAgB1W,aAAa,wBAA0B,EAAG,KAI/EpD,EAAQ7F,GAAW8E,SAAQ,SAAUkM,EAAIxM,GACnCwM,EAAGsF,aAAa,yBAClB9R,EAAIiH,SAASuF,EAAG/H,aAAa,uBAAwB,KAInDzE,GAAK4V,GACFpJ,EAAG7L,UAAUgF,SAAS,YAAYiW,EAAiBC,MAAMjF,KAAKpK,GACnEA,EAAG7L,UAAUC,IAAI,WACjB4L,EAAG7L,UAAUtM,OAAO,oBAEpBkK,EAAI8B,UAAUkE,YAAcJ,EAAcqI,GAEtCxM,IAAM4V,IACRpJ,EAAG7L,UAAUC,IAAI,oBACjB8T,GAAqBlI,MAIjBA,EAAG7L,UAAUgF,SAAS,YAAYiW,EAAiBE,OAAOlF,KAAKpK,GACnEA,EAAG7L,UAAUtM,OAAO,WACpBmY,EAAG7L,UAAUtM,OAAO,wBAM9B,OAAOunB,EAeT,SAASzH,GAAiByB,EAAOmG,GAC/B,GAAI3iB,GAAgBxB,EAAO4D,UAAW,CACpC,IAAIA,EAAYgM,GAAcpO,EAAakI,iBAAiB,cAE5D,GAAI9F,EAAUjH,OAAQ,CAEpB,GAAqB,iBAAVqhB,EAAoB,CAC7B,IAAIoG,EAAsBxU,GAAcpO,EAAakI,iBAAiB,sBAAsBkT,MAG1FoB,EADEoG,EACM/U,SAAS+U,EAAoBvX,aAAa,wBAA0B,EAAG,KAEtE,EAKS,iBAAXsX,IACTnG,GAASmG,GAGX,IAAIH,EAAmB9G,GAAgBc,EAAOpa,GAuB9C,OArBIogB,EAAiBE,OAAOvnB,QAC1B4O,GAAc,iBAAkB,CAC9BsE,SAAUmU,EAAiBE,OAAO,GAClCtgB,UAAWogB,EAAiBE,SAI5BF,EAAiBC,MAAMtnB,QACzB4O,GAAc,gBAAiB,CAC7BsE,SAAUmU,EAAiBC,MAAM,GACjCrgB,UAAWogB,EAAiBC,QAIhClH,KACApE,KAEI3Y,EAAO6D,eACTsZ,QAGQ6G,EAAiBC,MAAMtnB,SAAUqnB,EAAiBE,OAAOvnB,SAIvE,OAAO,EAUT,SAAS0nB,KACP,OAAO9H,GAAiB,KAAM,GAUhC,SAAS+H,KACP,OAAO/H,GAAiB,MAAO,GAOjC,SAAS1B,KAGP,GAFAR,KAEI7Y,IAAqC,IAArBxB,EAAOoE,UAAqB,CAC9C,IAAIyL,EAAWrO,EAAa3F,cAAc,qBAGrCgU,IAAUA,EAAWrO,EAAa3F,cAAc,cACrD,IAAI0oB,EAAoB1U,EAAWA,EAAShD,aAAa,kBAAoB,KACzE2X,EAAkBhjB,EAAakN,WAAalN,EAAakN,WAAW7B,aAAa,kBAAoB,KACrG4X,EAAiBjjB,EAAaqL,aAAa,kBAO7CzI,EADEmgB,EACUlV,SAASkV,EAAmB,IAC/BE,EACGpV,SAASoV,EAAgB,IAC5BD,EACGnV,SAASmV,EAAiB,IAE1BxkB,EAAOoE,UAQqC,IAAtD5C,EAAakI,iBAAiB,aAAa/M,QAC7C8M,EAAQjI,EAAakI,iBAAiB,iBAAiBhB,SAAQ,SAAUkM,GACnEA,EAAGsF,aAAa,kBACd9V,GAA2B,IAAdwQ,EAAG8P,SAAkB9P,EAAG+P,aAAevgB,IACtDA,EAA0B,IAAdwQ,EAAG8P,SAAkB9P,EAAG+P,aAAe,SAYvDvgB,GAAckD,GAAoBqU,MAAe9C,MAAkB/Y,EAAO8kB,gBAAiBrF,KAAqBI,OAAwB,IAAhB3f,EAAOwD,OACjI4D,EAAmB3J,YAAW,WACM,mBAA3BuC,EAAOsE,gBAAiCtE,EAAOsE,kBAAoBugB,KAC1EhK,OACCzW,GACHiD,EAAqB8L,KAAKC,OAGxBxR,GACFA,EAAgBkjB,YAAiC,IAAtB1d,IASjC,SAASiT,KACP/b,aAAa8I,GACbA,GAAoB,EAGtB,SAAS0U,KACH1X,IAAckD,IAChBA,GAAkB,EAClBiE,GAAc,mBACdjN,aAAa8I,GAETxF,GACFA,EAAgBkjB,YAAW,IAKjC,SAASjJ,KACHzX,GAAakD,IACfA,GAAkB,EAClBiE,GAAc,oBACdsP,MAIJ,SAASkK,KAEH/kB,EAAOyD,KACJoV,OAAmC,IAAnBwL,OAA6B/E,KAAkBhlB,MAClE4T,GAAM7M,EAAS,EAA6B,SAA1BrB,EAAO0D,eAA4BpC,OAAS8Z,IAGxDvC,OAAuC,IAAvByL,OAAiChF,KAAkBhlB,MACzE4T,GAAM7M,EAAS,EAA6B,SAA1BrB,EAAO0D,eAA4BpC,OAAS8Z,GAIpE,SAAS4J,KACP1e,GAAoB,EAEhBtG,EAAOyD,KACJoV,OAAuC,IAAvByL,OAAiChF,KAAkBjlB,OACtE6T,GAAM7M,EAAS,EAA6B,SAA1BrB,EAAO0D,eAA4BpC,OAAS8Z,IAGxDvC,OAAmC,IAAnBwL,OAA6B/E,KAAkBjlB,OACrE6T,GAAM7M,EAAS,EAA6B,SAA1BrB,EAAO0D,eAA4BpC,OAAS8Z,GAIpE,SAAS6J,MAEFpM,OAAuC,IAAvByL,OAAiChF,KAAkBE,IACtEtR,GAAM7M,EAAQC,EAAS,GAI3B,SAAS4jB,KACP3e,GAAmB,GAEdsS,OAAmC,IAAnBwL,OAA6B/E,KAAkBG,MAClEvR,GAAM7M,EAAQC,EAAS,GAW3B,SAAS6jB,KAOH,IAAI5jB,EALR,IAA2B,IAAvB+iB,KACF,GAAIhF,KAAkBE,GACpByF,UAWA,GALE1jB,EADEvB,EAAOyD,IACOgG,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,EAA6B,YAAY8a,MAE9EnT,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,EAA6B,UAAU8a,MAG3E,CACjB,IAAI3O,EAAI1M,EAAcmI,iBAAiB,WAAW/M,OAAS,QAAKye,EAEhElN,GADQ7M,EAAS,EACR4M,IAUjB,SAAS4W,KAIP,GAHAve,GAAoB,EACpBC,GAAmB,GAEI,IAAnB8d,KAA0B,CAC5B,IAAIhF,EAASC,KAITD,EAAOI,MAAQJ,EAAOhlB,OAAS2F,EAAOwD,MAAQ1D,EAAOslB,oBAAoB5jB,KAC3E6d,EAAOI,MAAO,GAGZJ,EAAOI,KACTyF,KACSllB,EAAOyD,IAChBshB,KAEAC,MAUN,SAASK,GAAiBvoB,GACxB,KAAOA,GAAyC,mBAAxBA,EAAOod,cAA6B,CAC1D,GAAIpd,EAAOod,aAAa,sBAAuB,OAAO,EACtDpd,EAASA,EAAO4R,WAGlB,OAAO,EAaT,SAAS4W,GAAY/a,GACfvK,EAAOqE,oBACTyX,KAWJ,SAASnJ,GAAuBpI,GAC9BqI,KACAtU,aAAa4I,GACbA,EAAwBzJ,WAAW+d,GAAYxb,EAAOgG,gBASxD,SAASsO,GAAmB/J,GAEtBA,EAAMgb,UAA+B,KAAnBhb,EAAMib,UAC1B5N,KAUJ,SAASvD,GAAkB9J,GAGzB,GAAwC,mBAA7BvK,EAAOmD,oBAAwE,IAApCnD,EAAOmD,kBAAkBoH,GAC7E,OAAO,EAIT,IAAIkb,EAAUlb,EAAMkb,QAEhBC,EAAqBpe,EACzBge,KAEA,IAAIK,EAAoB/pB,SAASgqB,eAA4D,YAA3ChqB,SAASgqB,cAAcC,gBACrEC,EAAuBlqB,SAASgqB,eAAiBhqB,SAASgqB,cAAc9E,SAAW,kBAAkB5X,KAAKtN,SAASgqB,cAAc9E,SACjIiF,EAAuBnqB,SAASgqB,eAAiBhqB,SAASgqB,cAAc7qB,WAAa,iBAAiBmO,KAAKtN,SAASgqB,cAAc7qB,WAElIirB,EAAoBzb,EAAMgb,UAA8B,KAAlBhb,EAAMkb,QAC5CQ,GAAsB1b,EAAM2b,SAAW3b,EAAM4b,UAAwB,KAAZV,EACzDW,GAAqB7b,EAAM2b,SAAW3b,EAAM4b,UAAwB,KAAZV,EAExDY,GAAkBL,IAAsBC,IAAuBG,IAAsB7b,EAAMgb,UAAYhb,EAAM+b,QAAU/b,EAAM4b,SAAW5b,EAAM2b,SAGlJ,KAAIP,GAAqBG,GAAwBC,GAAwBM,GAAzE,CAEA,IACIpO,EADAsO,EAAiB,CAAC,GAAI,GAAI,IAAK,KAGnC,GAA+B,iBAApBvmB,EAAOkD,SAChB,IAAK+U,KAAOjY,EAAOkD,SACY,gBAAzBlD,EAAOkD,SAAS+U,IAClBsO,EAAevH,KAAK3P,SAAS4I,EAAK,KAKxC,GAAI0D,OAAmD,IAArC4K,EAAe3I,QAAQ6H,GACvC,OAAO,EAGT,IAxpEInV,EAEAkW,EAspEAC,GAAY,EAEhB,GAA+B,iBAApBzmB,EAAOkD,SAChB,IAAK+U,KAAOjY,EAAOkD,SAEjB,GAAImM,SAAS4I,EAAK,MAAQwN,EAAS,CACjC,IAAIhQ,EAAQzV,EAAOkD,SAAS+U,GAEP,mBAAVxC,EACTA,EAAM7K,MAAM,KAAM,CAACL,IAEK,iBAAVkL,GAA+C,mBAAlB3V,EAAO2V,IAChD3V,EAAO2V,GAAOF,OAGlBkR,GAAY,EAMlB,IAAkB,IAAdA,EACF,IAAKxO,KAAOpQ,EAEV,GAAIwH,SAAS4I,EAAK,MAAQwN,EAAS,CACjC,IAAIiB,EAAS7e,EAAsBoQ,GAAK1P,SAElB,mBAAXme,EACTA,EAAO9b,MAAM,KAAM,CAACL,IAEK,iBAAXmc,GAAiD,mBAAnB5mB,EAAO4mB,IACjD5mB,EAAO4mB,GAAQnR,OAGnBkR,GAAY,GAMA,IAAdA,IAEFA,GAAY,EAEI,KAAZhB,GAA8B,KAAZA,EACpBN,KAEmB,KAAZM,GAA8B,KAAZA,EACvBZ,KAEmB,KAAZY,GAA8B,KAAZA,EACnBQ,EACF/X,GAAM,GACI2K,MAA0C,WAA1B7Y,EAAO0D,eAGjCqhB,KAFAI,KAKiB,KAAZM,GAA8B,KAAZA,EACnBW,EACFlY,GAAMzI,OAAO8Y,WACH1F,MAA0C,WAA1B7Y,EAAO0D,eAGjCshB,KAFAH,KAKiB,KAAZY,GAA8B,KAAZA,EAClB5M,MAA0C,WAA1B7Y,EAAO0D,eAG1BuhB,KAFAE,KAKiB,KAAZM,GAA8B,KAAZA,EAClB5M,MAA0C,WAA1B7Y,EAAO0D,eAG1BwhB,KAFAL,KAKiB,KAAZY,EACLvX,GAAM,GAEa,KAAZuX,EACLvX,GAAMzI,OAAO8Y,WAEM,KAAZkH,GACD5M,MACF+B,KAGErQ,EAAMgb,SACRJ,KAEAN,MAGiB,KAAZY,GAA8B,KAAZA,GAA8B,KAAZA,GAA8B,KAAZA,GAA8B,MAAZA,GAA+B,MAAZA,EAChG/J,KAEmB,KAAZ+J,GA9vEzBnV,EAAU1U,SAASyc,iBAEnBmO,EAAgBlW,EAAQqW,mBAAqBrW,EAAQsW,yBAA2BtW,EAAQuW,yBAA2BvW,EAAQwW,sBAAwBxW,EAAQyW,sBAG7JP,EAAc5b,MAAM0F,IA4vEqB,KAAZmV,EACDzlB,EAAOqE,oBACTuX,GAAgB8J,GAGlBe,GAAY,GAMlCA,EACFlc,EAAM4N,gBAAkB5N,EAAM4N,iBAEV,KAAZsN,GAA8B,KAAZA,IAAmB3e,EAASmL,eAChDtL,EAAIqR,QACND,KAEA+C,KAGFvQ,EAAM4N,gBAAkB5N,EAAM4N,kBAKlC0C,MAUF,SAAS3G,GAAa3J,GACpB,GAAI8a,GAAiB9a,EAAMzN,QAAS,OAAO,EAC3CyG,EAAMgE,OAASgD,EAAMyc,QAAQ,GAAGC,QAChC1jB,EAAMiE,OAAS+C,EAAMyc,QAAQ,GAAGE,QAChC3jB,EAAMkE,WAAa8C,EAAMyc,QAAQrqB,OASnC,SAASwX,GAAY5J,GACnB,GAAI8a,GAAiB9a,EAAMzN,QAAS,OAAO,EAE3C,GAAKyG,EAAMmE,SAqCFzF,EAAGyS,MAAM,cACdnK,EAAM4N,qBAtCW,CACnBmN,KACA,IAAI6B,EAAW5c,EAAMyc,QAAQ,GAAGC,QAC5BG,EAAW7c,EAAMyc,QAAQ,GAAGE,QAEhC,GAA6B,IAAzB3c,EAAMyc,QAAQrqB,QAAqC,IAArB4G,EAAMkE,WAAkB,CACxD,IAAI4f,EAASF,EAAW5jB,EAAMgE,OAC1B+f,EAASF,EAAW7jB,EAAMiE,OAE1B6f,EAAS9jB,EAAMoE,WAAa2F,KAAKoR,IAAI2I,GAAU/Z,KAAKoR,IAAI4I,IAC1D/jB,EAAMmE,UAAW,EACjBqd,MACSsC,GAAU9jB,EAAMoE,WAAa2F,KAAKoR,IAAI2I,GAAU/Z,KAAKoR,IAAI4I,IAClE/jB,EAAMmE,UAAW,EACjBsd,MACSsC,EAAS/jB,EAAMoE,WACxBpE,EAAMmE,UAAW,EACjBud,MACSqC,GAAU/jB,EAAMoE,YACzBpE,EAAMmE,UAAW,EACjBwd,MAKEllB,EAAO8D,UACLP,EAAMmE,UAAY4T,GAAgB9Z,KACpC+I,EAAM4N,iBAKN5N,EAAM4N,mBAgBhB,SAAS/D,GAAW7J,GAClBhH,EAAMmE,UAAW,EASnB,SAASoM,GAAcvJ,GACjBA,EAAMgd,cAAgBhd,EAAMid,sBAA8C,UAAtBjd,EAAMgd,cAC5Dhd,EAAMyc,QAAU,CAAC,CACfC,QAAS1c,EAAM0c,QACfC,QAAS3c,EAAM2c,UAEjBhT,GAAa3J,IAUjB,SAASwJ,GAAcxJ,GACjBA,EAAMgd,cAAgBhd,EAAMid,sBAA8C,UAAtBjd,EAAMgd,cAC5Dhd,EAAMyc,QAAU,CAAC,CACfC,QAAS1c,EAAM0c,QACfC,QAAS3c,EAAM2c,UAEjB/S,GAAY5J,IAUhB,SAASyJ,GAAYzJ,GACfA,EAAMgd,cAAgBhd,EAAMid,sBAA8C,UAAtBjd,EAAMgd,cAC5Dhd,EAAMyc,QAAU,CAAC,CACfC,QAAS1c,EAAM0c,QACfC,QAAS3c,EAAM2c,UAEjB9S,MAWJ,SAASjC,GAAsB5H,GAC7B,GAAI4I,KAAKC,MAAQrM,EAAqB,IAAK,CACzCA,EAAqBoM,KAAKC,MAC1B,IAAIqU,EAAQld,EAAMmd,SAAWnd,EAAMod,WAE/BF,EAAQ,EACV5C,KACS4C,EAAQ,GACjBtC,MAcN,SAAS5Q,GAAkBhK,GACzB+a,KACA/a,EAAM4N,iBACN,IAAIyP,EAAcne,EAAQ9C,EAAIsC,QAAQS,iBAAiB5H,IAA6BnF,OAChFkrB,EAAava,KAAKC,MAAMhD,EAAM0c,QAAUtgB,EAAIsC,QAAQ4Q,YAAc+N,GAElE5nB,EAAOyD,MACTokB,EAAaD,EAAcC,GAG7B3Z,GAAM2Z,GAOR,SAAShT,GAAsBtK,GAC7BA,EAAM4N,iBACNmN,KAC0B,WAA1BtlB,EAAO0D,eAA8ByhB,KAAiBJ,KAGxD,SAASjQ,GAAuBvK,GAC9BA,EAAM4N,iBACNmN,KAC0B,WAA1BtlB,EAAO0D,eAA8BmhB,KAAiBG,KAGxD,SAASjQ,GAAoBxK,GAC3BA,EAAM4N,iBACNmN,KACAL,KAGF,SAASjQ,GAAsBzK,GAC7BA,EAAM4N,iBACNmN,KACAJ,KAGF,SAASjQ,GAAsB1K,GAC7BA,EAAM4N,iBACNmN,KACAH,KAGF,SAASjQ,GAAsB3K,GAC7BA,EAAM4N,iBACNmN,KACAT,KASF,SAASjR,GAAmBrJ,GAC1Bc,KASF,SAASwI,GAAetJ,GACtB7D,KASF,SAAS8N,GAAuBjK,IAIb,KAHF3O,SAASksB,cAAgBlsB,SAASmsB,UAAYnsB,SAASsoB,SAG5CtoB,SAASgqB,gBAAkBhqB,SAASO,OAEjB,mBAAhCP,SAASgqB,cAAcoC,MAChCpsB,SAASgqB,cAAcoC,OAGzBpsB,SAASO,KAAK8rB,SAUlB,SAAS3N,GAAuB/P,GAG9B,GAAIpD,GAAkB0R,KAAc,CAClCtO,EAAM4N,iBAGN,IAFA,IAAI7H,EAAU/F,EAAMzN,OAEbwT,IAAYA,EAAQ+I,SAAS3E,MAAM,cACxCpE,EAAUA,EAAQ5B,WAGhB4B,IAAYA,EAAQvH,UAAUgF,SAAS,cACzC6M,KAEItK,EAAQ+I,SAAS3E,MAAM,cAGzBxG,GAFQmB,SAASiB,EAAQzD,aAAa,gBAAiB,IAC/CwC,SAASiB,EAAQzD,aAAa,gBAAiB,OAc/D,SAAS8K,GAAqBpN,GAC5B,GAAIA,EAAM2d,eAAiB3d,EAAM2d,cAAchO,aAAa,QAAS,CACnE,IAAIvO,EAAMpB,EAAM2d,cAAcrb,aAAa,QAEvClB,IA1jGR,SAAqBA,GACnBoM,KACApR,EAAIqR,QAAUpc,SAASI,cAAc,OACrC2K,EAAIqR,QAAQjP,UAAUC,IAAI,WAC1BrC,EAAIqR,QAAQjP,UAAUC,IAAI,mBAC1BrC,EAAIsC,QAAQ1M,YAAYoK,EAAIqR,SAC5BrR,EAAIqR,QAAQhJ,UAAY,CAAC,WAAY,2DAA4D,6BAA+BrD,EAAM,mDAAoD,YAAa,8BAA+B,yBAA0B,gBAAkBA,EAAM,cAAe,iCAAkC,wHAAyH,WAAY,UAAU/L,KAAK,IAC7d+G,EAAIqR,QAAQnc,cAAc,UAAUyO,iBAAiB,QAAQ,SAAUC,GACrE5D,EAAIqR,QAAQjP,UAAUC,IAAI,aACzB,GACHrC,EAAIqR,QAAQnc,cAAc,UAAUyO,iBAAiB,SAAS,SAAUC,GACtEwN,KACAxN,EAAM4N,oBACL,GACHxR,EAAIqR,QAAQnc,cAAc,aAAayO,iBAAiB,SAAS,SAAUC,GACzEwN,QACC,GACHta,YAAW,WACTkJ,EAAIqR,QAAQjP,UAAUC,IAAI,aACzB,GAwiGCmf,CAAYxc,GACZpB,EAAM4N,mBAWZ,SAAS7E,GAAuB/I,GAE1BzK,EAAO8kB,gBAAiC,IAAhB5kB,EAAOwD,MACjC0K,GAAM,EAAG,GACT2N,MAEOvU,EACLuU,KAGEC,KAkBR,SAAS5I,GAASlD,EAAWoY,GAE3BhqB,KAAKiqB,SAAW,IAChBjqB,KAAKkqB,UAAYlqB,KAAKiqB,SAAW,EACjCjqB,KAAKmqB,UAAY,EAEjBnqB,KAAKoqB,SAAU,EAEfpqB,KAAKyE,SAAW,EAEhBzE,KAAKqqB,eAAiB,EACtBrqB,KAAK4R,UAAYA,EACjB5R,KAAKgqB,cAAgBA,EACrBhqB,KAAK4U,OAASpX,SAASI,cAAc,UACrCoC,KAAK4U,OAAOjY,UAAY,WACxBqD,KAAK4U,OAAO5Q,MAAQhE,KAAKiqB,SACzBjqB,KAAK4U,OAAO3Q,OAASjE,KAAKiqB,SAC1BjqB,KAAK4U,OAAO/X,MAAMmH,MAAQhE,KAAKkqB,UAAY,KAC3ClqB,KAAK4U,OAAO/X,MAAMoH,OAASjE,KAAKkqB,UAAY,KAC5ClqB,KAAKsqB,QAAUtqB,KAAK4U,OAAO2V,WAAW,MACtCvqB,KAAK4R,UAAUzT,YAAY6B,KAAK4U,QAChC5U,KAAKG,SA2RP,OApRA2U,GAASmC,UAAUyP,WAAa,SAAUrP,GACxC,IAAImT,EAAaxqB,KAAKoqB,QACtBpqB,KAAKoqB,QAAU/S,GAEVmT,GAAcxqB,KAAKoqB,QACtBpqB,KAAKyqB,UAELzqB,KAAKG,UAIT2U,GAASmC,UAAUwT,QAAU,WAC3B,IAAIC,EAAiB1qB,KAAKyE,SAC1BzE,KAAKyE,SAAWzE,KAAKgqB,gBAGjBU,EAAiB,IAAO1qB,KAAKyE,SAAW,KAC1CzE,KAAKqqB,eAAiBrqB,KAAKyE,UAG7BzE,KAAKG,SAEDH,KAAKoqB,SACP1hB,EAASiiB,4BAA4BxT,KAAKja,OAAQ8C,KAAKyqB,QAAQG,KAAK5qB,QAQxE8U,GAASmC,UAAU9W,OAAS,WAC1B,IAAIsE,EAAWzE,KAAKoqB,QAAUpqB,KAAKyE,SAAW,EAC1ComB,EAAS7qB,KAAKkqB,UAAYlqB,KAAKmqB,UAC/B/J,EAAIpgB,KAAKkqB,UACTnd,EAAI/M,KAAKkqB,UAGblqB,KAAKqqB,gBAA8C,IAA3B,EAAIrqB,KAAKqqB,gBACjC,IAAIS,GAAY5b,KAAK6b,GAAK,EAAItmB,GAAsB,EAAVyK,KAAK6b,IAC3CC,GAAc9b,KAAK6b,GAAK,EAAI/qB,KAAKqqB,gBAA4B,EAAVnb,KAAK6b,IAC5D/qB,KAAKsqB,QAAQW,OACbjrB,KAAKsqB,QAAQY,UAAU,EAAG,EAAGlrB,KAAKiqB,SAAUjqB,KAAKiqB,UAEjDjqB,KAAKsqB,QAAQa,YACbnrB,KAAKsqB,QAAQc,IAAIhL,EAAGrT,EAAG8d,EAAS,EAAG,EAAa,EAAV3b,KAAK6b,IAAQ,GACnD/qB,KAAKsqB,QAAQe,UAAY,uBACzBrrB,KAAKsqB,QAAQgB,OAEbtrB,KAAKsqB,QAAQa,YACbnrB,KAAKsqB,QAAQc,IAAIhL,EAAGrT,EAAG8d,EAAQ,EAAa,EAAV3b,KAAK6b,IAAQ,GAC/C/qB,KAAKsqB,QAAQiB,UAAYvrB,KAAKmqB,UAC9BnqB,KAAKsqB,QAAQkB,YAAc,6BAC3BxrB,KAAKsqB,QAAQmB,SAETzrB,KAAKoqB,UAEPpqB,KAAKsqB,QAAQa,YACbnrB,KAAKsqB,QAAQc,IAAIhL,EAAGrT,EAAG8d,EAAQG,EAAYF,GAAU,GACrD9qB,KAAKsqB,QAAQiB,UAAYvrB,KAAKmqB,UAC9BnqB,KAAKsqB,QAAQkB,YAAc,OAC3BxrB,KAAKsqB,QAAQmB,UAGfzrB,KAAKsqB,QAAQoB,UAAUtL,EAAIuL,GAAc5e,EAAI4e,IAEzC3rB,KAAKoqB,SACPpqB,KAAKsqB,QAAQe,UAAY,OACzBrrB,KAAKsqB,QAAQsB,SAAS,EAAG,EAAGD,GAhCf,IAiCb3rB,KAAKsqB,QAAQsB,SAASD,GAAkB,EAAGA,GAjC9B,MAmCb3rB,KAAKsqB,QAAQa,YACbnrB,KAAKsqB,QAAQoB,UAAU,EAAG,GAC1B1rB,KAAKsqB,QAAQuB,OAAO,EAAG,GACvB7rB,KAAKsqB,QAAQwB,OAAOH,GAAcA,IAClC3rB,KAAKsqB,QAAQwB,OAAO,EAvCP,IAwCb9rB,KAAKsqB,QAAQe,UAAY,OACzBrrB,KAAKsqB,QAAQgB,QAGftrB,KAAKsqB,QAAQyB,WAGfjX,GAASmC,UAAUhC,GAAK,SAAUxH,EAAMue,GACtChsB,KAAK4U,OAAO1I,iBAAiBuB,EAAMue,GAAU,IAG/ClX,GAASmC,UAAUgV,IAAM,SAAUxe,EAAMue,GACvChsB,KAAK4U,OAAOZ,oBAAoBvG,EAAMue,GAAU,IAGlDlX,GAASmC,UAAUtC,QAAU,WAC3B3U,KAAKoqB,SAAU,EAEXpqB,KAAK4U,OAAOtE,YACdtQ,KAAK4R,UAAUoI,YAAYha,KAAK4U,SAOpClT,EAAS,CACPwqB,QA97JY,QA+7JZvqB,WAvqJF,SAAoB8R,GAElB,IAAoB,IAAhB3L,EAIJ,GAHAA,GAAc,EAgDhB,WACExE,EAAiB,+BAA+BwH,KAAKjH,GACrDN,EAAW,UAAUuH,KAAKjH,KAAQ,QAAQiH,KAAKjH,GAC/C,IAAIsoB,EAAc3uB,SAASI,cAAc,OACzC8K,EAASmL,aAAe,sBAAuBsY,EAAYtvB,OAAS,mBAAoBsvB,EAAYtvB,OAAS,kBAAmBsvB,EAAYtvB,OAAS,iBAAkBsvB,EAAYtvB,OAAS,gBAAiBsvB,EAAYtvB,MACzN6L,EAAS0jB,aAAe,oBAAqBD,EAAYtvB,OAAS,iBAAkBsvB,EAAYtvB,OAAS,gBAAiBsvB,EAAYtvB,OAAS,eAAgBsvB,EAAYtvB,OAAS,cAAesvB,EAAYtvB,MAC/M6L,EAASiiB,4BAA8BztB,OAAO2X,uBAAyB3X,OAAOmvB,6BAA+BnvB,OAAOovB,yBACpH5jB,EAASmM,sBAAwE,mBAAzCnM,EAASiiB,4BACjDjiB,EAASkM,SAAWpX,SAASI,cAAc,UAAU2sB,WAGrD7hB,EAASsT,qBAAuB,2BAA2BlR,KAAKjH,GAIhE6E,EAAS4R,KAAO,SAAU6R,EAAYtvB,QAAUyG,IAAmBC,GAAY,2BAA2BuH,KAAKjH,IA9D/G0oB,GAEK7jB,EAAS0jB,cAAiB1jB,EAASmL,aAAxC,CAuBAtL,EAAIsC,QAAUrN,SAASC,cAAc,WACrC8K,EAAImC,OAASlN,SAASC,cAAc,mBAEpCP,OAAOgP,iBAAiB,OAAQ5D,IAAQ,GACxC,IA6CIkkB,EACAC,EA9CAC,EAAQhrB,EAAOirB,oBAGkB,IAA1BD,EAAoB,qBAA0BA,EAAoB,aAE7E/Y,EAAO/R,EAAQ6R,GACfE,EAAO/R,EAAQ8qB,GAuyCX9qB,EAAO0E,gBAAkBhD,IAE3BpG,OAAOgP,iBAAiB,OAAQ6M,IAAkB,GAClD7b,OAAOgP,iBAAiB,oBAAqB6M,IAAkB,IAnwC7DyT,EAAU,GACVC,EAAgB,EACpB7qB,EAAOiG,aAAayC,SAAQ,SAAUC,GAE/BA,EAAEqiB,YAAariB,EAAEqiB,cAChBriB,EAAEmD,MACJjF,EAAkBmY,KAAKrW,GAEvBiiB,EAAQ5L,KAAKrW,OAKfiiB,EAAQjuB,QACVkuB,EAAgBD,EAAQjuB,OAExBiuB,EAAQliB,SAAQ,SAAUC,GACxBC,EAAWD,EAAEE,KAAK,WACU,mBAAfF,EAAEJ,UAAyBI,EAAEJ,WAEhB,KAAlBsiB,GACJ/iB,WAKNA,QAlGF,CACElM,SAASO,KAAKF,aAAa,QAAS,iBAOpC,IAJA,IAAIgvB,EAASxhB,EAAQ7N,SAASya,qBAAqB,QAC/C6U,EAAUzhB,EAAQ7N,SAASya,qBAAqB,WAChD8U,EAAeF,EAAOhP,OAAOiP,GAExB9iB,EAAI,EAAGkK,EAAM6Y,EAAaxuB,OAAQyL,EAAIkK,EAAKlK,IAAK,CACvD,IAAIkI,EAAU6a,EAAa/iB,GAEvBkI,EAAQzD,aAAa,cACvByD,EAAQrU,aAAa,MAAOqU,EAAQzD,aAAa,aACjDyD,EAAQK,gBAAgB,gBAqpJ9BvF,UAAWA,EACXqI,KAAMA,GACN2X,UAx7EF,SAAmBld,GAGjBwC,EADAxC,EAAQA,GAAS1M,GAEjBsc,GAAc5P,GACd5C,KACA2R,KACA0B,GAAUzQ,IAk7EV4P,cAAeA,GAEf5P,MAAOA,GACP5T,KAAMyqB,GACN1qB,MAAO2qB,GACPxF,GAAIyF,GACJxF,KAAMyF,GACNxF,KAAMyF,GACNxF,KAAMkF,GAENtI,iBAAkBA,GAClB8O,aAAc/G,GACdD,aAAcA,GAEdiH,WAAYpd,GACZ6W,aAAcA,GACdC,cAAeA,GACfC,WAAYA,GACZC,aAAcA,GACdC,aAAcA,GACdN,aAAcA,GAEdne,OAAQA,GAER/C,QAASA,GAET2b,gBAAiBA,GAEjBC,mBAAoBA,GAEpB3H,WAAYA,GAEZkD,eAAgBA,GAEhBY,YAAaA,GAEbE,gBAAiBA,GAEjB/C,WAAYA,GACZ8C,SAAUA,GACV4P,cAzqFF,WACE,SAAUnnB,GAAckD,IAyqFxBkM,eAAgBA,GAEhBmL,UAAWA,GACXC,YAAaA,GAEblL,kBAAmBA,EACnBzT,qBAAsBA,EAEtByX,SAAUA,GACVha,SAtoCF,SAAkBO,GAChB,GAAqB,iBAAVA,EAAoB,CAC7BiQ,GAAMsH,GAAYvX,EAAMoD,QAASmU,GAAYvX,EAAMqD,QAASkU,GAAYvX,EAAM+c,SAC9E,IAAIwQ,EAAahW,GAAYvX,EAAMylB,QAC/B+H,EAAejW,GAAYvX,EAAMmF,UAEX,kBAAfooB,GAA4BA,IAAe7P,MACpDD,GAAY8P,GAGc,kBAAjBC,GAA8BA,IAAiB5S,MACxDiC,GAAe2Q,KA6nCnBxM,kBAAmBA,GAEnBH,YAAaA,GAEb5D,WAAYA,GAEZsI,UAAWA,GAGXkI,oBArwCF,WACE,OAAOlI,KAAY/jB,KAAI,SAAUyO,GAG/B,IAFA,IAAIyd,EAAa,GAERvjB,EAAI,EAAGA,EAAI8F,EAAMyd,WAAWhvB,OAAQyL,IAAK,CAChD,IAAIwjB,EAAY1d,EAAMyd,WAAWvjB,GACjCujB,EAAWC,EAAU7I,MAAQ6I,EAAUnW,MAGzC,OAAOkW,MA8vCTzM,eAAgBA,GAEhBuE,SAAUA,GAEVzB,mBAAoBA,GAEpBnT,cAAeA,GAEfgd,iBAAkB,WAChB,OAAOtqB,GAGTuqB,gBAAiB,WACf,OAAOtqB,GAGTuqB,SAAU,WACR,OAAOvlB,GAGTwlB,UAAW,WACT,OAAOhsB,GAGT+qB,aAAc,WACZ,IAAID,EAAQ,GAKZ,IAAK,IAAI1iB,KAJT6O,SAASC,OAAO3G,QAAQ,4BAA4B,SAAUkB,GAC5DqZ,EAAMrZ,EAAEjS,MAAM,KAAKysB,SAAWxa,EAAEjS,MAAM,KAAKod,SAG/BkO,EAAO,CACnB,IAAIrV,EAAQqV,EAAM1iB,GAClB0iB,EAAM1iB,GAAKoN,GAAY0W,SAASzW,IAGlC,OAAOqV,GAGTqB,iBAAkB,WAChB,OAAOxlB,EAAIsC,SAAWrN,SAASC,cAAc,YAG/CuwB,WAAY,WACV,OAAOxlB,GAGTylB,aAAc,WACZ,OAAkB,IAAXhrB,GAA2B,IAAXC,GAGzBsjB,YAAa,WACX,SAAIpjB,GAEEA,EAAalF,oBAEbgf,GAAgB9Z,IAAiBA,EAAakN,WAAWpS,qBAQjE8oB,oBAAqB,WACnB,SAAI5jB,IAAgB8Z,GAAgB9Z,IAE9BA,EAAalF,qBAOrBgwB,QAAS,WACP,OAAOnmB,GAGTmE,iBAAkB,SAA0BuB,EAAMue,EAAUmC,GACtD,qBAAsBjxB,QACxBwE,EAAOqsB,mBAAmB7hB,iBAAiBuB,EAAMue,EAAUmC,IAG/Dna,oBAAqB,SAA6BvG,EAAMue,EAAUmC,GAC5D,qBAAsBjxB,QACxBwE,EAAOqsB,mBAAmB/Z,oBAAoBvG,EAAMue,EAAUmC,IAIlEC,cAzxHF,SAAuBtU,EAAS3P,GACP,iBAAZ2P,GAAwBA,EAAQuN,QACzC5d,EAAsBqQ,EAAQuN,SAAW,CACvCld,SAAUA,EACV0P,IAAKC,EAAQD,IACbnX,YAAaoX,EAAQpX,aAGvB+G,EAAsBqQ,GAAW,CAC/B3P,SAAUA,EACV0P,IAAK,KACLnX,YAAa,OA+wHjB2rB,iBAtwHF,SAA0BhH,UACjB5d,EAAsB4d,IAuwH7BiH,eAn0HF,SAAwBrxB,EAAIgN,QACN+S,IAAhBxU,EAAQvL,IACVuL,EAAQvL,GAAMgN,EAGVlC,GAAiC,mBAAhBkC,EAAOC,MAC1BD,EAAOC,QAGTqkB,QAAQC,KAAK,eAAiBvxB,EAAK,yCA2zHrCwxB,UAjzHF,SAAmBxxB,GACjB,QAASuL,EAAQvL,IAizHjByxB,UAvyHF,SAAmBzxB,GACjB,OAAOuL,EAAQvL,IAwyHf0xB,WAAY,SAAoBtH,GAC9BpR,GAAkB,CAChBoR,QAASA,KAIbuH,yBAA0B,SAAkC/U,EAAKxC,GAC/D7N,EAAkBqQ,GAAOxC,IAvnKXwX,GACP7rB,EAAKtB,QACb,+B,oBC5CL,IAAIotB,EAAU,EAAQ,GAEtBA,EAAQA,EAAQC,EAAG,QAAS,CAAEzD,KAAM,EAAQ,OAE5C,EAAQ,GAAR,CAAiC,S,iCCHjC,IAAI0D,EAAW,EAAQ,IACnBC,EAAkB,EAAQ,KAC1BC,EAAW,EAAQ,IACvBC,EAAOC,QAAU,SAAc/X,GAO7B,IANA,IAAIgY,EAAIL,EAAShvB,MACbzB,EAAS2wB,EAASG,EAAE9wB,QACpB+wB,EAAOC,UAAUhxB,OACjBqhB,EAAQqP,EAAgBK,EAAO,EAAIC,UAAU,QAAKvS,EAAWze,GAC7DixB,EAAMF,EAAO,EAAIC,UAAU,QAAKvS,EAChCyS,OAAiBzS,IAARwS,EAAoBjxB,EAAS0wB,EAAgBO,EAAKjxB,GACxDkxB,EAAS7P,GAAOyP,EAAEzP,KAAWvI,EACpC,OAAOgY,I,iCCZT,IAAIK,EAAS,EAAQ,GACjBC,EAAM,EAAQ,IACdC,EAAM,EAAQ,IACdC,EAAoB,EAAQ,KAC5BC,EAAc,EAAQ,IACtBC,EAAQ,EAAQ,IAChBC,EAAO,EAAQ,IAAkBjT,EACjCkT,EAAO,EAAQ,IAAkBlT,EACjCmT,EAAK,EAAQ,IAAgBnT,EAC7BoT,EAAQ,EAAQ,KAAkBC,KAElCC,EAAUX,EAAa,OACvBY,EAAOD,EACPE,EAAQF,EAAQpZ,UAEhBuZ,EALS,UAKIZ,EAAI,EAAQ,GAAR,CAA4BW,IAC7CE,EAAO,SAAUC,OAAOzZ,UAGxB0Z,EAAW,SAAUC,GACvB,IAAIC,EAAKf,EAAYc,GAAU,GAC/B,GAAiB,iBAANC,GAAkBA,EAAGtyB,OAAS,EAAG,CAE1C,IACIuyB,EAAOC,EAAOC,EADdC,GADJJ,EAAKJ,EAAOI,EAAGT,OAASD,EAAMU,EAAI,IACnBK,WAAW,GAE1B,GAAc,KAAVD,GAA0B,KAAVA,GAElB,GAAc,MADdH,EAAQD,EAAGK,WAAW,KACQ,MAAVJ,EAAe,OAAOK,SACrC,GAAc,KAAVF,EAAc,CACvB,OAAQJ,EAAGK,WAAW,IACpB,KAAK,GAAI,KAAK,GAAIH,EAAQ,EAAGC,EAAU,GAAI,MAC3C,KAAK,GAAI,KAAK,IAAKD,EAAQ,EAAGC,EAAU,GAAI,MAC5C,QAAS,OAAQH,EAEnB,IAAK,IAAoDO,EAAhDC,EAASR,EAAG3Z,MAAM,GAAIlN,EAAI,EAAGsnB,EAAID,EAAO9yB,OAAcyL,EAAIsnB,EAAGtnB,IAIpE,IAHAonB,EAAOC,EAAOH,WAAWlnB,IAGd,IAAMonB,EAAOJ,EAAS,OAAOG,IACxC,OAAOlgB,SAASogB,EAAQN,IAE5B,OAAQF,GAGZ,IAAKR,EAAQ,UAAYA,EAAQ,QAAUA,EAAQ,QAAS,CAC1DA,EAAU,SAAgBhZ,GACxB,IAAIwZ,EAAKtB,UAAUhxB,OAAS,EAAI,EAAI8Y,EAChCka,EAAOvxB,KACX,OAAOuxB,aAAgBlB,IAEjBG,EAAaT,GAAM,WAAcQ,EAAMiB,QAAQra,KAAKoa,MAxCjD,UAwC6D3B,EAAI2B,IACpE1B,EAAkB,IAAIS,EAAKK,EAASE,IAAMU,EAAMlB,GAAWM,EAASE,IAE5E,IAAK,IAMgBhX,EANZhQ,EAAO,EAAQ,IAAoBmmB,EAAKM,GAAQ,6KAMvDlvB,MAAM,KAAMkd,EAAI,EAAQzU,EAAKtL,OAAS+f,EAAGA,IACrCqR,EAAIW,EAAMzW,EAAMhQ,EAAKyU,MAAQqR,EAAIU,EAASxW,IAC5CqW,EAAGG,EAASxW,EAAKoW,EAAKK,EAAMzW,IAGhCwW,EAAQpZ,UAAYsZ,EACpBA,EAAMkB,YAAcpB,EACpB,EAAQ,GAAR,CAAuBX,EAxDZ,SAwD4BW,K,oBCnEzC,IAAIhvB,EAAM,CACT,cAAe,IACf,cAAe,IACf,cAAe,IACf,eAAgB,IAChB,aAAc,IACd,cAAe,IACf,cAAe,IACf,eAAgB,IAChB,YAAa,IACb,kBAAmB,IACnB,cAAe,KAIhB,SAASqwB,EAAeC,GACvB,IAAI10B,EAAK20B,EAAsBD,GAC/B,OAAOE,EAAoB50B,GAE5B,SAAS20B,EAAsBD,GAC9B,IAAIE,EAAoB9a,EAAE1V,EAAKswB,GAAM,CACpC,IAAIG,EAAI,IAAI9jB,MAAM,uBAAyB2jB,EAAM,KAEjD,MADAG,EAAEV,KAAO,mBACHU,EAEP,OAAOzwB,EAAIswB,GAEZD,EAAe7nB,KAAO,WACrB,OAAOD,OAAOC,KAAKxI,IAEpBqwB,EAAeK,QAAUH,EACzBzC,EAAOC,QAAUsC,EACjBA,EAAez0B,GAAK,K,kBChCpB,SAAS+0B,EAAoBL,GAC5B,IAAIG,EAAI,IAAI9jB,MAAM,uBAAyB2jB,EAAM,KAEjD,MADAG,EAAEV,KAAO,mBACHU,EAEPE,EAAoBnoB,KAAO,WAAa,MAAO,IAC/CmoB,EAAoBD,QAAUC,EAC9B7C,EAAOC,QAAU4C,EACjBA,EAAoB/0B,GAAK,K,oBCRzB,IAAIoE,EAAM,CACT,kBAAmB,IACnB,mBAAoB,IACpB,oBAAqB,IACrB,sBAAuB,IACvB,6BAA8B,IAC9B,uBAAwB,IACxB,uBAAwB,IACxB,cAAe,KAIhB,SAASqwB,EAAeC,GACvB,IAAI10B,EAAK20B,EAAsBD,GAC/B,OAAOE,EAAoB50B,GAE5B,SAAS20B,EAAsBD,GAC9B,IAAIE,EAAoB9a,EAAE1V,EAAKswB,GAAM,CACpC,IAAIG,EAAI,IAAI9jB,MAAM,uBAAyB2jB,EAAM,KAEjD,MADAG,EAAEV,KAAO,mBACHU,EAEP,OAAOzwB,EAAIswB,GAEZD,EAAe7nB,KAAO,WACrB,OAAOD,OAAOC,KAAKxI,IAEpBqwB,EAAeK,QAAUH,EACzBzC,EAAOC,QAAUsC,EACjBA,EAAez0B,GAAK","file":"component---src-templates-note-tsx-6be7be60d5b38edbc8eb.js","sourcesContent":["export enum Theme {\r\n  BEIGE = \"beige\",\r\n  BLACK = \"black\",\r\n  BLOOD = \"blood\",\r\n  LEAGUE = \"league\",\r\n  MOON = \"moon\",\r\n  NIGHT = \"night\",\r\n  SERIF = \"serif\",\r\n  SIMPLE = \"simple\",\r\n  SKY = \"sky\",\r\n  SOLARIZED = \"solarized\",\r\n  WHITE = \"white\",\r\n}\r\n\r\nexport interface Config {\r\n  /**\r\n   * Display presentation control arrows\r\n   * @default true\r\n   */\r\n  controls?: boolean\r\n\r\n  /**\r\n   * Help the user learn the controls by providing hints, for example by\r\n   * bouncing the down arrow when they first encounter a vertical slide\r\n   * @default true\r\n   */\r\n  controlsTutorial?: boolean\r\n\r\n  /**\r\n   * Determines where controls appear, \"edges\" or \"bottom-right\"\r\n   * @default 'bottom-right'\r\n   */\r\n  //\r\n  controlsLayout?: \"bottom-right\" | \"edges\"\r\n\r\n  /**\r\n   * Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\r\n   * or \"visible\"\r\n   * @default 'faded'\r\n   */\r\n  controlsBackArrows?: \"faded\" | \"hidden\" | \"visible\"\r\n\r\n  /**\r\n   * Display a presentation progress bar\r\n   * @default true\r\n   */\r\n  progress?: boolean\r\n\r\n  /**\r\n   * Display the page number of the current slide\r\n   * @default false\r\n   */\r\n  slideNumber?: boolean\r\n\r\n  /**\r\n   * Add the current slide number to the URL hash so that reloading the\r\n   * page/copying the URL will return you to the same slide\r\n   * @default false\r\n   */\r\n  hash?: boolean\r\n\r\n  /**\r\n   * Push each slide change to the browser history. Implies `hash: true`\r\n   * @default false\r\n   */\r\n  history?: boolean\r\n\r\n  /**\r\n   * Enable keyboard shortcuts for navigation\r\n   * @default true\r\n   */\r\n  keyboard?: boolean\r\n\r\n  /**\r\n   * Enable the slide overview mode\r\n   * @default true\r\n   */\r\n  overview?: boolean\r\n\r\n  /**\r\n   * Vertical centering of slides\r\n   * @default true\r\n   */\r\n  center?: boolean\r\n\r\n  /**\r\n   * Enables touch navigation on devices with touch input\r\n   * @default true\r\n   */\r\n  touch?: boolean\r\n\r\n  /**\r\n   * Loop the presentation\r\n   * @default false\r\n   */\r\n  loop?: boolean\r\n\r\n  /**\r\n   * Change the presentation direction to be RTL\r\n   * @default false\r\n   */\r\n  rtl?: boolean\r\n\r\n  /**\r\n   * See https://github.com/hakimel/reveal.js/#navigation-mode\r\n   * @default 'default'\r\n   */\r\n  navigationMode?: \"default\"\r\n\r\n  /**\r\n   * Randomizes the order of slides each time the presentation loads\r\n   * @default false\r\n   */\r\n  shuffle?: boolean\r\n\r\n  /**\r\n   * Turns fragments on and off globally\r\n   * @default true\r\n   */\r\n  fragments?: boolean\r\n\r\n  /**\r\n   * Flags whether to include the current fragment in the URL,\r\n   * so that reloading brings you to the same fragment position\r\n   * @default false\r\n   */\r\n  fragmentInURL?: boolean\r\n\r\n  /**\r\n   * Flags if the presentation is running in an embedded mode,\r\n   * i.e. contained within a limited portion of the screen\r\n   * @default false\r\n   */\r\n  embedded?: boolean\r\n\r\n  /**\r\n   * Flags if we should show a help overlay when the questionmark\r\n   * key is pressed\r\n   * @default true\r\n   */\r\n  help?: boolean\r\n\r\n  /**\r\n   * Flags if speaker notes should be visible to all viewers\r\n   * @default false\r\n   */\r\n  showNotes?: boolean\r\n\r\n  /**\r\n   * Global override for autoplaying embedded media (video/audio/iframe)\r\n   * - null: Media will only autoplay if data-autoplay is present\r\n   * - true: All media will autoplay, regardless of individual setting\r\n   * - false: No media will autoplay, regardless of individual setting\r\n   * @default null\r\n   */\r\n  autoPlayMedia?: boolean | null\r\n\r\n  /**\r\n   * Global override for preloading lazy-loaded iframes\r\n   * - null: Iframes with data-src AND data-preload will be loaded when within\r\n   *    the viewDistance, iframes with only data-src will be loaded when visible\r\n   * - true: All iframes with data-src will be loaded when within the viewDistance\r\n   * - false: All iframes with data-src will be loaded only when visible\r\n   * @default null\r\n   */\r\n  preloadIframes?: boolean | null\r\n\r\n  /**\r\n   * Number of milliseconds between automatically proceeding to the\r\n   * next slide, disabled when set to 0, this value can be overwritten\r\n   * by using a data-autoslide attribute on your slides\r\n   * @default 0\r\n   */\r\n  autoSlide?: number\r\n\r\n  /**\r\n   * Stop auto-sliding after user input\r\n   * @default true\r\n   */\r\n  autoSlideStoppable?: boolean\r\n\r\n  /**\r\n   * Use this method for navigation when auto-sliding\r\n   * @default `Reveal.navigateNext`\r\n   */\r\n  autoSlideMethod?: string // Reveal.navigateNext\r\n\r\n  /**\r\n   * Specify the average time in seconds that you think you will spend\r\n   * presenting each slide. This is used to show a pacing timer in the\r\n   * speaker view\r\n   * @default 120\r\n   */\r\n  defaultTiming?: number\r\n\r\n  /**\r\n   * Enable slide navigation via mouse wheel\r\n   * @default false\r\n   */\r\n  mouseWheel?: boolean\r\n\r\n  /**\r\n   * Hide cursor if inactive\r\n   * @default true\r\n   */\r\n  hideInactiveCursor?: boolean\r\n\r\n  /**\r\n   * Time before the cursor is hidden (in ms)\r\n   * @default 5000\r\n   */\r\n  hideCursorTime?: number\r\n\r\n  /**\r\n   * Hides the address bar on mobile devices\r\n   * @default true\r\n   */\r\n  hideAddressBar?: boolean\r\n\r\n  /**\r\n   * Opens links in an iframe preview overlay\r\n   * Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\r\n   * individually\r\n   * @default false\r\n   */\r\n  previewLinks?: boolean\r\n\r\n  /**\r\n   * Transition style\r\n   * @default 'slide'\r\n   */\r\n  transition?: \"none\" | \"fade\" | \"slide\" | \"convex\" | \"concave\" | \"zoom\"\r\n\r\n  /**\r\n   * Transition speed\r\n   * @default 'default'\r\n   */\r\n  transitionSpeed?: \"default\" | \"fast\" | \"slow\"\r\n\r\n  /**\r\n   * Transition style for full page slide backgrounds\r\n   * @default 'fade'\r\n   */\r\n  backgroundTransition?:\r\n    | \"none\"\r\n    | \"fade\"\r\n    | \"slide\"\r\n    | \"convex\"\r\n    | \"concave\"\r\n    | \"zoom\"\r\n\r\n  /**\r\n   * Number of slides away from the current that are visible\r\n   * @default 3\r\n   */\r\n  viewDistance?: number\r\n\r\n  /**\r\n   * Parallax background image\r\n   * e.g. \"'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'\"\r\n   * @default \"\"\r\n   */\r\n  parallaxBackgroundImage?: string\r\n\r\n  /**\r\n   * Parallax background size\\\r\n   * CSS syntax, e.g. \"2100px 900px\"\r\n   * @default \"\"\r\n   */\r\n  parallaxBackgroundSize?: string\r\n\r\n  /**\r\n   * Number of pixels to move the parallax background per slide\r\n   * - Calculated automatically unless specified\r\n   * - Set to 0 to disable movement along an axis\r\n   * @default null\r\n   */\r\n  parallaxBackgroundHorizontal?: number\r\n\r\n  /**\r\n   * Number of pixels to move the parallax background per slide\r\n   * - Calculated automatically unless specified\r\n   * - Set to 0 to disable movement along an axis\r\n   * @default null\r\n   */\r\n  parallaxBackgroundVertical?: number\r\n\r\n  /**\r\n   * The display mode that will be used to show slides\r\n   * @default 'block'\r\n   */\r\n  display?: string\r\n}\r\n","import React from \"react\"\r\n\r\nexport enum LoaderLabelPosition {\r\n  \"top\",\r\n  \"right\",\r\n  \"left\",\r\n}\r\n\r\nexport enum LoaderSize {\r\n  \"xs\",\r\n  \"sm\",\r\n  \"md\",\r\n  \"lg\",\r\n}\r\n\r\nexport interface RootStyleProps {\r\n  labelPosition: LoaderLabelPosition\r\n}\r\n\r\nexport interface CircleStyleProps {\r\n  /**\r\n   * Determines how big the loading indicator is\r\n   */\r\n  size: LoaderSize\r\n\r\n  /**\r\n   * color of the piece that rotates\r\n   * @default 'black'\r\n   */\r\n  color?: string\r\n\r\n  /**\r\n   * Color of the circle\r\n   * @default 'lightgray'\r\n   */\r\n  secondaryColor?: string\r\n}\r\n\r\nexport interface LoaderProps {\r\n  /**\r\n   * Determines which direction the label is\r\n   * in relation to the spinner\r\n   */\r\n  labelPosition?: LoaderLabelPosition\r\n\r\n  /**\r\n   * Size of the loading spinner\r\n   */\r\n  size?: LoaderSize\r\n\r\n  /**\r\n   * Label text\r\n   */\r\n  label?: string | React.ReactNode\r\n\r\n  /**\r\n   * Invert the color scheme\r\n   */\r\n  inverted?: boolean\r\n\r\n  className?: string\r\n  style?: React.CSSProperties\r\n}\r\n","import styled from \"@emotion/styled\"\r\nimport { css, keyframes } from \"@emotion/core\"\r\nimport {\r\n  RootStyleProps,\r\n  CircleStyleProps,\r\n  LoaderLabelPosition,\r\n  LoaderSize,\r\n} from \"./Loader.types\"\r\n\r\nconst spinAnimation = keyframes({\r\n  \"0%\": {\r\n    transform: \"rotate(0deg)\",\r\n  },\r\n  \"100%\": {\r\n    transform: \"rotate(360deg)\",\r\n  },\r\n})\r\n\r\nexport const Label = styled.div<{ color?: \"string\" }>`\r\n  color: ${({ color }) => color || \"black\"};\r\n  margin: 1rem 0 0;\r\n  text-align: center;\r\n`\r\n\r\nexport const Root = styled.div<RootStyleProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  flex-direction: ${({ labelPosition }) => {\r\n    switch (labelPosition) {\r\n      case LoaderLabelPosition.top:\r\n        return \"column-reverse\"\r\n      case LoaderLabelPosition.right:\r\n        return \"row\"\r\n      case LoaderLabelPosition.left:\r\n        return \"row-reverse\"\r\n      default:\r\n        return \"column\"\r\n    }\r\n  }};\r\n\r\n  ${Label} {\r\n    margin: ${({ labelPosition }) => {\r\n      switch (labelPosition) {\r\n        case LoaderLabelPosition.top:\r\n          return \"0 0 1rem\"\r\n        case LoaderLabelPosition.right:\r\n          return \"0 0 0 1rem\"\r\n        case LoaderLabelPosition.left:\r\n          return \"0 1rem 0 0\"\r\n        default:\r\n          return \"1rem 0 0\"\r\n      }\r\n    }};\r\n  }\r\n`\r\n\r\nexport const Circle = styled.div<CircleStyleProps>`\r\n  border-radius: 50%;\r\n  /* Circular part (background color) */\r\n  border: 1.5px solid ${({ secondaryColor }) => secondaryColor || \"lightgray\"};\r\n  /* Spinning part (animated portion of the circle) */\r\n  border-top-color: ${({ color }) => color || \"black\"};\r\n  animation-name: ${spinAnimation};\r\n  animation-duration: 1.3s;\r\n  animation-iteration-count: infinite;\r\n  animation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67);\r\n  ${({ size }) => {\r\n    switch (size) {\r\n      case LoaderSize.xs:\r\n        return css`\r\n          width: 12px;\r\n          height: 12px;\r\n        `\r\n      case LoaderSize.sm:\r\n        return css`\r\n          width: 16px;\r\n          height: 16px;\r\n        `\r\n      case LoaderSize.md:\r\n        return css`\r\n          width: 20px;\r\n          height: 20px;\r\n        `\r\n      case LoaderSize.lg:\r\n        return css`\r\n          width: 28px;\r\n          height: 28px;\r\n        `\r\n    }\r\n  }};\r\n`\r\n","import React from \"react\"\r\n\r\nimport { Root, Circle, Label } from \"./Loader.styles\"\r\n\r\nimport { LoaderProps, LoaderSize } from \"./Loader.types\"\r\n\r\nexport const Loader: React.SFC<LoaderProps> = ({\r\n  className,\r\n  labelPosition,\r\n  label,\r\n  size = LoaderSize.sm,\r\n  style,\r\n  inverted,\r\n}) => (\r\n  <Root\r\n    style={style}\r\n    className={className}\r\n    labelPosition={labelPosition}\r\n    aria-label=\"Loading\"\r\n  >\r\n    <Circle size={size} inverted={inverted} />\r\n    {label && <Label>{label}</Label>}\r\n  </Root>\r\n)\r\n","/**\r\n * @source https://www.jayfreestone.com/writing/react-portals-with-hooks/\r\n */\r\nimport { useRef, useEffect } from \"react\"\r\n\r\nfunction createRootElement(id: string): Element {\r\n  const rootContainer = document.createElement(\"div\")\r\n  rootContainer.setAttribute(\"id\", id)\r\n  return rootContainer\r\n}\r\n\r\nfunction addRootElement(rootElem: Element) {\r\n  document.body.insertBefore(\r\n    rootElem,\r\n    document.body.lastElementChild.nextElementSibling\r\n  )\r\n}\r\n\r\nfunction usePortal(id: string): Element {\r\n  if (typeof window === \"undefined\") return\r\n\r\n  const rootElemRef = useRef(null)\r\n\r\n  useEffect(function setupElement() {\r\n    const existingParent = document.querySelector(`#${id}`)\r\n    const parentElem = existingParent || createRootElement(id)\r\n\r\n    if (!existingParent) {\r\n      addRootElement(parentElem)\r\n    }\r\n\r\n    parentElem.appendChild(rootElemRef.current)\r\n\r\n    return function removeElement() {\r\n      rootElemRef.current.remove()\r\n      if (parentElem.childNodes.length === -1) {\r\n        parentElem.remove()\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  /**\r\n   * @link https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily\r\n   */\r\n  function getRootElem() {\r\n    if (!rootElemRef.current) {\r\n      rootElemRef.current = document.createElement(\"div\")\r\n    }\r\n    return rootElemRef.current\r\n  }\r\n\r\n  return getRootElem()\r\n}\r\n\r\nexport default usePortal\r\n","import React from \"react\"\r\nimport { createPortal } from \"react-dom\"\r\nimport usePortal from \"./usePortal\"\r\n\r\ninterface PortalProps {\r\n  id: string\r\n}\r\n\r\nconst Portal: React.SFC<PortalProps> = ({ id, children }) => {\r\n  const target = usePortal(id)\r\n  if (target) return createPortal(children, target)\r\n  else return <>{children}</>\r\n}\r\n\r\nexport default Portal\r\n","import React from \"react\"\r\nimport { LoaderSize, LoaderProps } from \"./Loader.types\"\r\nimport styled from \"@emotion/styled\"\r\n\r\nimport { Loader } from \"./Loader\"\r\nimport Portal from \"../Portal\"\r\n\r\ninterface OverlayProps {\r\n  isOpaque: boolean\r\n  transitionDuration: number\r\n}\r\n\r\nconst Overlay = styled.div<OverlayProps>`\r\n  z-index: 10;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: white;\r\n  transition: opacity ${({ transitionDuration }) => transitionDuration}ms;\r\n  opacity: ${({ isOpaque }) => (isOpaque ? 1 : 0)};\r\n`\r\n\r\ninterface PageLoaderProps {\r\n  children?: React.ReactNode\r\n  /**\r\n   * Whether loading is active\r\n   */\r\n  isLoading?: boolean\r\n\r\n  /**\r\n   * @default 500\r\n   */\r\n  transitionLag?: number\r\n\r\n  /**\r\n   * @default 250\r\n   */\r\n  transitionDuration?: number\r\n\r\n  loaderProps: LoaderProps\r\n}\r\n\r\ninterface PageLoaderState {\r\n  isLoading: boolean\r\n  isTransition: boolean\r\n}\r\n\r\nexport class PageLoader extends React.Component<\r\n  PageLoaderProps,\r\n  PageLoaderState\r\n> {\r\n  static defaultProps: Partial<PageLoaderProps> = {\r\n    transitionLag: 500,\r\n    transitionDuration: 250,\r\n  }\r\n  private transitionLag: number\r\n  private transitionDelay: number\r\n  private overlayRef: React.RefObject<HTMLDivElement>\r\n\r\n  constructor(props: PageLoaderProps) {\r\n    super(props)\r\n\r\n    this.overlayRef = React.createRef()\r\n\r\n    this.state = {\r\n      isLoading: props.isLoading,\r\n      isTransition: false,\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: PageLoaderProps) {\r\n    const { isLoading, transitionLag } = this.props\r\n    if (transitionLag && prevProps.isLoading !== isLoading) {\r\n      this.toggleLoadingLag(transitionLag, isLoading)\r\n    }\r\n  }\r\n\r\n  toggleLoadingLag = (delay: number, isLoading: boolean) => {\r\n    // @ts-ignore 🙄\r\n    this.transitionLag = setTimeout(\r\n      () =>\r\n        this.setState({ isLoading, isTransition: true }, this.stopTransition),\r\n      delay\r\n    )\r\n  }\r\n\r\n  stopTransition = () => {\r\n    // @ts-ignore 🙄\r\n    this.transitionDelay = setTimeout(\r\n      () => this.setState({ isTransition: false }),\r\n      this.props.transitionDuration\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.transitionLag)\r\n    clearTimeout(this.transitionDelay)\r\n  }\r\n\r\n  render() {\r\n    const { children, transitionDuration, loaderProps } = this.props\r\n    const { isLoading, isTransition } = this.state\r\n\r\n    const shouldUseLoader = isLoading || !children\r\n    const showLoader = isTransition || shouldUseLoader\r\n\r\n    return (\r\n      <>\r\n        {children}\r\n        {showLoader && (\r\n          <Portal id=\"loader\">\r\n            <Overlay\r\n              ref={this.overlayRef}\r\n              isOpaque={isLoading}\r\n              transitionDuration={transitionDuration}\r\n            >\r\n              <Loader size={LoaderSize.lg} {...loaderProps} />\r\n            </Overlay>\r\n          </Portal>\r\n        )}\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport { Theme, Config } from \"./Reveal.types\"\r\nimport { css } from \"@emotion/core\"\r\n\r\nimport { PageLoader } from \"../Loader\"\r\n\r\nconst katexCss = require(`katex/dist/katex.min.css`)\r\nconst revealCss = require(\"reveal.js/css/reveal.css\")\r\n\r\ninterface RevealerProps {\r\n  config?: Config\r\n  html: string\r\n  separator?: string\r\n  separatorVertical?: string\r\n  separatorNotes?: string\r\n  theme?: Theme\r\n}\r\n\r\ninterface RevealerState {\r\n  isLoading: boolean\r\n}\r\n\r\n/**\r\n * @todo: write `notes` plugin for react\r\n * https://github.com/hakimel/reveal.js/tree/master/plugin/notes\r\n * https://stackoverflow.com/questions/47574490/open-a-component-in-new-window-on-a-click-in-react?rq=1\r\n */\r\nclass Revealer extends React.Component<RevealerProps, RevealerState> {\r\n  Reveal: any\r\n\r\n  static defaultProps: Partial<RevealerProps> = {\r\n    theme: Theme.WHITE,\r\n    config: {\r\n      hash: true,\r\n    },\r\n  }\r\n\r\n  constructor(props: RevealerProps) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (typeof window !== \"undefined\") {\r\n      this.Reveal = require(\"reveal.js\")\r\n      this.Reveal.initialize(this.props.config)\r\n    }\r\n\r\n    this.setState({\r\n      isLoading: false,\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.Reveal.removeEventListeners()\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state\r\n    const { html, separator, separatorVertical } = this.props\r\n\r\n    const themeCss = require(`reveal.js/css/theme/${this.props.theme}.css`)\r\n    return (\r\n      <article\r\n        css={css`\r\n          ${revealCss}\r\n          ${katexCss}\r\n\r\n          .reveal {\r\n            height: 100vh !important;\r\n            overflow: hidden;\r\n\r\n            .gatsby-highlight-code-line {\r\n              background-color: rgba(0, 0, 0, 0.5);\r\n              display: block;\r\n              /* margin-right: -1em; */\r\n              margin-left: -1em;\r\n              padding-right: 1em;\r\n              padding-left: 0.75em;\r\n              border-left: 0.25em solid rgba(255, 255, 255, 0.5);\r\n            }\r\n\r\n            ${themeCss}}\r\n          }\r\n        `}\r\n      >\r\n        <PageLoader isLoading={isLoading}>\r\n          <div className=\"reveal\">\r\n            {this.renderHtml({\r\n              html,\r\n              separator,\r\n              separatorVertical,\r\n            })}\r\n          </div>\r\n        </PageLoader>\r\n      </article>\r\n    )\r\n  }\r\n\r\n  renderHtml = (props: {\r\n    html: string\r\n    separator: string\r\n    separatorVertical: string\r\n  }) => {\r\n    return (\r\n      <div\r\n        className=\"slides\"\r\n        dangerouslySetInnerHTML={{\r\n          __html: this.formatHtml(props),\r\n        }}\r\n      />\r\n    )\r\n  }\r\n\r\n  formatHtml = ({\r\n    html,\r\n    separator = \"\\n<hr>\\n\",\r\n    separatorVertical = \"\\n<p>—</p>\\n\",\r\n  }: {\r\n    html: string\r\n    separator: string\r\n    separatorVertical: string\r\n  }) => {\r\n    return html\r\n      .split(separator)\r\n      .map(\r\n        section =>\r\n          `<section>${section\r\n            .split(separatorVertical)\r\n            .map(vertSection => `<section>${vertSection}</section>`)\r\n            .join(\"\")}\r\n          </section>`\r\n      )\r\n      .join(\"\")\r\n  }\r\n}\r\n\r\nexport default Revealer\r\n","import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\n\r\nimport Head from \"../components/Layout/Head\"\r\nimport Reveal from \"../components/Reveal\"\r\nimport { Config } from \"../components/Reveal/Reveal.types\"\r\nimport { Global, css } from \"@emotion/core\"\r\n\r\ninterface Frontmatter {\r\n  title: string\r\n  description?: string\r\n}\r\n\r\ninterface NoteProps {\r\n  data: {\r\n    site: {\r\n      siteMetadata: {\r\n        revealjsConfig: Config\r\n      }\r\n    }\r\n    markdownRemark: {\r\n      frontmatter: Frontmatter\r\n      html: string\r\n      rawMarkdownBody: string\r\n    }\r\n  }\r\n}\r\n\r\nconst NoteTemplate: React.SFC<NoteProps> = ({ data }) => {\r\n  const { markdownRemark, site } = data\r\n  const { frontmatter, html } = markdownRemark\r\n  const { title, description } = frontmatter\r\n\r\n  /**\r\n   * https://github.com/PrismJS/prism/tree/master/themes\r\n   */\r\n  const prismThemePath = \"\"\r\n  const prismThemeName = \"prism-tomorrow\"\r\n  prismThemePath\r\n    ? require(prismThemePath)\r\n    : require(`prismjs/themes/${prismThemeName}.css`)\r\n\r\n  return (\r\n    <>\r\n      <Head title={title || \"Presentation\"} description={description} />\r\n      <GlobalStyles />\r\n      <Reveal config={site.siteMetadata.revealjsConfig} html={html} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query NoteTemplate($filePath: String!) {\r\n    markdownRemark(fileAbsolutePath: { eq: $filePath }) {\r\n      html\r\n      frontmatter {\r\n        title\r\n        description\r\n      }\r\n    }\r\n    site {\r\n      siteMetadata {\r\n        revealjsConfig {\r\n          controls\r\n          controlsTutorial\r\n          controlsLayout\r\n          controlsBackArrows\r\n          progress\r\n          slideNumber\r\n          hash\r\n          history\r\n          keyboard\r\n          overview\r\n          center\r\n          touch\r\n          loop\r\n          rtl\r\n          navigationMode\r\n          shuffle\r\n          fragments\r\n          fragmentInURL\r\n          embedded\r\n          help\r\n          showNotes\r\n          autoPlayMedia\r\n          preloadIframes\r\n          autoSlide\r\n          autoSlideStoppable\r\n          autoSlideMethod\r\n          defaultTiming\r\n          mouseWheel\r\n          hideInactiveCursor\r\n          hideCursorTime\r\n          hideAddressBar\r\n          previewLinks\r\n          transition\r\n          transitionSpeed\r\n          backgroundTransition\r\n          viewDistance\r\n          parallaxBackgroundImage\r\n          parallaxBackgroundSize\r\n          parallaxBackgroundHorizontal\r\n          parallaxBackgroundVertical\r\n          display\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default NoteTemplate\r\n\r\n/**\r\n * @todo add line numbering styles\r\n * https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/?=prismjs#optional-add-line-numbering\r\n */\r\nfunction GlobalStyles() {\r\n  return <Global styles={css``} />\r\n}\r\n\r\n// controlsTutorial\r\n// controlsLayout\r\n// controlsBackArrows\r\n// progress\r\n// slideNumber\r\n// hash\r\n// history\r\n// keyboard\r\n// overview\r\n// center\r\n// touch\r\n// loop\r\n// rtl\r\n// navigationMode\r\n// shuffle\r\n// fragments\r\n// fragmentInURL\r\n// embedded\r\n// help\r\n// showNotes\r\n// autoPlayMedia\r\n// preloadIframes\r\n// autoSlide\r\n// autoSlideStoppable\r\n// autoSlideMethod\r\n// defaultTiming\r\n// mouseWheel\r\n// hideInactiveCursor\r\n// hideCursorTime\r\n// hideAddressBar\r\n// previewLinks\r\n// transition\r\n// transitionSpeed\r\n// backgroundTransition\r\n// viewDistance\r\n// parallaxBackgroundImage\r\n// parallaxBackgroundSize\r\n// parallaxBackgroundHorizontal\r\n// parallaxBackgroundVertical\r\n// display\r\n","require(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\n/*!\n * reveal.js\n * http://revealjs.com\n * MIT licensed\n *\n * Copyright (C) 2019 Hakim El Hattab, http://hakim.se\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(function () {\n      root.Reveal = factory();\n      return root.Reveal;\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS.\n    module.exports = factory();\n  } else {\n    // Browser globals.\n    root.Reveal = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var Reveal; // The reveal.js version\n\n  var VERSION = '3.8.0';\n  var SLIDES_SELECTOR = '.slides section',\n      HORIZONTAL_SLIDES_SELECTOR = '.slides>section',\n      VERTICAL_SLIDES_SELECTOR = '.slides>section.present>section',\n      HOME_SLIDE_SELECTOR = '.slides>section:first-of-type',\n      UA = navigator.userAgent,\n      // Configuration defaults, can be overridden at initialization time\n  config = {\n    // The \"normal\" size of the presentation, aspect ratio will be preserved\n    // when the presentation is scaled to fit different resolutions\n    width: 960,\n    height: 700,\n    // Factor of the display size that should remain empty around the content\n    margin: 0.04,\n    // Bounds for smallest/largest possible scale to apply to content\n    minScale: 0.2,\n    maxScale: 2.0,\n    // Display presentation control arrows\n    controls: true,\n    // Help the user learn the controls by providing hints, for example by\n    // bouncing the down arrow when they first encounter a vertical slide\n    controlsTutorial: true,\n    // Determines where controls appear, \"edges\" or \"bottom-right\"\n    controlsLayout: 'bottom-right',\n    // Visibility rule for backwards navigation arrows; \"faded\", \"hidden\"\n    // or \"visible\"\n    controlsBackArrows: 'faded',\n    // Display a presentation progress bar\n    progress: true,\n    // Display the page number of the current slide\n    // - true:    Show slide number\n    // - false:   Hide slide number\n    //\n    // Can optionally be set as a string that specifies the number formatting:\n    // - \"h.v\":\t  Horizontal . vertical slide number (default)\n    // - \"h/v\":\t  Horizontal / vertical slide number\n    // - \"c\":\t  Flattened slide number\n    // - \"c/t\":\t  Flattened slide number / total slides\n    //\n    // Alternatively, you can provide a function that returns the slide\n    // number for the current slide. The function needs to return an array\n    // with one string [slideNumber] or three strings [n1,delimiter,n2].\n    // See #formatSlideNumber().\n    slideNumber: false,\n    // Can be used to limit the contexts in which the slide number appears\n    // - \"all\":      Always show the slide number\n    // - \"print\":    Only when printing to PDF\n    // - \"speaker\":  Only in the speaker view\n    showSlideNumber: 'all',\n    // Use 1 based indexing for # links to match slide number (default is zero\n    // based)\n    hashOneBasedIndex: false,\n    // Add the current slide number to the URL hash so that reloading the\n    // page/copying the URL will return you to the same slide\n    hash: false,\n    // Push each slide change to the browser history.  Implies `hash: true`\n    history: false,\n    // Enable keyboard shortcuts for navigation\n    keyboard: true,\n    // Optional function that blocks keyboard events when retuning false\n    keyboardCondition: null,\n    // Enable the slide overview mode\n    overview: true,\n    // Disables the default reveal.js slide layout so that you can use\n    // custom CSS layout\n    disableLayout: false,\n    // Vertical centering of slides\n    center: true,\n    // Enables touch navigation on devices with touch input\n    touch: true,\n    // Loop the presentation\n    loop: false,\n    // Change the presentation direction to be RTL\n    rtl: false,\n    // Changes the behavior of our navigation directions.\n    //\n    // \"default\"\n    // Left/right arrow keys step between horizontal slides, up/down\n    // arrow keys step between vertical slides. Space key steps through\n    // all slides (both horizontal and vertical).\n    //\n    // \"linear\"\n    // Removes the up/down arrows. Left/right arrows step through all\n    // slides (both horizontal and vertical).\n    //\n    // \"grid\"\n    // When this is enabled, stepping left/right from a vertical stack\n    // to an adjacent vertical stack will land you at the same vertical\n    // index.\n    //\n    // Consider a deck with six slides ordered in two vertical stacks:\n    // 1.1    2.1\n    // 1.2    2.2\n    // 1.3    2.3\n    //\n    // If you're on slide 1.3 and navigate right, you will normally move\n    // from 1.3 -> 2.1. If \"grid\" is used, the same navigation takes you\n    // from 1.3 -> 2.3.\n    navigationMode: 'default',\n    // Randomizes the order of slides each time the presentation loads\n    shuffle: false,\n    // Turns fragments on and off globally\n    fragments: true,\n    // Flags whether to include the current fragment in the URL,\n    // so that reloading brings you to the same fragment position\n    fragmentInURL: false,\n    // Flags if the presentation is running in an embedded mode,\n    // i.e. contained within a limited portion of the screen\n    embedded: false,\n    // Flags if we should show a help overlay when the question-mark\n    // key is pressed\n    help: true,\n    // Flags if it should be possible to pause the presentation (blackout)\n    pause: true,\n    // Flags if speaker notes should be visible to all viewers\n    showNotes: false,\n    // Global override for autolaying embedded media (video/audio/iframe)\n    // - null:   Media will only autoplay if data-autoplay is present\n    // - true:   All media will autoplay, regardless of individual setting\n    // - false:  No media will autoplay, regardless of individual setting\n    autoPlayMedia: null,\n    // Global override for preloading lazy-loaded iframes\n    // - null:   Iframes with data-src AND data-preload will be loaded when within\n    //           the viewDistance, iframes with only data-src will be loaded when visible\n    // - true:   All iframes with data-src will be loaded when within the viewDistance\n    // - false:  All iframes with data-src will be loaded only when visible\n    preloadIframes: null,\n    // Controls automatic progression to the next slide\n    // - 0:      Auto-sliding only happens if the data-autoslide HTML attribute\n    //           is present on the current slide or fragment\n    // - 1+:     All slides will progress automatically at the given interval\n    // - false:  No auto-sliding, even if data-autoslide is present\n    autoSlide: 0,\n    // Stop auto-sliding after user input\n    autoSlideStoppable: true,\n    // Use this method for navigation when auto-sliding (defaults to navigateNext)\n    autoSlideMethod: null,\n    // Specify the average time in seconds that you think you will spend\n    // presenting each slide. This is used to show a pacing timer in the\n    // speaker view\n    defaultTiming: null,\n    // Enable slide navigation via mouse wheel\n    mouseWheel: false,\n    // Apply a 3D roll to links on hover\n    rollingLinks: false,\n    // Hides the address bar on mobile devices\n    hideAddressBar: true,\n    // Opens links in an iframe preview overlay\n    // Add `data-preview-link` and `data-preview-link=\"false\"` to customise each link\n    // individually\n    previewLinks: false,\n    // Exposes the reveal.js API through window.postMessage\n    postMessage: true,\n    // Dispatches all reveal.js events to the parent window through postMessage\n    postMessageEvents: false,\n    // Focuses body when page changes visibility to ensure keyboard shortcuts work\n    focusBodyOnPageVisibilityChange: true,\n    // Transition style\n    transition: 'slide',\n    // none/fade/slide/convex/concave/zoom\n    // Transition speed\n    transitionSpeed: 'default',\n    // default/fast/slow\n    // Transition style for full page slide backgrounds\n    backgroundTransition: 'fade',\n    // none/fade/slide/convex/concave/zoom\n    // Parallax background image\n    parallaxBackgroundImage: '',\n    // CSS syntax, e.g. \"a.jpg\"\n    // Parallax background size\n    parallaxBackgroundSize: '',\n    // CSS syntax, e.g. \"3000px 2000px\"\n    // Parallax background repeat\n    parallaxBackgroundRepeat: '',\n    // repeat/repeat-x/repeat-y/no-repeat/initial/inherit\n    // Parallax background position\n    parallaxBackgroundPosition: '',\n    // CSS syntax, e.g. \"top left\"\n    // Amount of pixels to move the parallax background per slide step\n    parallaxBackgroundHorizontal: null,\n    parallaxBackgroundVertical: null,\n    // The maximum number of pages a single slide can expand onto when printing\n    // to PDF, unlimited by default\n    pdfMaxPagesPerSlide: Number.POSITIVE_INFINITY,\n    // Prints each fragment on a separate slide\n    pdfSeparateFragments: true,\n    // Offset used to reduce the height of content within exported PDF pages.\n    // This exists to account for environment differences based on how you\n    // print to PDF. CLI printing options, like phantomjs and wkpdf, can end\n    // on precisely the total height of the document whereas in-browser\n    // printing has to end one pixel before.\n    pdfPageHeightOffset: -1,\n    // Number of slides away from the current that are visible\n    viewDistance: 3,\n    // The display mode that will be used to show slides\n    display: 'block',\n    // Hide cursor if inactive\n    hideInactiveCursor: true,\n    // Time before the cursor is hidden (in ms)\n    hideCursorTime: 5000,\n    // Script dependencies to load\n    dependencies: []\n  },\n      // Flags if Reveal.initialize() has been called\n  initialized = false,\n      // Flags if reveal.js is loaded (has dispatched the 'ready' event)\n  loaded = false,\n      // Flags if the overview mode is currently active\n  overview = false,\n      // Holds the dimensions of our overview slides, including margins\n  overviewSlideWidth = null,\n      overviewSlideHeight = null,\n      // The horizontal and vertical index of the currently active slide\n  indexh,\n      indexv,\n      // The previous and current slide HTML elements\n  previousSlide,\n      currentSlide,\n      previousBackground,\n      // Remember which directions that the user has navigated towards\n  hasNavigatedRight = false,\n      hasNavigatedDown = false,\n      // Slides may hold a data-state attribute which we pick up and apply\n  // as a class to the body. This list contains the combined state of\n  // all current slides.\n  state = [],\n      // The current scale of the presentation (see width/height config)\n  scale = 1,\n      // CSS transform that is currently applied to the slides container,\n  // split into two groups\n  slidesTransform = {\n    layout: '',\n    overview: ''\n  },\n      // Cached references to DOM elements\n  dom = {},\n      // A list of registered reveal.js plugins\n  plugins = {},\n      // List of asynchronously loaded reveal.js dependencies\n  asyncDependencies = [],\n      // Features supported by the browser, see #checkCapabilities()\n  features = {},\n      // Client is a mobile device, see #checkCapabilities()\n  isMobileDevice,\n      // Client is a desktop Chrome, see #checkCapabilities()\n  isChrome,\n      // Throttles mouse wheel navigation\n  lastMouseWheelStep = 0,\n      // Delays updates to the URL due to a Chrome thumbnailer bug\n  writeURLTimeout = 0,\n      // Is the mouse pointer currently hidden from view\n  cursorHidden = false,\n      // Timeout used to determine when the cursor is inactive\n  cursorInactiveTimeout = 0,\n      // Flags if the interaction event listeners are bound\n  eventsAreBound = false,\n      // The current auto-slide duration\n  autoSlide = 0,\n      // Auto slide properties\n  autoSlidePlayer,\n      autoSlideTimeout = 0,\n      autoSlideStartTime = -1,\n      autoSlidePaused = false,\n      // Holds information about the currently ongoing touch input\n  touch = {\n    startX: 0,\n    startY: 0,\n    startCount: 0,\n    captured: false,\n    threshold: 40\n  },\n      // A key:value map of shortcut keyboard keys and descriptions of\n  // the actions they trigger, generated in #configure()\n  keyboardShortcuts = {},\n      // Holds custom key code mappings\n  registeredKeyBindings = {};\n  /**\n   * Starts up the presentation if the client is capable.\n   */\n\n  function initialize(options) {\n    // Make sure we only initialize once\n    if (initialized === true) return;\n    initialized = true;\n    checkCapabilities();\n\n    if (!features.transforms2d && !features.transforms3d) {\n      document.body.setAttribute('class', 'no-transforms'); // Since JS won't be running any further, we load all lazy\n      // loading elements upfront\n\n      var images = toArray(document.getElementsByTagName('img')),\n          iframes = toArray(document.getElementsByTagName('iframe'));\n      var lazyLoadable = images.concat(iframes);\n\n      for (var i = 0, len = lazyLoadable.length; i < len; i++) {\n        var element = lazyLoadable[i];\n\n        if (element.getAttribute('data-src')) {\n          element.setAttribute('src', element.getAttribute('data-src'));\n          element.removeAttribute('data-src');\n        }\n      } // If the browser doesn't support core features we won't be\n      // using JavaScript to control the presentation\n\n\n      return;\n    } // Cache references to key DOM elements\n\n\n    dom.wrapper = document.querySelector('.reveal');\n    dom.slides = document.querySelector('.reveal .slides'); // Force a layout when the whole page, incl fonts, has loaded\n\n    window.addEventListener('load', layout, false);\n    var query = Reveal.getQueryHash(); // Do not accept new dependencies via query config to avoid\n    // the potential of malicious script injection\n\n    if (typeof query['dependencies'] !== 'undefined') delete query['dependencies']; // Copy options over to our config object\n\n    extend(config, options);\n    extend(config, query); // Hide the address bar in mobile browsers\n\n    hideAddressBar(); // Loads dependencies and continues to #start() once done\n\n    load();\n  }\n  /**\n   * Inspect the client to see what it's capable of, this\n   * should only happens once per runtime.\n   */\n\n\n  function checkCapabilities() {\n    isMobileDevice = /(iphone|ipod|ipad|android)/gi.test(UA);\n    isChrome = /chrome/i.test(UA) && !/edge/i.test(UA);\n    var testElement = document.createElement('div');\n    features.transforms3d = 'WebkitPerspective' in testElement.style || 'MozPerspective' in testElement.style || 'msPerspective' in testElement.style || 'OPerspective' in testElement.style || 'perspective' in testElement.style;\n    features.transforms2d = 'WebkitTransform' in testElement.style || 'MozTransform' in testElement.style || 'msTransform' in testElement.style || 'OTransform' in testElement.style || 'transform' in testElement.style;\n    features.requestAnimationFrameMethod = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n    features.requestAnimationFrame = typeof features.requestAnimationFrameMethod === 'function';\n    features.canvas = !!document.createElement('canvas').getContext; // Transitions in the overview are disabled in desktop and\n    // Safari due to lag\n\n    features.overviewTransitions = !/Version\\/[\\d\\.]+.*Safari/.test(UA); // Flags if we should use zoom instead of transform to scale\n    // up slides. Zoom produces crisper results but has a lot of\n    // xbrowser quirks so we only use it in whitelsited browsers.\n\n    features.zoom = 'zoom' in testElement.style && !isMobileDevice && (isChrome || /Version\\/[\\d\\.]+.*Safari/.test(UA));\n  }\n  /**\n   * Loads the dependencies of reveal.js. Dependencies are\n   * defined via the configuration option 'dependencies'\n   * and will be loaded prior to starting/binding reveal.js.\n   * Some dependencies may have an 'async' flag, if so they\n   * will load after reveal.js has been started up.\n   */\n\n\n  function load() {\n    var scripts = [],\n        scriptsToLoad = 0;\n    config.dependencies.forEach(function (s) {\n      // Load if there's no condition or the condition is truthy\n      if (!s.condition || s.condition()) {\n        if (s.async) {\n          asyncDependencies.push(s);\n        } else {\n          scripts.push(s);\n        }\n      }\n    });\n\n    if (scripts.length) {\n      scriptsToLoad = scripts.length; // Load synchronous scripts\n\n      scripts.forEach(function (s) {\n        loadScript(s.src, function () {\n          if (typeof s.callback === 'function') s.callback();\n\n          if (--scriptsToLoad === 0) {\n            initPlugins();\n          }\n        });\n      });\n    } else {\n      initPlugins();\n    }\n  }\n  /**\n   * Initializes our plugins and waits for them to be ready\n   * before proceeding.\n   */\n\n\n  function initPlugins() {\n    var pluginsToInitialize = Object.keys(plugins).length; // If there are no plugins, skip this step\n\n    if (pluginsToInitialize === 0) {\n      loadAsyncDependencies();\n    } // ... otherwise initialize plugins\n    else {\n        var afterPlugInitialized = function afterPlugInitialized() {\n          if (--pluginsToInitialize === 0) {\n            loadAsyncDependencies();\n          }\n        };\n\n        for (var i in plugins) {\n          var plugin = plugins[i]; // If the plugin has an 'init' method, invoke it\n\n          if (typeof plugin.init === 'function') {\n            var callback = plugin.init(); // If the plugin returned a Promise, wait for it\n\n            if (callback && typeof callback.then === 'function') {\n              callback.then(afterPlugInitialized);\n            } else {\n              afterPlugInitialized();\n            }\n          } else {\n            afterPlugInitialized();\n          }\n        }\n      }\n  }\n  /**\n   * Loads all async reveal.js dependencies.\n   */\n\n\n  function loadAsyncDependencies() {\n    if (asyncDependencies.length) {\n      asyncDependencies.forEach(function (s) {\n        loadScript(s.src, s.callback);\n      });\n    }\n\n    start();\n  }\n  /**\n   * Loads a JavaScript file from the given URL and executes it.\n   *\n   * @param {string} url Address of the .js file to load\n   * @param {function} callback Method to invoke when the script\n   * has loaded and executed\n   */\n\n\n  function loadScript(url, callback) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.async = false;\n    script.defer = false;\n    script.src = url;\n\n    if (callback) {\n      // Success callback\n      script.onload = script.onreadystatechange = function (event) {\n        if (event.type === \"load\" || /loaded|complete/.test(script.readyState)) {\n          // Kill event listeners\n          script.onload = script.onreadystatechange = script.onerror = null;\n          callback();\n        }\n      }; // Error callback\n\n\n      script.onerror = function (err) {\n        // Kill event listeners\n        script.onload = script.onreadystatechange = script.onerror = null;\n        callback(new Error('Failed loading script: ' + script.src + '\\n' + err));\n      };\n    } // Append the script at the end of <head>\n\n\n    var head = document.querySelector('head');\n    head.insertBefore(script, head.lastChild);\n  }\n  /**\n   * Starts up reveal.js by binding input events and navigating\n   * to the current URL deeplink if there is one.\n   */\n\n\n  function start() {\n    loaded = true; // Make sure we've got all the DOM elements we need\n\n    setupDOM(); // Listen to messages posted to this window\n\n    setupPostMessage(); // Prevent the slides from being scrolled out of view\n\n    setupScrollPrevention(); // Resets all vertical slides so that only the first is visible\n\n    resetVerticalSlides(); // Updates the presentation to match the current configuration values\n\n    configure(); // Read the initial hash\n\n    readURL(); // Update all backgrounds\n\n    updateBackground(true); // Notify listeners that the presentation is ready but use a 1ms\n    // timeout to ensure it's not fired synchronously after #initialize()\n\n    setTimeout(function () {\n      // Enable transitions now that we're loaded\n      dom.slides.classList.remove('no-transition');\n      dom.wrapper.classList.add('ready');\n      dispatchEvent('ready', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }, 1); // Special setup and config is required when printing to PDF\n\n    if (isPrintingPDF()) {\n      removeEventListeners(); // The document needs to have loaded for the PDF layout\n      // measurements to be accurate\n\n      if (document.readyState === 'complete') {\n        setupPDF();\n      } else {\n        window.addEventListener('load', setupPDF);\n      }\n    }\n  }\n  /**\n   * Finds and stores references to DOM elements which are\n   * required by the presentation. If a required element is\n   * not found, it is created.\n   */\n\n\n  function setupDOM() {\n    // Prevent transitions while we're loading\n    dom.slides.classList.add('no-transition');\n\n    if (isMobileDevice) {\n      dom.wrapper.classList.add('no-hover');\n    } else {\n      dom.wrapper.classList.remove('no-hover');\n    }\n\n    if (/iphone/gi.test(UA)) {\n      dom.wrapper.classList.add('ua-iphone');\n    } else {\n      dom.wrapper.classList.remove('ua-iphone');\n    } // Background element\n\n\n    dom.background = createSingletonNode(dom.wrapper, 'div', 'backgrounds', null); // Progress bar\n\n    dom.progress = createSingletonNode(dom.wrapper, 'div', 'progress', '<span></span>');\n    dom.progressbar = dom.progress.querySelector('span'); // Arrow controls\n\n    dom.controls = createSingletonNode(dom.wrapper, 'aside', 'controls', '<button class=\"navigate-left\" aria-label=\"previous slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-right\" aria-label=\"next slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-up\" aria-label=\"above slide\"><div class=\"controls-arrow\"></div></button>' + '<button class=\"navigate-down\" aria-label=\"below slide\"><div class=\"controls-arrow\"></div></button>'); // Slide number\n\n    dom.slideNumber = createSingletonNode(dom.wrapper, 'div', 'slide-number', ''); // Element containing notes that are visible to the audience\n\n    dom.speakerNotes = createSingletonNode(dom.wrapper, 'div', 'speaker-notes', null);\n    dom.speakerNotes.setAttribute('data-prevent-swipe', '');\n    dom.speakerNotes.setAttribute('tabindex', '0'); // Overlay graphic which is displayed during the paused mode\n\n    dom.pauseOverlay = createSingletonNode(dom.wrapper, 'div', 'pause-overlay', config.controls ? '<button class=\"resume-button\">Resume presentation</button>' : null);\n    dom.wrapper.setAttribute('role', 'application'); // There can be multiple instances of controls throughout the page\n\n    dom.controlsLeft = toArray(document.querySelectorAll('.navigate-left'));\n    dom.controlsRight = toArray(document.querySelectorAll('.navigate-right'));\n    dom.controlsUp = toArray(document.querySelectorAll('.navigate-up'));\n    dom.controlsDown = toArray(document.querySelectorAll('.navigate-down'));\n    dom.controlsPrev = toArray(document.querySelectorAll('.navigate-prev'));\n    dom.controlsNext = toArray(document.querySelectorAll('.navigate-next')); // The right and down arrows in the standard reveal.js controls\n\n    dom.controlsRightArrow = dom.controls.querySelector('.navigate-right');\n    dom.controlsDownArrow = dom.controls.querySelector('.navigate-down');\n    dom.statusDiv = createStatusDiv();\n  }\n  /**\n   * Creates a hidden div with role aria-live to announce the\n   * current slide content. Hide the div off-screen to make it\n   * available only to Assistive Technologies.\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function createStatusDiv() {\n    var statusDiv = document.getElementById('aria-status-div');\n\n    if (!statusDiv) {\n      statusDiv = document.createElement('div');\n      statusDiv.style.position = 'absolute';\n      statusDiv.style.height = '1px';\n      statusDiv.style.width = '1px';\n      statusDiv.style.overflow = 'hidden';\n      statusDiv.style.clip = 'rect( 1px, 1px, 1px, 1px )';\n      statusDiv.setAttribute('id', 'aria-status-div');\n      statusDiv.setAttribute('aria-live', 'polite');\n      statusDiv.setAttribute('aria-atomic', 'true');\n      dom.wrapper.appendChild(statusDiv);\n    }\n\n    return statusDiv;\n  }\n  /**\n   * Converts the given HTML element into a string of text\n   * that can be announced to a screen reader. Hidden\n   * elements are excluded.\n   */\n\n\n  function getStatusText(node) {\n    var text = ''; // Text node\n\n    if (node.nodeType === 3) {\n      text += node.textContent;\n    } // Element node\n    else if (node.nodeType === 1) {\n        var isAriaHidden = node.getAttribute('aria-hidden');\n        var isDisplayHidden = window.getComputedStyle(node)['display'] === 'none';\n\n        if (isAriaHidden !== 'true' && !isDisplayHidden) {\n          toArray(node.childNodes).forEach(function (child) {\n            text += getStatusText(child);\n          });\n        }\n      }\n\n    return text;\n  }\n  /**\n   * Configures the presentation for printing to a static\n   * PDF.\n   */\n\n\n  function setupPDF() {\n    var slideSize = getComputedSlideSize(window.innerWidth, window.innerHeight); // Dimensions of the PDF pages\n\n    var pageWidth = Math.floor(slideSize.width * (1 + config.margin)),\n        pageHeight = Math.floor(slideSize.height * (1 + config.margin)); // Dimensions of slides within the pages\n\n    var slideWidth = slideSize.width,\n        slideHeight = slideSize.height; // Let the browser know what page size we want to print\n\n    injectStyleSheet('@page{size:' + pageWidth + 'px ' + pageHeight + 'px; margin: 0px;}'); // Limit the size of certain elements to the dimensions of the slide\n\n    injectStyleSheet('.reveal section>img, .reveal section>video, .reveal section>iframe{max-width: ' + slideWidth + 'px; max-height:' + slideHeight + 'px}');\n    document.body.classList.add('print-pdf');\n    document.body.style.width = pageWidth + 'px';\n    document.body.style.height = pageHeight + 'px'; // Make sure stretch elements fit on slide\n\n    layoutSlideContents(slideWidth, slideHeight); // Add each slide's index as attributes on itself, we need these\n    // indices to generate slide numbers below\n\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (hslide, h) {\n      hslide.setAttribute('data-index-h', h);\n\n      if (hslide.classList.contains('stack')) {\n        toArray(hslide.querySelectorAll('section')).forEach(function (vslide, v) {\n          vslide.setAttribute('data-index-h', h);\n          vslide.setAttribute('data-index-v', v);\n        });\n      }\n    }); // Slide and slide background layout\n\n    toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n      // Vertical stacks are not centred since their section\n      // children will be\n      if (slide.classList.contains('stack') === false) {\n        // Center the slide inside of the page, giving the slide some margin\n        var left = (pageWidth - slideWidth) / 2,\n            top = (pageHeight - slideHeight) / 2;\n        var contentHeight = slide.scrollHeight;\n        var numberOfPages = Math.max(Math.ceil(contentHeight / pageHeight), 1); // Adhere to configured pages per slide limit\n\n        numberOfPages = Math.min(numberOfPages, config.pdfMaxPagesPerSlide); // Center slides vertically\n\n        if (numberOfPages === 1 && config.center || slide.classList.contains('center')) {\n          top = Math.max((pageHeight - contentHeight) / 2, 0);\n        } // Wrap the slide in a page element and hide its overflow\n        // so that no page ever flows onto another\n\n\n        var page = document.createElement('div');\n        page.className = 'pdf-page';\n        page.style.height = (pageHeight + config.pdfPageHeightOffset) * numberOfPages + 'px';\n        slide.parentNode.insertBefore(page, slide);\n        page.appendChild(slide); // Position the slide inside of the page\n\n        slide.style.left = left + 'px';\n        slide.style.top = top + 'px';\n        slide.style.width = slideWidth + 'px';\n\n        if (slide.slideBackgroundElement) {\n          page.insertBefore(slide.slideBackgroundElement, slide);\n        } // Inject notes if `showNotes` is enabled\n\n\n        if (config.showNotes) {\n          // Are there notes for this slide?\n          var notes = getSlideNotes(slide);\n\n          if (notes) {\n            var notesSpacing = 8;\n            var notesLayout = typeof config.showNotes === 'string' ? config.showNotes : 'inline';\n            var notesElement = document.createElement('div');\n            notesElement.classList.add('speaker-notes');\n            notesElement.classList.add('speaker-notes-pdf');\n            notesElement.setAttribute('data-layout', notesLayout);\n            notesElement.innerHTML = notes;\n\n            if (notesLayout === 'separate-page') {\n              page.parentNode.insertBefore(notesElement, page.nextSibling);\n            } else {\n              notesElement.style.left = notesSpacing + 'px';\n              notesElement.style.bottom = notesSpacing + 'px';\n              notesElement.style.width = pageWidth - notesSpacing * 2 + 'px';\n              page.appendChild(notesElement);\n            }\n          }\n        } // Inject slide numbers if `slideNumbers` are enabled\n\n\n        if (config.slideNumber && /all|print/i.test(config.showSlideNumber)) {\n          var slideNumberH = parseInt(slide.getAttribute('data-index-h'), 10) + 1,\n              slideNumberV = parseInt(slide.getAttribute('data-index-v'), 10) + 1;\n          var numberElement = document.createElement('div');\n          numberElement.classList.add('slide-number');\n          numberElement.classList.add('slide-number-pdf');\n          numberElement.innerHTML = formatSlideNumber(slideNumberH, '.', slideNumberV);\n          page.appendChild(numberElement);\n        } // Copy page and show fragments one after another\n\n\n        if (config.pdfSeparateFragments) {\n          // Each fragment 'group' is an array containing one or more\n          // fragments. Multiple fragments that appear at the same time\n          // are part of the same group.\n          var fragmentGroups = sortFragments(page.querySelectorAll('.fragment'), true);\n          var previousFragmentStep;\n          var previousPage;\n          fragmentGroups.forEach(function (fragments) {\n            // Remove 'current-fragment' from the previous group\n            if (previousFragmentStep) {\n              previousFragmentStep.forEach(function (fragment) {\n                fragment.classList.remove('current-fragment');\n              });\n            } // Show the fragments for the current index\n\n\n            fragments.forEach(function (fragment) {\n              fragment.classList.add('visible', 'current-fragment');\n            }); // Create a separate page for the current fragment state\n\n            var clonedPage = page.cloneNode(true);\n            page.parentNode.insertBefore(clonedPage, (previousPage || page).nextSibling);\n            previousFragmentStep = fragments;\n            previousPage = clonedPage;\n          }); // Reset the first/original page so that all fragments are hidden\n\n          fragmentGroups.forEach(function (fragments) {\n            fragments.forEach(function (fragment) {\n              fragment.classList.remove('visible', 'current-fragment');\n            });\n          });\n        } // Show all fragments\n        else {\n            toArray(page.querySelectorAll('.fragment:not(.fade-out)')).forEach(function (fragment) {\n              fragment.classList.add('visible');\n            });\n          }\n      }\n    }); // Notify subscribers that the PDF layout is good to go\n\n    dispatchEvent('pdf-ready');\n  }\n  /**\n   * This is an unfortunate necessity. Some actions – such as\n   * an input field being focused in an iframe or using the\n   * keyboard to expand text selection beyond the bounds of\n   * a slide – can trigger our content to be pushed out of view.\n   * This scrolling can not be prevented by hiding overflow in\n   * CSS (we already do) so we have to resort to repeatedly\n   * checking if the slides have been offset :(\n   */\n\n\n  function setupScrollPrevention() {\n    setInterval(function () {\n      if (dom.wrapper.scrollTop !== 0 || dom.wrapper.scrollLeft !== 0) {\n        dom.wrapper.scrollTop = 0;\n        dom.wrapper.scrollLeft = 0;\n      }\n    }, 1000);\n  }\n  /**\n   * Creates an HTML element and returns a reference to it.\n   * If the element already exists the existing instance will\n   * be returned.\n   *\n   * @param {HTMLElement} container\n   * @param {string} tagname\n   * @param {string} classname\n   * @param {string} innerHTML\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function createSingletonNode(container, tagname, classname, innerHTML) {\n    // Find all nodes matching the description\n    var nodes = container.querySelectorAll('.' + classname); // Check all matches to find one which is a direct child of\n    // the specified container\n\n    for (var i = 0; i < nodes.length; i++) {\n      var testNode = nodes[i];\n\n      if (testNode.parentNode === container) {\n        return testNode;\n      }\n    } // If no node was found, create it now\n\n\n    var node = document.createElement(tagname);\n    node.className = classname;\n\n    if (typeof innerHTML === 'string') {\n      node.innerHTML = innerHTML;\n    }\n\n    container.appendChild(node);\n    return node;\n  }\n  /**\n   * Creates the slide background elements and appends them\n   * to the background container. One element is created per\n   * slide no matter if the given slide has visible background.\n   */\n\n\n  function createBackgrounds() {\n    var printMode = isPrintingPDF(); // Clear prior backgrounds\n\n    dom.background.innerHTML = '';\n    dom.background.classList.add('no-transition'); // Iterate over all horizontal slides\n\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (slideh) {\n      var backgroundStack = createBackground(slideh, dom.background); // Iterate over all vertical slides\n\n      toArray(slideh.querySelectorAll('section')).forEach(function (slidev) {\n        createBackground(slidev, backgroundStack);\n        backgroundStack.classList.add('stack');\n      });\n    }); // Add parallax background if specified\n\n    if (config.parallaxBackgroundImage) {\n      dom.background.style.backgroundImage = 'url(\"' + config.parallaxBackgroundImage + '\")';\n      dom.background.style.backgroundSize = config.parallaxBackgroundSize;\n      dom.background.style.backgroundRepeat = config.parallaxBackgroundRepeat;\n      dom.background.style.backgroundPosition = config.parallaxBackgroundPosition; // Make sure the below properties are set on the element - these properties are\n      // needed for proper transitions to be set on the element via CSS. To remove\n      // annoying background slide-in effect when the presentation starts, apply\n      // these properties after short time delay\n\n      setTimeout(function () {\n        dom.wrapper.classList.add('has-parallax-background');\n      }, 1);\n    } else {\n      dom.background.style.backgroundImage = '';\n      dom.wrapper.classList.remove('has-parallax-background');\n    }\n  }\n  /**\n   * Creates a background for the given slide.\n   *\n   * @param {HTMLElement} slide\n   * @param {HTMLElement} container The element that the background\n   * should be appended to\n   * @return {HTMLElement} New background div\n   */\n\n\n  function createBackground(slide, container) {\n    // Main slide background element\n    var element = document.createElement('div');\n    element.className = 'slide-background ' + slide.className.replace(/present|past|future/, ''); // Inner background element that wraps images/videos/iframes\n\n    var contentElement = document.createElement('div');\n    contentElement.className = 'slide-background-content';\n    element.appendChild(contentElement);\n    container.appendChild(element);\n    slide.slideBackgroundElement = element;\n    slide.slideBackgroundContentElement = contentElement; // Syncs the background to reflect all current background settings\n\n    syncBackground(slide);\n    return element;\n  }\n  /**\n   * Renders all of the visual properties of a slide background\n   * based on the various background attributes.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function syncBackground(slide) {\n    var element = slide.slideBackgroundElement,\n        contentElement = slide.slideBackgroundContentElement; // Reset the prior background state in case this is not the\n    // initial sync\n\n    slide.classList.remove('has-dark-background');\n    slide.classList.remove('has-light-background');\n    element.removeAttribute('data-loaded');\n    element.removeAttribute('data-background-hash');\n    element.removeAttribute('data-background-size');\n    element.removeAttribute('data-background-transition');\n    element.style.backgroundColor = '';\n    contentElement.style.backgroundSize = '';\n    contentElement.style.backgroundRepeat = '';\n    contentElement.style.backgroundPosition = '';\n    contentElement.style.backgroundImage = '';\n    contentElement.style.opacity = '';\n    contentElement.innerHTML = '';\n    var data = {\n      background: slide.getAttribute('data-background'),\n      backgroundSize: slide.getAttribute('data-background-size'),\n      backgroundImage: slide.getAttribute('data-background-image'),\n      backgroundVideo: slide.getAttribute('data-background-video'),\n      backgroundIframe: slide.getAttribute('data-background-iframe'),\n      backgroundColor: slide.getAttribute('data-background-color'),\n      backgroundRepeat: slide.getAttribute('data-background-repeat'),\n      backgroundPosition: slide.getAttribute('data-background-position'),\n      backgroundTransition: slide.getAttribute('data-background-transition'),\n      backgroundOpacity: slide.getAttribute('data-background-opacity')\n    };\n\n    if (data.background) {\n      // Auto-wrap image urls in url(...)\n      if (/^(http|file|\\/\\/)/gi.test(data.background) || /\\.(svg|png|jpg|jpeg|gif|bmp)([?#\\s]|$)/gi.test(data.background)) {\n        slide.setAttribute('data-background-image', data.background);\n      } else {\n        element.style.background = data.background;\n      }\n    } // Create a hash for this combination of background settings.\n    // This is used to determine when two slide backgrounds are\n    // the same.\n\n\n    if (data.background || data.backgroundColor || data.backgroundImage || data.backgroundVideo || data.backgroundIframe) {\n      element.setAttribute('data-background-hash', data.background + data.backgroundSize + data.backgroundImage + data.backgroundVideo + data.backgroundIframe + data.backgroundColor + data.backgroundRepeat + data.backgroundPosition + data.backgroundTransition + data.backgroundOpacity);\n    } // Additional and optional background properties\n\n\n    if (data.backgroundSize) element.setAttribute('data-background-size', data.backgroundSize);\n    if (data.backgroundColor) element.style.backgroundColor = data.backgroundColor;\n    if (data.backgroundTransition) element.setAttribute('data-background-transition', data.backgroundTransition); // Background image options are set on the content wrapper\n\n    if (data.backgroundSize) contentElement.style.backgroundSize = data.backgroundSize;\n    if (data.backgroundRepeat) contentElement.style.backgroundRepeat = data.backgroundRepeat;\n    if (data.backgroundPosition) contentElement.style.backgroundPosition = data.backgroundPosition;\n    if (data.backgroundOpacity) contentElement.style.opacity = data.backgroundOpacity; // If this slide has a background color, we add a class that\n    // signals if it is light or dark. If the slide has no background\n    // color, no class will be added\n\n    var contrastColor = data.backgroundColor; // If no bg color was found, check the computed background\n\n    if (!contrastColor) {\n      var computedBackgroundStyle = window.getComputedStyle(element);\n\n      if (computedBackgroundStyle && computedBackgroundStyle.backgroundColor) {\n        contrastColor = computedBackgroundStyle.backgroundColor;\n      }\n    }\n\n    if (contrastColor) {\n      var rgb = colorToRgb(contrastColor); // Ignore fully transparent backgrounds. Some browsers return\n      // rgba(0,0,0,0) when reading the computed background color of\n      // an element with no background\n\n      if (rgb && rgb.a !== 0) {\n        if (colorBrightness(contrastColor) < 128) {\n          slide.classList.add('has-dark-background');\n        } else {\n          slide.classList.add('has-light-background');\n        }\n      }\n    }\n  }\n  /**\n   * Registers a listener to postMessage events, this makes it\n   * possible to call all reveal.js API methods from another\n   * window. For example:\n   *\n   * revealWindow.postMessage( JSON.stringify({\n   *   method: 'slide',\n   *   args: [ 2 ]\n   * }), '*' );\n   */\n\n\n  function setupPostMessage() {\n    if (config.postMessage) {\n      window.addEventListener('message', function (event) {\n        var data = event.data; // Make sure we're dealing with JSON\n\n        if (typeof data === 'string' && data.charAt(0) === '{' && data.charAt(data.length - 1) === '}') {\n          data = JSON.parse(data); // Check if the requested method can be found\n\n          if (data.method && typeof Reveal[data.method] === 'function') {\n            Reveal[data.method].apply(Reveal, data.args);\n          }\n        }\n      }, false);\n    }\n  }\n  /**\n   * Applies the configuration settings from the config\n   * object. May be called multiple times.\n   *\n   * @param {object} options\n   */\n\n\n  function configure(options) {\n    var oldTransition = config.transition; // New config options may be passed when this method\n    // is invoked through the API after initialization\n\n    if (typeof options === 'object') extend(config, options); // Abort if reveal.js hasn't finished loading, config\n    // changes will be applied automatically once loading\n    // finishes\n\n    if (loaded === false) return;\n    var numberOfSlides = dom.wrapper.querySelectorAll(SLIDES_SELECTOR).length; // Remove the previously configured transition class\n\n    dom.wrapper.classList.remove(oldTransition); // Force linear transition based on browser capabilities\n\n    if (features.transforms3d === false) config.transition = 'linear';\n    dom.wrapper.classList.add(config.transition);\n    dom.wrapper.setAttribute('data-transition-speed', config.transitionSpeed);\n    dom.wrapper.setAttribute('data-background-transition', config.backgroundTransition);\n    dom.controls.style.display = config.controls ? 'block' : 'none';\n    dom.progress.style.display = config.progress ? 'block' : 'none';\n    dom.controls.setAttribute('data-controls-layout', config.controlsLayout);\n    dom.controls.setAttribute('data-controls-back-arrows', config.controlsBackArrows);\n\n    if (config.shuffle) {\n      shuffle();\n    }\n\n    if (config.rtl) {\n      dom.wrapper.classList.add('rtl');\n    } else {\n      dom.wrapper.classList.remove('rtl');\n    }\n\n    if (config.center) {\n      dom.wrapper.classList.add('center');\n    } else {\n      dom.wrapper.classList.remove('center');\n    } // Exit the paused mode if it was configured off\n\n\n    if (config.pause === false) {\n      resume();\n    }\n\n    if (config.showNotes) {\n      dom.speakerNotes.setAttribute('data-layout', typeof config.showNotes === 'string' ? config.showNotes : 'inline');\n    }\n\n    if (config.mouseWheel) {\n      document.addEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\n      document.addEventListener('mousewheel', onDocumentMouseScroll, false);\n    } else {\n      document.removeEventListener('DOMMouseScroll', onDocumentMouseScroll, false); // FF\n\n      document.removeEventListener('mousewheel', onDocumentMouseScroll, false);\n    } // Rolling 3D links\n\n\n    if (config.rollingLinks) {\n      enableRollingLinks();\n    } else {\n      disableRollingLinks();\n    } // Auto-hide the mouse pointer when its inactive\n\n\n    if (config.hideInactiveCursor) {\n      document.addEventListener('mousemove', onDocumentCursorActive, false);\n      document.addEventListener('mousedown', onDocumentCursorActive, false);\n    } else {\n      showCursor();\n      document.removeEventListener('mousemove', onDocumentCursorActive, false);\n      document.removeEventListener('mousedown', onDocumentCursorActive, false);\n    } // Iframe link previews\n\n\n    if (config.previewLinks) {\n      enablePreviewLinks();\n      disablePreviewLinks('[data-preview-link=false]');\n    } else {\n      disablePreviewLinks();\n      enablePreviewLinks('[data-preview-link]:not([data-preview-link=false])');\n    } // Remove existing auto-slide controls\n\n\n    if (autoSlidePlayer) {\n      autoSlidePlayer.destroy();\n      autoSlidePlayer = null;\n    } // Generate auto-slide controls if needed\n\n\n    if (numberOfSlides > 1 && config.autoSlide && config.autoSlideStoppable && features.canvas && features.requestAnimationFrame) {\n      autoSlidePlayer = new Playback(dom.wrapper, function () {\n        return Math.min(Math.max((Date.now() - autoSlideStartTime) / autoSlide, 0), 1);\n      });\n      autoSlidePlayer.on('click', onAutoSlidePlayerClick);\n      autoSlidePaused = false;\n    } // When fragments are turned off they should be visible\n\n\n    if (config.fragments === false) {\n      toArray(dom.slides.querySelectorAll('.fragment')).forEach(function (element) {\n        element.classList.add('visible');\n        element.classList.remove('current-fragment');\n      });\n    } // Slide numbers\n\n\n    var slideNumberDisplay = 'none';\n\n    if (config.slideNumber && !isPrintingPDF()) {\n      if (config.showSlideNumber === 'all') {\n        slideNumberDisplay = 'block';\n      } else if (config.showSlideNumber === 'speaker' && isSpeakerNotes()) {\n        slideNumberDisplay = 'block';\n      }\n    }\n\n    dom.slideNumber.style.display = slideNumberDisplay; // Add the navigation mode to the DOM so we can adjust styling\n\n    if (config.navigationMode !== 'default') {\n      dom.wrapper.setAttribute('data-navigation-mode', config.navigationMode);\n    } else {\n      dom.wrapper.removeAttribute('data-navigation-mode');\n    } // Define our contextual list of keyboard shortcuts\n\n\n    if (config.navigationMode === 'linear') {\n      keyboardShortcuts['&#8594;  ,  &#8595;  ,  SPACE  ,  N  ,  L  ,  J'] = 'Next slide';\n      keyboardShortcuts['&#8592;  ,  &#8593;  ,  P  ,  H  ,  K'] = 'Previous slide';\n    } else {\n      keyboardShortcuts['N  ,  SPACE'] = 'Next slide';\n      keyboardShortcuts['P'] = 'Previous slide';\n      keyboardShortcuts['&#8592;  ,  H'] = 'Navigate left';\n      keyboardShortcuts['&#8594;  ,  L'] = 'Navigate right';\n      keyboardShortcuts['&#8593;  ,  K'] = 'Navigate up';\n      keyboardShortcuts['&#8595;  ,  J'] = 'Navigate down';\n    }\n\n    keyboardShortcuts['Home  ,  &#8984;/CTRL &#8592;'] = 'First slide';\n    keyboardShortcuts['End  ,  &#8984;/CTRL &#8594;'] = 'Last slide';\n    keyboardShortcuts['B  ,  .'] = 'Pause';\n    keyboardShortcuts['F'] = 'Fullscreen';\n    keyboardShortcuts['ESC, O'] = 'Slide overview';\n    sync();\n  }\n  /**\n   * Binds all event listeners.\n   */\n\n\n  function addEventListeners() {\n    eventsAreBound = true;\n    window.addEventListener('hashchange', onWindowHashChange, false);\n    window.addEventListener('resize', onWindowResize, false);\n\n    if (config.touch) {\n      if ('onpointerdown' in window) {\n        // Use W3C pointer events\n        dom.wrapper.addEventListener('pointerdown', onPointerDown, false);\n        dom.wrapper.addEventListener('pointermove', onPointerMove, false);\n        dom.wrapper.addEventListener('pointerup', onPointerUp, false);\n      } else if (window.navigator.msPointerEnabled) {\n        // IE 10 uses prefixed version of pointer events\n        dom.wrapper.addEventListener('MSPointerDown', onPointerDown, false);\n        dom.wrapper.addEventListener('MSPointerMove', onPointerMove, false);\n        dom.wrapper.addEventListener('MSPointerUp', onPointerUp, false);\n      } else {\n        // Fall back to touch events\n        dom.wrapper.addEventListener('touchstart', onTouchStart, false);\n        dom.wrapper.addEventListener('touchmove', onTouchMove, false);\n        dom.wrapper.addEventListener('touchend', onTouchEnd, false);\n      }\n    }\n\n    if (config.keyboard) {\n      document.addEventListener('keydown', onDocumentKeyDown, false);\n      document.addEventListener('keypress', onDocumentKeyPress, false);\n    }\n\n    if (config.progress && dom.progress) {\n      dom.progress.addEventListener('click', onProgressClicked, false);\n    }\n\n    dom.pauseOverlay.addEventListener('click', resume, false);\n\n    if (config.focusBodyOnPageVisibilityChange) {\n      var visibilityChange;\n\n      if ('hidden' in document) {\n        visibilityChange = 'visibilitychange';\n      } else if ('msHidden' in document) {\n        visibilityChange = 'msvisibilitychange';\n      } else if ('webkitHidden' in document) {\n        visibilityChange = 'webkitvisibilitychange';\n      }\n\n      if (visibilityChange) {\n        document.addEventListener(visibilityChange, onPageVisibilityChange, false);\n      }\n    } // Listen to both touch and click events, in case the device\n    // supports both\n\n\n    var pointerEvents = ['touchstart', 'click']; // Only support touch for Android, fixes double navigations in\n    // stock browser\n\n    if (UA.match(/android/gi)) {\n      pointerEvents = ['touchstart'];\n    }\n\n    pointerEvents.forEach(function (eventName) {\n      dom.controlsLeft.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateLeftClicked, false);\n      });\n      dom.controlsRight.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateRightClicked, false);\n      });\n      dom.controlsUp.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateUpClicked, false);\n      });\n      dom.controlsDown.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateDownClicked, false);\n      });\n      dom.controlsPrev.forEach(function (el) {\n        el.addEventListener(eventName, onNavigatePrevClicked, false);\n      });\n      dom.controlsNext.forEach(function (el) {\n        el.addEventListener(eventName, onNavigateNextClicked, false);\n      });\n    });\n  }\n  /**\n   * Unbinds all event listeners.\n   */\n\n\n  function removeEventListeners() {\n    eventsAreBound = false;\n    document.removeEventListener('keydown', onDocumentKeyDown, false);\n    document.removeEventListener('keypress', onDocumentKeyPress, false);\n    window.removeEventListener('hashchange', onWindowHashChange, false);\n    window.removeEventListener('resize', onWindowResize, false);\n    dom.wrapper.removeEventListener('pointerdown', onPointerDown, false);\n    dom.wrapper.removeEventListener('pointermove', onPointerMove, false);\n    dom.wrapper.removeEventListener('pointerup', onPointerUp, false);\n    dom.wrapper.removeEventListener('MSPointerDown', onPointerDown, false);\n    dom.wrapper.removeEventListener('MSPointerMove', onPointerMove, false);\n    dom.wrapper.removeEventListener('MSPointerUp', onPointerUp, false);\n    dom.wrapper.removeEventListener('touchstart', onTouchStart, false);\n    dom.wrapper.removeEventListener('touchmove', onTouchMove, false);\n    dom.wrapper.removeEventListener('touchend', onTouchEnd, false);\n    dom.pauseOverlay.removeEventListener('click', resume, false);\n\n    if (config.progress && dom.progress) {\n      dom.progress.removeEventListener('click', onProgressClicked, false);\n    }\n\n    ['touchstart', 'click'].forEach(function (eventName) {\n      dom.controlsLeft.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateLeftClicked, false);\n      });\n      dom.controlsRight.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateRightClicked, false);\n      });\n      dom.controlsUp.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateUpClicked, false);\n      });\n      dom.controlsDown.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateDownClicked, false);\n      });\n      dom.controlsPrev.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigatePrevClicked, false);\n      });\n      dom.controlsNext.forEach(function (el) {\n        el.removeEventListener(eventName, onNavigateNextClicked, false);\n      });\n    });\n  }\n  /**\n   * Registers a new plugin with this reveal.js instance.\n   *\n   * reveal.js waits for all regisered plugins to initialize\n   * before considering itself ready, as long as the plugin\n   * is registered before calling `Reveal.initialize()`.\n   */\n\n\n  function registerPlugin(id, plugin) {\n    if (plugins[id] === undefined) {\n      plugins[id] = plugin; // If a plugin is registered after reveal.js is loaded,\n      // initialize it right away\n\n      if (loaded && typeof plugin.init === 'function') {\n        plugin.init();\n      }\n    } else {\n      console.warn('reveal.js: \"' + id + '\" plugin has already been registered');\n    }\n  }\n  /**\n   * Checks if a specific plugin has been registered.\n   *\n   * @param {String} id Unique plugin identifier\n   */\n\n\n  function hasPlugin(id) {\n    return !!plugins[id];\n  }\n  /**\n   * Returns the specific plugin instance, if a plugin\n   * with the given ID has been registered.\n   *\n   * @param {String} id Unique plugin identifier\n   */\n\n\n  function getPlugin(id) {\n    return plugins[id];\n  }\n  /**\n   * Add a custom key binding with optional description to\n   * be added to the help screen.\n   */\n\n\n  function addKeyBinding(binding, callback) {\n    if (typeof binding === 'object' && binding.keyCode) {\n      registeredKeyBindings[binding.keyCode] = {\n        callback: callback,\n        key: binding.key,\n        description: binding.description\n      };\n    } else {\n      registeredKeyBindings[binding] = {\n        callback: callback,\n        key: null,\n        description: null\n      };\n    }\n  }\n  /**\n   * Removes the specified custom key binding.\n   */\n\n\n  function removeKeyBinding(keyCode) {\n    delete registeredKeyBindings[keyCode];\n  }\n  /**\n   * Extend object a with the properties of object b.\n   * If there's a conflict, object b takes precedence.\n   *\n   * @param {object} a\n   * @param {object} b\n   */\n\n\n  function extend(a, b) {\n    for (var i in b) {\n      a[i] = b[i];\n    }\n\n    return a;\n  }\n  /**\n   * Converts the target object to an array.\n   *\n   * @param {object} o\n   * @return {object[]}\n   */\n\n\n  function toArray(o) {\n    return Array.prototype.slice.call(o);\n  }\n  /**\n   * Utility for deserializing a value.\n   *\n   * @param {*} value\n   * @return {*}\n   */\n\n\n  function deserialize(value) {\n    if (typeof value === 'string') {\n      if (value === 'null') return null;else if (value === 'true') return true;else if (value === 'false') return false;else if (value.match(/^-?[\\d\\.]+$/)) return parseFloat(value);\n    }\n\n    return value;\n  }\n  /**\n   * Measures the distance in pixels between point a\n   * and point b.\n   *\n   * @param {object} a point with x/y properties\n   * @param {object} b point with x/y properties\n   *\n   * @return {number}\n   */\n\n\n  function distanceBetween(a, b) {\n    var dx = a.x - b.x,\n        dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n  /**\n   * Applies a CSS transform to the target element.\n   *\n   * @param {HTMLElement} element\n   * @param {string} transform\n   */\n\n\n  function transformElement(element, transform) {\n    element.style.WebkitTransform = transform;\n    element.style.MozTransform = transform;\n    element.style.msTransform = transform;\n    element.style.transform = transform;\n  }\n  /**\n   * Applies CSS transforms to the slides container. The container\n   * is transformed from two separate sources: layout and the overview\n   * mode.\n   *\n   * @param {object} transforms\n   */\n\n\n  function transformSlides(transforms) {\n    // Pick up new transforms from arguments\n    if (typeof transforms.layout === 'string') slidesTransform.layout = transforms.layout;\n    if (typeof transforms.overview === 'string') slidesTransform.overview = transforms.overview; // Apply the transforms to the slides container\n\n    if (slidesTransform.layout) {\n      transformElement(dom.slides, slidesTransform.layout + ' ' + slidesTransform.overview);\n    } else {\n      transformElement(dom.slides, slidesTransform.overview);\n    }\n  }\n  /**\n   * Injects the given CSS styles into the DOM.\n   *\n   * @param {string} value\n   */\n\n\n  function injectStyleSheet(value) {\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n\n    if (tag.styleSheet) {\n      tag.styleSheet.cssText = value;\n    } else {\n      tag.appendChild(document.createTextNode(value));\n    }\n\n    document.getElementsByTagName('head')[0].appendChild(tag);\n  }\n  /**\n   * Find the closest parent that matches the given\n   * selector.\n   *\n   * @param {HTMLElement} target The child element\n   * @param {String} selector The CSS selector to match\n   * the parents against\n   *\n   * @return {HTMLElement} The matched parent or null\n   * if no matching parent was found\n   */\n\n\n  function closestParent(target, selector) {\n    var parent = target.parentNode;\n\n    while (parent) {\n      // There's some overhead doing this each time, we don't\n      // want to rewrite the element prototype but should still\n      // be enough to feature detect once at startup...\n      var matchesMethod = parent.matches || parent.matchesSelector || parent.msMatchesSelector; // If we find a match, we're all set\n\n      if (matchesMethod && matchesMethod.call(parent, selector)) {\n        return parent;\n      } // Keep searching\n\n\n      parent = parent.parentNode;\n    }\n\n    return null;\n  }\n  /**\n   * Converts various color input formats to an {r:0,g:0,b:0} object.\n   *\n   * @param {string} color The string representation of a color\n   * @example\n   * colorToRgb('#000');\n   * @example\n   * colorToRgb('#000000');\n   * @example\n   * colorToRgb('rgb(0,0,0)');\n   * @example\n   * colorToRgb('rgba(0,0,0)');\n   *\n   * @return {{r: number, g: number, b: number, [a]: number}|null}\n   */\n\n\n  function colorToRgb(color) {\n    var hex3 = color.match(/^#([0-9a-f]{3})$/i);\n\n    if (hex3 && hex3[1]) {\n      hex3 = hex3[1];\n      return {\n        r: parseInt(hex3.charAt(0), 16) * 0x11,\n        g: parseInt(hex3.charAt(1), 16) * 0x11,\n        b: parseInt(hex3.charAt(2), 16) * 0x11\n      };\n    }\n\n    var hex6 = color.match(/^#([0-9a-f]{6})$/i);\n\n    if (hex6 && hex6[1]) {\n      hex6 = hex6[1];\n      return {\n        r: parseInt(hex6.substr(0, 2), 16),\n        g: parseInt(hex6.substr(2, 2), 16),\n        b: parseInt(hex6.substr(4, 2), 16)\n      };\n    }\n\n    var rgb = color.match(/^rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i);\n\n    if (rgb) {\n      return {\n        r: parseInt(rgb[1], 10),\n        g: parseInt(rgb[2], 10),\n        b: parseInt(rgb[3], 10)\n      };\n    }\n\n    var rgba = color.match(/^rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\,\\s*([\\d]+|[\\d]*.[\\d]+)\\s*\\)$/i);\n\n    if (rgba) {\n      return {\n        r: parseInt(rgba[1], 10),\n        g: parseInt(rgba[2], 10),\n        b: parseInt(rgba[3], 10),\n        a: parseFloat(rgba[4])\n      };\n    }\n\n    return null;\n  }\n  /**\n   * Calculates brightness on a scale of 0-255.\n   *\n   * @param {string} color See colorToRgb for supported formats.\n   * @see {@link colorToRgb}\n   */\n\n\n  function colorBrightness(color) {\n    if (typeof color === 'string') color = colorToRgb(color);\n\n    if (color) {\n      return (color.r * 299 + color.g * 587 + color.b * 114) / 1000;\n    }\n\n    return null;\n  }\n  /**\n   * Returns the remaining height within the parent of the\n   * target element.\n   *\n   * remaining height = [ configured parent height ] - [ current parent height ]\n   *\n   * @param {HTMLElement} element\n   * @param {number} [height]\n   */\n\n\n  function getRemainingHeight(element, height) {\n    height = height || 0;\n\n    if (element) {\n      var newHeight,\n          oldHeight = element.style.height; // Change the .stretch element height to 0 in order find the height of all\n      // the other elements\n\n      element.style.height = '0px'; // In Overview mode, the parent (.slide) height is set of 700px.\n      // Restore it temporarily to its natural height.\n\n      element.parentNode.style.height = 'auto';\n      newHeight = height - element.parentNode.offsetHeight; // Restore the old height, just in case\n\n      element.style.height = oldHeight + 'px'; // Clear the parent (.slide) height. .removeProperty works in IE9+\n\n      element.parentNode.style.removeProperty('height');\n      return newHeight;\n    }\n\n    return height;\n  }\n  /**\n   * Checks if this instance is being used to print a PDF.\n   */\n\n\n  function isPrintingPDF() {\n    return /print-pdf/gi.test(window.location.search);\n  }\n  /**\n   * Hides the address bar if we're on a mobile device.\n   */\n\n\n  function hideAddressBar() {\n    if (config.hideAddressBar && isMobileDevice) {\n      // Events that should trigger the address bar to hide\n      window.addEventListener('load', removeAddressBar, false);\n      window.addEventListener('orientationchange', removeAddressBar, false);\n    }\n  }\n  /**\n   * Causes the address bar to hide on mobile devices,\n   * more vertical space ftw.\n   */\n\n\n  function removeAddressBar() {\n    setTimeout(function () {\n      window.scrollTo(0, 1);\n    }, 10);\n  }\n  /**\n   * Dispatches an event of the specified type from the\n   * reveal DOM element.\n   */\n\n\n  function dispatchEvent(type, args) {\n    var event = document.createEvent('HTMLEvents', 1, 2);\n    event.initEvent(type, true, true);\n    extend(event, args);\n    dom.wrapper.dispatchEvent(event); // If we're in an iframe, post each reveal.js event to the\n    // parent window. Used by the notes plugin\n\n    if (config.postMessageEvents && window.parent !== window.self) {\n      window.parent.postMessage(JSON.stringify({\n        namespace: 'reveal',\n        eventName: type,\n        state: getState()\n      }), '*');\n    }\n  }\n  /**\n   * Wrap all links in 3D goodness.\n   */\n\n\n  function enableRollingLinks() {\n    if (features.transforms3d && !('msPerspective' in document.body.style)) {\n      var anchors = dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ' a');\n\n      for (var i = 0, len = anchors.length; i < len; i++) {\n        var anchor = anchors[i];\n\n        if (anchor.textContent && !anchor.querySelector('*') && (!anchor.className || !anchor.classList.contains(anchor, 'roll'))) {\n          var span = document.createElement('span');\n          span.setAttribute('data-title', anchor.text);\n          span.innerHTML = anchor.innerHTML;\n          anchor.classList.add('roll');\n          anchor.innerHTML = '';\n          anchor.appendChild(span);\n        }\n      }\n    }\n  }\n  /**\n   * Unwrap all 3D links.\n   */\n\n\n  function disableRollingLinks() {\n    var anchors = dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ' a.roll');\n\n    for (var i = 0, len = anchors.length; i < len; i++) {\n      var anchor = anchors[i];\n      var span = anchor.querySelector('span');\n\n      if (span) {\n        anchor.classList.remove('roll');\n        anchor.innerHTML = span.innerHTML;\n      }\n    }\n  }\n  /**\n   * Bind preview frame links.\n   *\n   * @param {string} [selector=a] - selector for anchors\n   */\n\n\n  function enablePreviewLinks(selector) {\n    var anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n    anchors.forEach(function (element) {\n      if (/^(http|www)/gi.test(element.getAttribute('href'))) {\n        element.addEventListener('click', onPreviewLinkClicked, false);\n      }\n    });\n  }\n  /**\n   * Unbind preview frame links.\n   */\n\n\n  function disablePreviewLinks(selector) {\n    var anchors = toArray(document.querySelectorAll(selector ? selector : 'a'));\n    anchors.forEach(function (element) {\n      if (/^(http|www)/gi.test(element.getAttribute('href'))) {\n        element.removeEventListener('click', onPreviewLinkClicked, false);\n      }\n    });\n  }\n  /**\n   * Opens a preview window for the target URL.\n   *\n   * @param {string} url - url for preview iframe src\n   */\n\n\n  function showPreview(url) {\n    closeOverlay();\n    dom.overlay = document.createElement('div');\n    dom.overlay.classList.add('overlay');\n    dom.overlay.classList.add('overlay-preview');\n    dom.wrapper.appendChild(dom.overlay);\n    dom.overlay.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '<a class=\"external\" href=\"' + url + '\" target=\"_blank\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"spinner\"></div>', '<div class=\"viewport\">', '<iframe src=\"' + url + '\"></iframe>', '<small class=\"viewport-inner\">', '<span class=\"x-frame-error\">Unable to load iframe. This is likely due to the site\\'s policy (x-frame-options).</span>', '</small>', '</div>'].join('');\n    dom.overlay.querySelector('iframe').addEventListener('load', function (event) {\n      dom.overlay.classList.add('loaded');\n    }, false);\n    dom.overlay.querySelector('.close').addEventListener('click', function (event) {\n      closeOverlay();\n      event.preventDefault();\n    }, false);\n    dom.overlay.querySelector('.external').addEventListener('click', function (event) {\n      closeOverlay();\n    }, false);\n    setTimeout(function () {\n      dom.overlay.classList.add('visible');\n    }, 1);\n  }\n  /**\n   * Open or close help overlay window.\n   *\n   * @param {Boolean} [override] Flag which overrides the\n   * toggle logic and forcibly sets the desired state. True means\n   * help is open, false means it's closed.\n   */\n\n\n  function toggleHelp(override) {\n    if (typeof override === 'boolean') {\n      override ? showHelp() : closeOverlay();\n    } else {\n      if (dom.overlay) {\n        closeOverlay();\n      } else {\n        showHelp();\n      }\n    }\n  }\n  /**\n   * Opens an overlay window with help material.\n   */\n\n\n  function showHelp() {\n    if (config.help) {\n      closeOverlay();\n      dom.overlay = document.createElement('div');\n      dom.overlay.classList.add('overlay');\n      dom.overlay.classList.add('overlay-help');\n      dom.wrapper.appendChild(dom.overlay);\n      var html = '<p class=\"title\">Keyboard Shortcuts</p><br/>';\n      html += '<table><th>KEY</th><th>ACTION</th>';\n\n      for (var key in keyboardShortcuts) {\n        html += '<tr><td>' + key + '</td><td>' + keyboardShortcuts[key] + '</td></tr>';\n      } // Add custom key bindings that have associated descriptions\n\n\n      for (var binding in registeredKeyBindings) {\n        if (registeredKeyBindings[binding].key && registeredKeyBindings[binding].description) {\n          html += '<tr><td>' + registeredKeyBindings[binding].key + '</td><td>' + registeredKeyBindings[binding].description + '</td></tr>';\n        }\n      }\n\n      html += '</table>';\n      dom.overlay.innerHTML = ['<header>', '<a class=\"close\" href=\"#\"><span class=\"icon\"></span></a>', '</header>', '<div class=\"viewport\">', '<div class=\"viewport-inner\">' + html + '</div>', '</div>'].join('');\n      dom.overlay.querySelector('.close').addEventListener('click', function (event) {\n        closeOverlay();\n        event.preventDefault();\n      }, false);\n      setTimeout(function () {\n        dom.overlay.classList.add('visible');\n      }, 1);\n    }\n  }\n  /**\n   * Closes any currently open overlay.\n   */\n\n\n  function closeOverlay() {\n    if (dom.overlay) {\n      dom.overlay.parentNode.removeChild(dom.overlay);\n      dom.overlay = null;\n    }\n  }\n  /**\n   * Applies JavaScript-controlled layout rules to the\n   * presentation.\n   */\n\n\n  function layout() {\n    if (dom.wrapper && !isPrintingPDF()) {\n      if (!config.disableLayout) {\n        // On some mobile devices '100vh' is taller than the visible\n        // viewport which leads to part of the presentation being\n        // cut off. To work around this we define our own '--vh' custom\n        // property where 100x adds up to the correct height.\n        //\n        // https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n        if (isMobileDevice) {\n          document.documentElement.style.setProperty('--vh', window.innerHeight * 0.01 + 'px');\n        }\n\n        var size = getComputedSlideSize();\n        var oldScale = scale; // Layout the contents of the slides\n\n        layoutSlideContents(config.width, config.height);\n        dom.slides.style.width = size.width + 'px';\n        dom.slides.style.height = size.height + 'px'; // Determine scale of content to fit within available space\n\n        scale = Math.min(size.presentationWidth / size.width, size.presentationHeight / size.height); // Respect max/min scale settings\n\n        scale = Math.max(scale, config.minScale);\n        scale = Math.min(scale, config.maxScale); // Don't apply any scaling styles if scale is 1\n\n        if (scale === 1) {\n          dom.slides.style.zoom = '';\n          dom.slides.style.left = '';\n          dom.slides.style.top = '';\n          dom.slides.style.bottom = '';\n          dom.slides.style.right = '';\n          transformSlides({\n            layout: ''\n          });\n        } else {\n          // Prefer zoom for scaling up so that content remains crisp.\n          // Don't use zoom to scale down since that can lead to shifts\n          // in text layout/line breaks.\n          if (scale > 1 && features.zoom) {\n            dom.slides.style.zoom = scale;\n            dom.slides.style.left = '';\n            dom.slides.style.top = '';\n            dom.slides.style.bottom = '';\n            dom.slides.style.right = '';\n            transformSlides({\n              layout: ''\n            });\n          } // Apply scale transform as a fallback\n          else {\n              dom.slides.style.zoom = '';\n              dom.slides.style.left = '50%';\n              dom.slides.style.top = '50%';\n              dom.slides.style.bottom = 'auto';\n              dom.slides.style.right = 'auto';\n              transformSlides({\n                layout: 'translate(-50%, -50%) scale(' + scale + ')'\n              });\n            }\n        } // Select all slides, vertical and horizontal\n\n\n        var slides = toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR));\n\n        for (var i = 0, len = slides.length; i < len; i++) {\n          var slide = slides[i]; // Don't bother updating invisible slides\n\n          if (slide.style.display === 'none') {\n            continue;\n          }\n\n          if (config.center || slide.classList.contains('center')) {\n            // Vertical stacks are not centred since their section\n            // children will be\n            if (slide.classList.contains('stack')) {\n              slide.style.top = 0;\n            } else {\n              slide.style.top = Math.max((size.height - slide.scrollHeight) / 2, 0) + 'px';\n            }\n          } else {\n            slide.style.top = '';\n          }\n        }\n\n        if (oldScale !== scale) {\n          dispatchEvent('resize', {\n            'oldScale': oldScale,\n            'scale': scale,\n            'size': size\n          });\n        }\n      }\n\n      updateProgress();\n      updateParallax();\n\n      if (isOverview()) {\n        updateOverview();\n      }\n    }\n  }\n  /**\n   * Applies layout logic to the contents of all slides in\n   * the presentation.\n   *\n   * @param {string|number} width\n   * @param {string|number} height\n   */\n\n\n  function layoutSlideContents(width, height) {\n    // Handle sizing of elements with the 'stretch' class\n    toArray(dom.slides.querySelectorAll('section > .stretch')).forEach(function (element) {\n      // Determine how much vertical space we can use\n      var remainingHeight = getRemainingHeight(element, height); // Consider the aspect ratio of media elements\n\n      if (/(img|video)/gi.test(element.nodeName)) {\n        var nw = element.naturalWidth || element.videoWidth,\n            nh = element.naturalHeight || element.videoHeight;\n        var es = Math.min(width / nw, remainingHeight / nh);\n        element.style.width = nw * es + 'px';\n        element.style.height = nh * es + 'px';\n      } else {\n        element.style.width = width + 'px';\n        element.style.height = remainingHeight + 'px';\n      }\n    });\n  }\n  /**\n   * Calculates the computed pixel size of our slides. These\n   * values are based on the width and height configuration\n   * options.\n   *\n   * @param {number} [presentationWidth=dom.wrapper.offsetWidth]\n   * @param {number} [presentationHeight=dom.wrapper.offsetHeight]\n   */\n\n\n  function getComputedSlideSize(presentationWidth, presentationHeight) {\n    var size = {\n      // Slide size\n      width: config.width,\n      height: config.height,\n      // Presentation size\n      presentationWidth: presentationWidth || dom.wrapper.offsetWidth,\n      presentationHeight: presentationHeight || dom.wrapper.offsetHeight\n    }; // Reduce available space by margin\n\n    size.presentationWidth -= size.presentationWidth * config.margin;\n    size.presentationHeight -= size.presentationHeight * config.margin; // Slide width may be a percentage of available width\n\n    if (typeof size.width === 'string' && /%$/.test(size.width)) {\n      size.width = parseInt(size.width, 10) / 100 * size.presentationWidth;\n    } // Slide height may be a percentage of available height\n\n\n    if (typeof size.height === 'string' && /%$/.test(size.height)) {\n      size.height = parseInt(size.height, 10) / 100 * size.presentationHeight;\n    }\n\n    return size;\n  }\n  /**\n   * Stores the vertical index of a stack so that the same\n   * vertical slide can be selected when navigating to and\n   * from the stack.\n   *\n   * @param {HTMLElement} stack The vertical stack element\n   * @param {string|number} [v=0] Index to memorize\n   */\n\n\n  function setPreviousVerticalIndex(stack, v) {\n    if (typeof stack === 'object' && typeof stack.setAttribute === 'function') {\n      stack.setAttribute('data-previous-indexv', v || 0);\n    }\n  }\n  /**\n   * Retrieves the vertical index which was stored using\n   * #setPreviousVerticalIndex() or 0 if no previous index\n   * exists.\n   *\n   * @param {HTMLElement} stack The vertical stack element\n   */\n\n\n  function getPreviousVerticalIndex(stack) {\n    if (typeof stack === 'object' && typeof stack.setAttribute === 'function' && stack.classList.contains('stack')) {\n      // Prefer manually defined start-indexv\n      var attributeName = stack.hasAttribute('data-start-indexv') ? 'data-start-indexv' : 'data-previous-indexv';\n      return parseInt(stack.getAttribute(attributeName) || 0, 10);\n    }\n\n    return 0;\n  }\n  /**\n   * Displays the overview of slides (quick nav) by scaling\n   * down and arranging all slide elements.\n   */\n\n\n  function activateOverview() {\n    // Only proceed if enabled in config\n    if (config.overview && !isOverview()) {\n      overview = true;\n      dom.wrapper.classList.add('overview');\n      dom.wrapper.classList.remove('overview-deactivating');\n\n      if (features.overviewTransitions) {\n        setTimeout(function () {\n          dom.wrapper.classList.add('overview-animated');\n        }, 1);\n      } // Don't auto-slide while in overview mode\n\n\n      cancelAutoSlide(); // Move the backgrounds element into the slide container to\n      // that the same scaling is applied\n\n      dom.slides.appendChild(dom.background); // Clicking on an overview slide navigates to it\n\n      toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n        if (!slide.classList.contains('stack')) {\n          slide.addEventListener('click', onOverviewSlideClicked, true);\n        }\n      }); // Calculate slide sizes\n\n      var margin = 70;\n      var slideSize = getComputedSlideSize();\n      overviewSlideWidth = slideSize.width + margin;\n      overviewSlideHeight = slideSize.height + margin; // Reverse in RTL mode\n\n      if (config.rtl) {\n        overviewSlideWidth = -overviewSlideWidth;\n      }\n\n      updateSlidesVisibility();\n      layoutOverview();\n      updateOverview();\n      layout(); // Notify observers of the overview showing\n\n      dispatchEvent('overviewshown', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }\n  }\n  /**\n   * Uses CSS transforms to position all slides in a grid for\n   * display inside of the overview mode.\n   */\n\n\n  function layoutOverview() {\n    // Layout slides\n    toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).forEach(function (hslide, h) {\n      hslide.setAttribute('data-index-h', h);\n      transformElement(hslide, 'translate3d(' + h * overviewSlideWidth + 'px, 0, 0)');\n\n      if (hslide.classList.contains('stack')) {\n        toArray(hslide.querySelectorAll('section')).forEach(function (vslide, v) {\n          vslide.setAttribute('data-index-h', h);\n          vslide.setAttribute('data-index-v', v);\n          transformElement(vslide, 'translate3d(0, ' + v * overviewSlideHeight + 'px, 0)');\n        });\n      }\n    }); // Layout slide backgrounds\n\n    toArray(dom.background.childNodes).forEach(function (hbackground, h) {\n      transformElement(hbackground, 'translate3d(' + h * overviewSlideWidth + 'px, 0, 0)');\n      toArray(hbackground.querySelectorAll('.slide-background')).forEach(function (vbackground, v) {\n        transformElement(vbackground, 'translate3d(0, ' + v * overviewSlideHeight + 'px, 0)');\n      });\n    });\n  }\n  /**\n   * Moves the overview viewport to the current slides.\n   * Called each time the current slide changes.\n   */\n\n\n  function updateOverview() {\n    var vmin = Math.min(window.innerWidth, window.innerHeight);\n    var scale = Math.max(vmin / 5, 150) / vmin;\n    transformSlides({\n      overview: ['scale(' + scale + ')', 'translateX(' + -indexh * overviewSlideWidth + 'px)', 'translateY(' + -indexv * overviewSlideHeight + 'px)'].join(' ')\n    });\n  }\n  /**\n   * Exits the slide overview and enters the currently\n   * active slide.\n   */\n\n\n  function deactivateOverview() {\n    // Only proceed if enabled in config\n    if (config.overview) {\n      overview = false;\n      dom.wrapper.classList.remove('overview');\n      dom.wrapper.classList.remove('overview-animated'); // Temporarily add a class so that transitions can do different things\n      // depending on whether they are exiting/entering overview, or just\n      // moving from slide to slide\n\n      dom.wrapper.classList.add('overview-deactivating');\n      setTimeout(function () {\n        dom.wrapper.classList.remove('overview-deactivating');\n      }, 1); // Move the background element back out\n\n      dom.wrapper.appendChild(dom.background); // Clean up changes made to slides\n\n      toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR)).forEach(function (slide) {\n        transformElement(slide, '');\n        slide.removeEventListener('click', onOverviewSlideClicked, true);\n      }); // Clean up changes made to backgrounds\n\n      toArray(dom.background.querySelectorAll('.slide-background')).forEach(function (background) {\n        transformElement(background, '');\n      });\n      transformSlides({\n        overview: ''\n      });\n      slide(indexh, indexv);\n      layout();\n      cueAutoSlide(); // Notify observers of the overview hiding\n\n      dispatchEvent('overviewhidden', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'currentSlide': currentSlide\n      });\n    }\n  }\n  /**\n   * Toggles the slide overview mode on and off.\n   *\n   * @param {Boolean} [override] Flag which overrides the\n   * toggle logic and forcibly sets the desired state. True means\n   * overview is open, false means it's closed.\n   */\n\n\n  function toggleOverview(override) {\n    if (typeof override === 'boolean') {\n      override ? activateOverview() : deactivateOverview();\n    } else {\n      isOverview() ? deactivateOverview() : activateOverview();\n    }\n  }\n  /**\n   * Checks if the overview is currently active.\n   *\n   * @return {Boolean} true if the overview is active,\n   * false otherwise\n   */\n\n\n  function isOverview() {\n    return overview;\n  }\n  /**\n   * Return a hash URL that will resolve to the current slide location.\n   */\n\n\n  function locationHash() {\n    var url = '/'; // Attempt to create a named link based on the slide's ID\n\n    var id = currentSlide ? currentSlide.getAttribute('id') : null;\n\n    if (id) {\n      id = encodeURIComponent(id);\n    }\n\n    var indexf;\n\n    if (config.fragmentInURL) {\n      indexf = getIndices().f;\n    } // If the current slide has an ID, use that as a named link,\n    // but we don't support named links with a fragment index\n\n\n    if (typeof id === 'string' && id.length && indexf === undefined) {\n      url = '/' + id;\n    } // Otherwise use the /h/v index\n    else {\n        var hashIndexBase = config.hashOneBasedIndex ? 1 : 0;\n        if (indexh > 0 || indexv > 0 || indexf !== undefined) url += indexh + hashIndexBase;\n        if (indexv > 0 || indexf !== undefined) url += '/' + (indexv + hashIndexBase);\n        if (indexf !== undefined) url += '/' + indexf;\n      }\n\n    return url;\n  }\n  /**\n   * Checks if the current or specified slide is vertical\n   * (nested within another slide).\n   *\n   * @param {HTMLElement} [slide=currentSlide] The slide to check\n   * orientation of\n   * @return {Boolean}\n   */\n\n\n  function isVerticalSlide(slide) {\n    // Prefer slide argument, otherwise use current slide\n    slide = slide ? slide : currentSlide;\n    return slide && slide.parentNode && !!slide.parentNode.nodeName.match(/section/i);\n  }\n  /**\n   * Handling the fullscreen functionality via the fullscreen API\n   *\n   * @see http://fullscreen.spec.whatwg.org/\n   * @see https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode\n   */\n\n\n  function enterFullscreen() {\n    var element = document.documentElement; // Check which implementation is available\n\n    var requestMethod = element.requestFullscreen || element.webkitRequestFullscreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullscreen;\n\n    if (requestMethod) {\n      requestMethod.apply(element);\n    }\n  }\n  /**\n   * Shows the mouse pointer after it has been hidden with\n   * #hideCursor.\n   */\n\n\n  function showCursor() {\n    if (cursorHidden) {\n      cursorHidden = false;\n      dom.wrapper.style.cursor = '';\n    }\n  }\n  /**\n   * Hides the mouse pointer when it's on top of the .reveal\n   * container.\n   */\n\n\n  function hideCursor() {\n    if (cursorHidden === false) {\n      cursorHidden = true;\n      dom.wrapper.style.cursor = 'none';\n    }\n  }\n  /**\n   * Enters the paused mode which fades everything on screen to\n   * black.\n   */\n\n\n  function pause() {\n    if (config.pause) {\n      var wasPaused = dom.wrapper.classList.contains('paused');\n      cancelAutoSlide();\n      dom.wrapper.classList.add('paused');\n\n      if (wasPaused === false) {\n        dispatchEvent('paused');\n      }\n    }\n  }\n  /**\n   * Exits from the paused mode.\n   */\n\n\n  function resume() {\n    var wasPaused = dom.wrapper.classList.contains('paused');\n    dom.wrapper.classList.remove('paused');\n    cueAutoSlide();\n\n    if (wasPaused) {\n      dispatchEvent('resumed');\n    }\n  }\n  /**\n   * Toggles the paused mode on and off.\n   */\n\n\n  function togglePause(override) {\n    if (typeof override === 'boolean') {\n      override ? pause() : resume();\n    } else {\n      isPaused() ? resume() : pause();\n    }\n  }\n  /**\n   * Checks if we are currently in the paused mode.\n   *\n   * @return {Boolean}\n   */\n\n\n  function isPaused() {\n    return dom.wrapper.classList.contains('paused');\n  }\n  /**\n   * Toggles the auto slide mode on and off.\n   *\n   * @param {Boolean} [override] Flag which sets the desired state.\n   * True means autoplay starts, false means it stops.\n   */\n\n\n  function toggleAutoSlide(override) {\n    if (typeof override === 'boolean') {\n      override ? resumeAutoSlide() : pauseAutoSlide();\n    } else {\n      autoSlidePaused ? resumeAutoSlide() : pauseAutoSlide();\n    }\n  }\n  /**\n   * Checks if the auto slide mode is currently on.\n   *\n   * @return {Boolean}\n   */\n\n\n  function isAutoSliding() {\n    return !!(autoSlide && !autoSlidePaused);\n  }\n  /**\n   * Steps from the current point in the presentation to the\n   * slide which matches the specified horizontal and vertical\n   * indices.\n   *\n   * @param {number} [h=indexh] Horizontal index of the target slide\n   * @param {number} [v=indexv] Vertical index of the target slide\n   * @param {number} [f] Index of a fragment within the\n   * target slide to activate\n   * @param {number} [o] Origin for use in multimaster environments\n   */\n\n\n  function slide(h, v, f, o) {\n    // Remember where we were at before\n    previousSlide = currentSlide; // Query all horizontal slides in the deck\n\n    var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR); // Abort if there are no slides\n\n    if (horizontalSlides.length === 0) return; // If no vertical index is specified and the upcoming slide is a\n    // stack, resume at its previous vertical index\n\n    if (v === undefined && !isOverview()) {\n      v = getPreviousVerticalIndex(horizontalSlides[h]);\n    } // If we were on a vertical stack, remember what vertical index\n    // it was on so we can resume at the same position when returning\n\n\n    if (previousSlide && previousSlide.parentNode && previousSlide.parentNode.classList.contains('stack')) {\n      setPreviousVerticalIndex(previousSlide.parentNode, indexv);\n    } // Remember the state before this slide\n\n\n    var stateBefore = state.concat(); // Reset the state array\n\n    state.length = 0;\n    var indexhBefore = indexh || 0,\n        indexvBefore = indexv || 0; // Activate and transition to the new slide\n\n    indexh = updateSlides(HORIZONTAL_SLIDES_SELECTOR, h === undefined ? indexh : h);\n    indexv = updateSlides(VERTICAL_SLIDES_SELECTOR, v === undefined ? indexv : v); // Update the visibility of slides now that the indices have changed\n\n    updateSlidesVisibility();\n    layout(); // Update the overview if it's currently active\n\n    if (isOverview()) {\n      updateOverview();\n    } // Find the current horizontal slide and any possible vertical slides\n    // within it\n\n\n    var currentHorizontalSlide = horizontalSlides[indexh],\n        currentVerticalSlides = currentHorizontalSlide.querySelectorAll('section'); // Store references to the previous and current slides\n\n    currentSlide = currentVerticalSlides[indexv] || currentHorizontalSlide; // Show fragment, if specified\n\n    if (typeof f !== 'undefined') {\n      navigateFragment(f);\n    } // Dispatch an event if the slide changed\n\n\n    var slideChanged = indexh !== indexhBefore || indexv !== indexvBefore;\n\n    if (!slideChanged) {\n      // Ensure that the previous slide is never the same as the current\n      previousSlide = null;\n    } // Solves an edge case where the previous slide maintains the\n    // 'present' class when navigating between adjacent vertical\n    // stacks\n\n\n    if (previousSlide && previousSlide !== currentSlide) {\n      previousSlide.classList.remove('present');\n      previousSlide.setAttribute('aria-hidden', 'true'); // Reset all slides upon navigate to home\n      // Issue: #285\n\n      if (dom.wrapper.querySelector(HOME_SLIDE_SELECTOR).classList.contains('present')) {\n        // Launch async task\n        setTimeout(function () {\n          var slides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.stack')),\n              i;\n\n          for (i in slides) {\n            if (slides[i]) {\n              // Reset stack\n              setPreviousVerticalIndex(slides[i], 0);\n            }\n          }\n        }, 0);\n      }\n    } // Apply the new state\n\n\n    stateLoop: for (var i = 0, len = state.length; i < len; i++) {\n      // Check if this state existed on the previous slide. If it\n      // did, we will avoid adding it repeatedly\n      for (var j = 0; j < stateBefore.length; j++) {\n        if (stateBefore[j] === state[i]) {\n          stateBefore.splice(j, 1);\n          continue stateLoop;\n        }\n      }\n\n      document.documentElement.classList.add(state[i]); // Dispatch custom event matching the state's name\n\n      dispatchEvent(state[i]);\n    } // Clean up the remains of the previous state\n\n\n    while (stateBefore.length) {\n      document.documentElement.classList.remove(stateBefore.pop());\n    }\n\n    if (slideChanged) {\n      dispatchEvent('slidechanged', {\n        'indexh': indexh,\n        'indexv': indexv,\n        'previousSlide': previousSlide,\n        'currentSlide': currentSlide,\n        'origin': o\n      });\n    } // Handle embedded content\n\n\n    if (slideChanged || !previousSlide) {\n      stopEmbeddedContent(previousSlide);\n      startEmbeddedContent(currentSlide);\n    } // Announce the current slide contents, for screen readers\n\n\n    dom.statusDiv.textContent = getStatusText(currentSlide);\n    updateControls();\n    updateProgress();\n    updateBackground();\n    updateParallax();\n    updateSlideNumber();\n    updateNotes();\n    updateFragments(); // Update the URL hash\n\n    writeURL();\n    cueAutoSlide();\n  }\n  /**\n   * Syncs the presentation with the current DOM. Useful\n   * when new slides or control elements are added or when\n   * the configuration has changed.\n   */\n\n\n  function sync() {\n    // Subscribe to input\n    removeEventListeners();\n    addEventListeners(); // Force a layout to make sure the current config is accounted for\n\n    layout(); // Reflect the current autoSlide value\n\n    autoSlide = config.autoSlide; // Start auto-sliding if it's enabled\n\n    cueAutoSlide(); // Re-create the slide backgrounds\n\n    createBackgrounds(); // Write the current hash to the URL\n\n    writeURL();\n    sortAllFragments();\n    updateControls();\n    updateProgress();\n    updateSlideNumber();\n    updateSlidesVisibility();\n    updateBackground(true);\n    updateNotesVisibility();\n    updateNotes();\n    formatEmbeddedContent(); // Start or stop embedded content depending on global config\n\n    if (config.autoPlayMedia === false) {\n      stopEmbeddedContent(currentSlide, {\n        unloadIframes: false\n      });\n    } else {\n      startEmbeddedContent(currentSlide);\n    }\n\n    if (isOverview()) {\n      layoutOverview();\n    }\n  }\n  /**\n   * Updates reveal.js to keep in sync with new slide attributes. For\n   * example, if you add a new `data-background-image` you can call\n   * this to have reveal.js render the new background image.\n   *\n   * Similar to #sync() but more efficient when you only need to\n   * refresh a specific slide.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function syncSlide(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide;\n    syncBackground(slide);\n    syncFragments(slide);\n    updateBackground();\n    updateNotes();\n    loadSlide(slide);\n  }\n  /**\n   * Formats the fragments on the given slide so that they have\n   * valid indices. Call this if fragments are changed in the DOM\n   * after reveal.js has already initialized.\n   *\n   * @param {HTMLElement} slide\n   * @return {Array} a list of the HTML fragments that were synced\n   */\n\n\n  function syncFragments(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide;\n    return sortFragments(slide.querySelectorAll('.fragment'));\n  }\n  /**\n   * Resets all vertical slides so that only the first\n   * is visible.\n   */\n\n\n  function resetVerticalSlides() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    horizontalSlides.forEach(function (horizontalSlide) {\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n      verticalSlides.forEach(function (verticalSlide, y) {\n        if (y > 0) {\n          verticalSlide.classList.remove('present');\n          verticalSlide.classList.remove('past');\n          verticalSlide.classList.add('future');\n          verticalSlide.setAttribute('aria-hidden', 'true');\n        }\n      });\n    });\n  }\n  /**\n   * Sorts and formats all of fragments in the\n   * presentation.\n   */\n\n\n  function sortAllFragments() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    horizontalSlides.forEach(function (horizontalSlide) {\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n      verticalSlides.forEach(function (verticalSlide, y) {\n        sortFragments(verticalSlide.querySelectorAll('.fragment'));\n      });\n      if (verticalSlides.length === 0) sortFragments(horizontalSlide.querySelectorAll('.fragment'));\n    });\n  }\n  /**\n   * Randomly shuffles all slides in the deck.\n   */\n\n\n  function shuffle() {\n    var slides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR));\n    slides.forEach(function (slide) {\n      // Insert this slide next to another random slide. This may\n      // cause the slide to insert before itself but that's fine.\n      dom.slides.insertBefore(slide, slides[Math.floor(Math.random() * slides.length)]);\n    });\n  }\n  /**\n   * Updates one dimension of slides by showing the slide\n   * with the specified index.\n   *\n   * @param {string} selector A CSS selector that will fetch\n   * the group of slides we are working with\n   * @param {number} index The index of the slide that should be\n   * shown\n   *\n   * @return {number} The index of the slide that is now shown,\n   * might differ from the passed in index if it was out of\n   * bounds.\n   */\n\n\n  function updateSlides(selector, index) {\n    // Select all slides and convert the NodeList result to\n    // an array\n    var slides = toArray(dom.wrapper.querySelectorAll(selector)),\n        slidesLength = slides.length;\n    var printMode = isPrintingPDF();\n\n    if (slidesLength) {\n      // Should the index loop?\n      if (config.loop) {\n        index %= slidesLength;\n\n        if (index < 0) {\n          index = slidesLength + index;\n        }\n      } // Enforce max and minimum index bounds\n\n\n      index = Math.max(Math.min(index, slidesLength - 1), 0);\n\n      for (var i = 0; i < slidesLength; i++) {\n        var element = slides[i];\n        var reverse = config.rtl && !isVerticalSlide(element);\n        element.classList.remove('past');\n        element.classList.remove('present');\n        element.classList.remove('future'); // http://www.w3.org/html/wg/drafts/html/master/editing.html#the-hidden-attribute\n\n        element.setAttribute('hidden', '');\n        element.setAttribute('aria-hidden', 'true'); // If this element contains vertical slides\n\n        if (element.querySelector('section')) {\n          element.classList.add('stack');\n        } // If we're printing static slides, all slides are \"present\"\n\n\n        if (printMode) {\n          element.classList.add('present');\n          continue;\n        }\n\n        if (i < index) {\n          // Any element previous to index is given the 'past' class\n          element.classList.add(reverse ? 'future' : 'past');\n\n          if (config.fragments) {\n            // Show all fragments in prior slides\n            toArray(element.querySelectorAll('.fragment')).forEach(function (fragment) {\n              fragment.classList.add('visible');\n              fragment.classList.remove('current-fragment');\n            });\n          }\n        } else if (i > index) {\n          // Any element subsequent to index is given the 'future' class\n          element.classList.add(reverse ? 'past' : 'future');\n\n          if (config.fragments) {\n            // Hide all fragments in future slides\n            toArray(element.querySelectorAll('.fragment.visible')).forEach(function (fragment) {\n              fragment.classList.remove('visible');\n              fragment.classList.remove('current-fragment');\n            });\n          }\n        }\n      } // Mark the current slide as present\n\n\n      slides[index].classList.add('present');\n      slides[index].removeAttribute('hidden');\n      slides[index].removeAttribute('aria-hidden'); // If this slide has a state associated with it, add it\n      // onto the current state of the deck\n\n      var slideState = slides[index].getAttribute('data-state');\n\n      if (slideState) {\n        state = state.concat(slideState.split(' '));\n      }\n    } else {\n      // Since there are no slides we can't be anywhere beyond the\n      // zeroth index\n      index = 0;\n    }\n\n    return index;\n  }\n  /**\n   * Optimization method; hide all slides that are far away\n   * from the present slide.\n   */\n\n\n  function updateSlidesVisibility() {\n    // Select all slides and convert the NodeList result to\n    // an array\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)),\n        horizontalSlidesLength = horizontalSlides.length,\n        distanceX,\n        distanceY;\n\n    if (horizontalSlidesLength && typeof indexh !== 'undefined') {\n      // The number of steps away from the present slide that will\n      // be visible\n      var viewDistance = isOverview() ? 10 : config.viewDistance; // Limit view distance on weaker devices\n\n      if (isMobileDevice) {\n        viewDistance = isOverview() ? 6 : 2;\n      } // All slides need to be visible when exporting to PDF\n\n\n      if (isPrintingPDF()) {\n        viewDistance = Number.MAX_VALUE;\n      }\n\n      for (var x = 0; x < horizontalSlidesLength; x++) {\n        var horizontalSlide = horizontalSlides[x];\n        var verticalSlides = toArray(horizontalSlide.querySelectorAll('section')),\n            verticalSlidesLength = verticalSlides.length; // Determine how far away this slide is from the present\n\n        distanceX = Math.abs((indexh || 0) - x) || 0; // If the presentation is looped, distance should measure\n        // 1 between the first and last slides\n\n        if (config.loop) {\n          distanceX = Math.abs(((indexh || 0) - x) % (horizontalSlidesLength - viewDistance)) || 0;\n        } // Show the horizontal slide if it's within the view distance\n\n\n        if (distanceX < viewDistance) {\n          loadSlide(horizontalSlide);\n        } else {\n          unloadSlide(horizontalSlide);\n        }\n\n        if (verticalSlidesLength) {\n          var oy = getPreviousVerticalIndex(horizontalSlide);\n\n          for (var y = 0; y < verticalSlidesLength; y++) {\n            var verticalSlide = verticalSlides[y];\n            distanceY = x === (indexh || 0) ? Math.abs((indexv || 0) - y) : Math.abs(y - oy);\n\n            if (distanceX + distanceY < viewDistance) {\n              loadSlide(verticalSlide);\n            } else {\n              unloadSlide(verticalSlide);\n            }\n          }\n        }\n      } // Flag if there are ANY vertical slides, anywhere in the deck\n\n\n      if (dom.wrapper.querySelectorAll('.slides>section>section').length) {\n        dom.wrapper.classList.add('has-vertical-slides');\n      } else {\n        dom.wrapper.classList.remove('has-vertical-slides');\n      } // Flag if there are ANY horizontal slides, anywhere in the deck\n\n\n      if (dom.wrapper.querySelectorAll('.slides>section').length > 1) {\n        dom.wrapper.classList.add('has-horizontal-slides');\n      } else {\n        dom.wrapper.classList.remove('has-horizontal-slides');\n      }\n    }\n  }\n  /**\n   * Pick up notes from the current slide and display them\n   * to the viewer.\n   *\n   * @see {@link config.showNotes}\n   */\n\n\n  function updateNotes() {\n    if (config.showNotes && dom.speakerNotes && currentSlide && !isPrintingPDF()) {\n      dom.speakerNotes.innerHTML = getSlideNotes() || '<span class=\"notes-placeholder\">No notes on this slide.</span>';\n    }\n  }\n  /**\n   * Updates the visibility of the speaker notes sidebar that\n   * is used to share annotated slides. The notes sidebar is\n   * only visible if showNotes is true and there are notes on\n   * one or more slides in the deck.\n   */\n\n\n  function updateNotesVisibility() {\n    if (config.showNotes && hasNotes()) {\n      dom.wrapper.classList.add('show-notes');\n    } else {\n      dom.wrapper.classList.remove('show-notes');\n    }\n  }\n  /**\n   * Checks if there are speaker notes for ANY slide in the\n   * presentation.\n   */\n\n\n  function hasNotes() {\n    return dom.slides.querySelectorAll('[data-notes], aside.notes').length > 0;\n  }\n  /**\n   * Updates the progress bar to reflect the current slide.\n   */\n\n\n  function updateProgress() {\n    // Update progress if enabled\n    if (config.progress && dom.progressbar) {\n      dom.progressbar.style.width = getProgress() * dom.wrapper.offsetWidth + 'px';\n    }\n  }\n  /**\n   * Updates the slide number to match the current slide.\n   */\n\n\n  function updateSlideNumber() {\n    // Update slide number if enabled\n    if (config.slideNumber && dom.slideNumber) {\n      var value;\n      var format = 'h.v';\n\n      if (typeof config.slideNumber === 'function') {\n        value = config.slideNumber();\n      } else {\n        // Check if a custom number format is available\n        if (typeof config.slideNumber === 'string') {\n          format = config.slideNumber;\n        } // If there are ONLY vertical slides in this deck, always use\n        // a flattened slide number\n\n\n        if (!/c/.test(format) && dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR).length === 1) {\n          format = 'c';\n        }\n\n        value = [];\n\n        switch (format) {\n          case 'c':\n            value.push(getSlidePastCount() + 1);\n            break;\n\n          case 'c/t':\n            value.push(getSlidePastCount() + 1, '/', getTotalSlides());\n            break;\n\n          case 'h/v':\n            value.push(indexh + 1);\n            if (isVerticalSlide()) value.push('/', indexv + 1);\n            break;\n\n          default:\n            value.push(indexh + 1);\n            if (isVerticalSlide()) value.push('.', indexv + 1);\n        }\n      }\n\n      dom.slideNumber.innerHTML = formatSlideNumber(value[0], value[1], value[2]);\n    }\n  }\n  /**\n   * Applies HTML formatting to a slide number before it's\n   * written to the DOM.\n   *\n   * @param {number} a Current slide\n   * @param {string} delimiter Character to separate slide numbers\n   * @param {(number|*)} b Total slides\n   * @return {string} HTML string fragment\n   */\n\n\n  function formatSlideNumber(a, delimiter, b) {\n    var url = '#' + locationHash();\n\n    if (typeof b === 'number' && !isNaN(b)) {\n      return '<a href=\"' + url + '\">' + '<span class=\"slide-number-a\">' + a + '</span>' + '<span class=\"slide-number-delimiter\">' + delimiter + '</span>' + '<span class=\"slide-number-b\">' + b + '</span>' + '</a>';\n    } else {\n      return '<a href=\"' + url + '\">' + '<span class=\"slide-number-a\">' + a + '</span>' + '</a>';\n    }\n  }\n  /**\n   * Updates the state of all control/navigation arrows.\n   */\n\n\n  function updateControls() {\n    var routes = availableRoutes();\n    var fragments = availableFragments(); // Remove the 'enabled' class from all directions\n\n    dom.controlsLeft.concat(dom.controlsRight).concat(dom.controlsUp).concat(dom.controlsDown).concat(dom.controlsPrev).concat(dom.controlsNext).forEach(function (node) {\n      node.classList.remove('enabled');\n      node.classList.remove('fragmented'); // Set 'disabled' attribute on all directions\n\n      node.setAttribute('disabled', 'disabled');\n    }); // Add the 'enabled' class to the available routes; remove 'disabled' attribute to enable buttons\n\n    if (routes.left) dom.controlsLeft.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.right) dom.controlsRight.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.up) dom.controlsUp.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.down) dom.controlsDown.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    }); // Prev/next buttons\n\n    if (routes.left || routes.up) dom.controlsPrev.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    });\n    if (routes.right || routes.down) dom.controlsNext.forEach(function (el) {\n      el.classList.add('enabled');\n      el.removeAttribute('disabled');\n    }); // Highlight fragment directions\n\n    if (currentSlide) {\n      // Always apply fragment decorator to prev/next buttons\n      if (fragments.prev) dom.controlsPrev.forEach(function (el) {\n        el.classList.add('fragmented', 'enabled');\n        el.removeAttribute('disabled');\n      });\n      if (fragments.next) dom.controlsNext.forEach(function (el) {\n        el.classList.add('fragmented', 'enabled');\n        el.removeAttribute('disabled');\n      }); // Apply fragment decorators to directional buttons based on\n      // what slide axis they are in\n\n      if (isVerticalSlide(currentSlide)) {\n        if (fragments.prev) dom.controlsUp.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n        if (fragments.next) dom.controlsDown.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n      } else {\n        if (fragments.prev) dom.controlsLeft.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n        if (fragments.next) dom.controlsRight.forEach(function (el) {\n          el.classList.add('fragmented', 'enabled');\n          el.removeAttribute('disabled');\n        });\n      }\n    }\n\n    if (config.controlsTutorial) {\n      // Highlight control arrows with an animation to ensure\n      // that the viewer knows how to navigate\n      if (!hasNavigatedDown && routes.down) {\n        dom.controlsDownArrow.classList.add('highlight');\n      } else {\n        dom.controlsDownArrow.classList.remove('highlight');\n\n        if (!hasNavigatedRight && routes.right && indexv === 0) {\n          dom.controlsRightArrow.classList.add('highlight');\n        } else {\n          dom.controlsRightArrow.classList.remove('highlight');\n        }\n      }\n    }\n  }\n  /**\n   * Updates the background elements to reflect the current\n   * slide.\n   *\n   * @param {boolean} includeAll If true, the backgrounds of\n   * all vertical slides (not just the present) will be updated.\n   */\n\n\n  function updateBackground(includeAll) {\n    var currentBackground = null; // Reverse past/future classes when in RTL mode\n\n    var horizontalPast = config.rtl ? 'future' : 'past',\n        horizontalFuture = config.rtl ? 'past' : 'future'; // Update the classes of all backgrounds to match the\n    // states of their slides (past/present/future)\n\n    toArray(dom.background.childNodes).forEach(function (backgroundh, h) {\n      backgroundh.classList.remove('past');\n      backgroundh.classList.remove('present');\n      backgroundh.classList.remove('future');\n\n      if (h < indexh) {\n        backgroundh.classList.add(horizontalPast);\n      } else if (h > indexh) {\n        backgroundh.classList.add(horizontalFuture);\n      } else {\n        backgroundh.classList.add('present'); // Store a reference to the current background element\n\n        currentBackground = backgroundh;\n      }\n\n      if (includeAll || h === indexh) {\n        toArray(backgroundh.querySelectorAll('.slide-background')).forEach(function (backgroundv, v) {\n          backgroundv.classList.remove('past');\n          backgroundv.classList.remove('present');\n          backgroundv.classList.remove('future');\n\n          if (v < indexv) {\n            backgroundv.classList.add('past');\n          } else if (v > indexv) {\n            backgroundv.classList.add('future');\n          } else {\n            backgroundv.classList.add('present'); // Only if this is the present horizontal and vertical slide\n\n            if (h === indexh) currentBackground = backgroundv;\n          }\n        });\n      }\n    }); // Stop content inside of previous backgrounds\n\n    if (previousBackground) {\n      stopEmbeddedContent(previousBackground);\n    } // Start content in the current background\n\n\n    if (currentBackground) {\n      startEmbeddedContent(currentBackground);\n      var currentBackgroundContent = currentBackground.querySelector('.slide-background-content');\n\n      if (currentBackgroundContent) {\n        var backgroundImageURL = currentBackgroundContent.style.backgroundImage || ''; // Restart GIFs (doesn't work in Firefox)\n\n        if (/\\.gif/i.test(backgroundImageURL)) {\n          currentBackgroundContent.style.backgroundImage = '';\n          window.getComputedStyle(currentBackgroundContent).opacity;\n          currentBackgroundContent.style.backgroundImage = backgroundImageURL;\n        }\n      } // Don't transition between identical backgrounds. This\n      // prevents unwanted flicker.\n\n\n      var previousBackgroundHash = previousBackground ? previousBackground.getAttribute('data-background-hash') : null;\n      var currentBackgroundHash = currentBackground.getAttribute('data-background-hash');\n\n      if (currentBackgroundHash && currentBackgroundHash === previousBackgroundHash && currentBackground !== previousBackground) {\n        dom.background.classList.add('no-transition');\n      }\n\n      previousBackground = currentBackground;\n    } // If there's a background brightness flag for this slide,\n    // bubble it to the .reveal container\n\n\n    if (currentSlide) {\n      ['has-light-background', 'has-dark-background'].forEach(function (classToBubble) {\n        if (currentSlide.classList.contains(classToBubble)) {\n          dom.wrapper.classList.add(classToBubble);\n        } else {\n          dom.wrapper.classList.remove(classToBubble);\n        }\n      });\n    } // Allow the first background to apply without transition\n\n\n    setTimeout(function () {\n      dom.background.classList.remove('no-transition');\n    }, 1);\n  }\n  /**\n   * Updates the position of the parallax background based\n   * on the current slide index.\n   */\n\n\n  function updateParallax() {\n    if (config.parallaxBackgroundImage) {\n      var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n          verticalSlides = dom.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n      var backgroundSize = dom.background.style.backgroundSize.split(' '),\n          backgroundWidth,\n          backgroundHeight;\n\n      if (backgroundSize.length === 1) {\n        backgroundWidth = backgroundHeight = parseInt(backgroundSize[0], 10);\n      } else {\n        backgroundWidth = parseInt(backgroundSize[0], 10);\n        backgroundHeight = parseInt(backgroundSize[1], 10);\n      }\n\n      var slideWidth = dom.background.offsetWidth,\n          horizontalSlideCount = horizontalSlides.length,\n          horizontalOffsetMultiplier,\n          horizontalOffset;\n\n      if (typeof config.parallaxBackgroundHorizontal === 'number') {\n        horizontalOffsetMultiplier = config.parallaxBackgroundHorizontal;\n      } else {\n        horizontalOffsetMultiplier = horizontalSlideCount > 1 ? (backgroundWidth - slideWidth) / (horizontalSlideCount - 1) : 0;\n      }\n\n      horizontalOffset = horizontalOffsetMultiplier * indexh * -1;\n      var slideHeight = dom.background.offsetHeight,\n          verticalSlideCount = verticalSlides.length,\n          verticalOffsetMultiplier,\n          verticalOffset;\n\n      if (typeof config.parallaxBackgroundVertical === 'number') {\n        verticalOffsetMultiplier = config.parallaxBackgroundVertical;\n      } else {\n        verticalOffsetMultiplier = (backgroundHeight - slideHeight) / (verticalSlideCount - 1);\n      }\n\n      verticalOffset = verticalSlideCount > 0 ? verticalOffsetMultiplier * indexv : 0;\n      dom.background.style.backgroundPosition = horizontalOffset + 'px ' + -verticalOffset + 'px';\n    }\n  }\n  /**\n   * Should the given element be preloaded?\n   * Decides based on local element attributes and global config.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function shouldPreload(element) {\n    // Prefer an explicit global preload setting\n    var preload = config.preloadIframes; // If no global setting is available, fall back on the element's\n    // own preload setting\n\n    if (typeof preload !== 'boolean') {\n      preload = element.hasAttribute('data-preload');\n    }\n\n    return preload;\n  }\n  /**\n   * Called when the given slide is within the configured view\n   * distance. Shows the slide element and loads any content\n   * that is set to load lazily (data-src).\n   *\n   * @param {HTMLElement} slide Slide to show\n   */\n\n\n  function loadSlide(slide, options) {\n    options = options || {}; // Show the slide element\n\n    slide.style.display = config.display; // Media elements with data-src attributes\n\n    toArray(slide.querySelectorAll('img[data-src], video[data-src], audio[data-src], iframe[data-src]')).forEach(function (element) {\n      if (element.tagName !== 'IFRAME' || shouldPreload(element)) {\n        element.setAttribute('src', element.getAttribute('data-src'));\n        element.setAttribute('data-lazy-loaded', '');\n        element.removeAttribute('data-src');\n      }\n    }); // Media elements with <source> children\n\n    toArray(slide.querySelectorAll('video, audio')).forEach(function (media) {\n      var sources = 0;\n      toArray(media.querySelectorAll('source[data-src]')).forEach(function (source) {\n        source.setAttribute('src', source.getAttribute('data-src'));\n        source.removeAttribute('data-src');\n        source.setAttribute('data-lazy-loaded', '');\n        sources += 1;\n      }); // If we rewrote sources for this video/audio element, we need\n      // to manually tell it to load from its new origin\n\n      if (sources > 0) {\n        media.load();\n      }\n    }); // Show the corresponding background element\n\n    var background = slide.slideBackgroundElement;\n\n    if (background) {\n      background.style.display = 'block';\n      var backgroundContent = slide.slideBackgroundContentElement; // If the background contains media, load it\n\n      if (background.hasAttribute('data-loaded') === false) {\n        background.setAttribute('data-loaded', 'true');\n        var backgroundImage = slide.getAttribute('data-background-image'),\n            backgroundVideo = slide.getAttribute('data-background-video'),\n            backgroundVideoLoop = slide.hasAttribute('data-background-video-loop'),\n            backgroundVideoMuted = slide.hasAttribute('data-background-video-muted'),\n            backgroundIframe = slide.getAttribute('data-background-iframe'); // Images\n\n        if (backgroundImage) {\n          backgroundContent.style.backgroundImage = 'url(' + encodeURI(backgroundImage) + ')';\n        } // Videos\n        else if (backgroundVideo && !isSpeakerNotes()) {\n            var video = document.createElement('video');\n\n            if (backgroundVideoLoop) {\n              video.setAttribute('loop', '');\n            }\n\n            if (backgroundVideoMuted) {\n              video.muted = true;\n            } // Inline video playback works (at least in Mobile Safari) as\n            // long as the video is muted and the `playsinline` attribute is\n            // present\n\n\n            if (isMobileDevice) {\n              video.muted = true;\n              video.autoplay = true;\n              video.setAttribute('playsinline', '');\n            } // Support comma separated lists of video sources\n\n\n            backgroundVideo.split(',').forEach(function (source) {\n              video.innerHTML += '<source src=\"' + source + '\">';\n            });\n            backgroundContent.appendChild(video);\n          } // Iframes\n          else if (backgroundIframe && options.excludeIframes !== true) {\n              var iframe = document.createElement('iframe');\n              iframe.setAttribute('allowfullscreen', '');\n              iframe.setAttribute('mozallowfullscreen', '');\n              iframe.setAttribute('webkitallowfullscreen', ''); // Only load autoplaying content when the slide is shown to\n              // avoid having it play in the background\n\n              if (/autoplay=(1|true|yes)/gi.test(backgroundIframe)) {\n                iframe.setAttribute('data-src', backgroundIframe);\n              } else {\n                iframe.setAttribute('src', backgroundIframe);\n              }\n\n              iframe.style.width = '100%';\n              iframe.style.height = '100%';\n              iframe.style.maxHeight = '100%';\n              iframe.style.maxWidth = '100%';\n              backgroundContent.appendChild(iframe);\n            }\n      }\n    }\n  }\n  /**\n   * Unloads and hides the given slide. This is called when the\n   * slide is moved outside of the configured view distance.\n   *\n   * @param {HTMLElement} slide\n   */\n\n\n  function unloadSlide(slide) {\n    // Hide the slide element\n    slide.style.display = 'none'; // Hide the corresponding background element\n\n    var background = getSlideBackground(slide);\n\n    if (background) {\n      background.style.display = 'none';\n    } // Reset lazy-loaded media elements with src attributes\n\n\n    toArray(slide.querySelectorAll('video[data-lazy-loaded][src], audio[data-lazy-loaded][src], iframe[data-lazy-loaded][src]')).forEach(function (element) {\n      element.setAttribute('data-src', element.getAttribute('src'));\n      element.removeAttribute('src');\n    }); // Reset lazy-loaded media elements with <source> children\n\n    toArray(slide.querySelectorAll('video[data-lazy-loaded] source[src], audio source[src]')).forEach(function (source) {\n      source.setAttribute('data-src', source.getAttribute('src'));\n      source.removeAttribute('src');\n    });\n  }\n  /**\n   * Determine what available routes there are for navigation.\n   *\n   * @return {{left: boolean, right: boolean, up: boolean, down: boolean}}\n   */\n\n\n  function availableRoutes() {\n    var horizontalSlides = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),\n        verticalSlides = dom.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR);\n    var routes = {\n      left: indexh > 0,\n      right: indexh < horizontalSlides.length - 1,\n      up: indexv > 0,\n      down: indexv < verticalSlides.length - 1\n    }; // Looped presentations can always be navigated as long as\n    // there are slides available\n\n    if (config.loop) {\n      if (horizontalSlides.length > 1) {\n        routes.left = true;\n        routes.right = true;\n      }\n\n      if (verticalSlides.length > 1) {\n        routes.up = true;\n        routes.down = true;\n      }\n    } // Reverse horizontal controls for rtl\n\n\n    if (config.rtl) {\n      var left = routes.left;\n      routes.left = routes.right;\n      routes.right = left;\n    }\n\n    return routes;\n  }\n  /**\n   * Returns an object describing the available fragment\n   * directions.\n   *\n   * @return {{prev: boolean, next: boolean}}\n   */\n\n\n  function availableFragments() {\n    if (currentSlide && config.fragments) {\n      var fragments = currentSlide.querySelectorAll('.fragment');\n      var hiddenFragments = currentSlide.querySelectorAll('.fragment:not(.visible)');\n      return {\n        prev: fragments.length - hiddenFragments.length > 0,\n        next: !!hiddenFragments.length\n      };\n    } else {\n      return {\n        prev: false,\n        next: false\n      };\n    }\n  }\n  /**\n   * Enforces origin-specific format rules for embedded media.\n   */\n\n\n  function formatEmbeddedContent() {\n    var _appendParamToIframeSource = function _appendParamToIframeSource(sourceAttribute, sourceURL, param) {\n      toArray(dom.slides.querySelectorAll('iframe[' + sourceAttribute + '*=\"' + sourceURL + '\"]')).forEach(function (el) {\n        var src = el.getAttribute(sourceAttribute);\n\n        if (src && src.indexOf(param) === -1) {\n          el.setAttribute(sourceAttribute, src + (!/\\?/.test(src) ? '?' : '&') + param);\n        }\n      });\n    }; // YouTube frames must include \"?enablejsapi=1\"\n\n\n    _appendParamToIframeSource('src', 'youtube.com/embed/', 'enablejsapi=1');\n\n    _appendParamToIframeSource('data-src', 'youtube.com/embed/', 'enablejsapi=1'); // Vimeo frames must include \"?api=1\"\n\n\n    _appendParamToIframeSource('src', 'player.vimeo.com/', 'api=1');\n\n    _appendParamToIframeSource('data-src', 'player.vimeo.com/', 'api=1');\n  }\n  /**\n   * Start playback of any embedded content inside of\n   * the given element.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function startEmbeddedContent(element) {\n    if (element && !isSpeakerNotes()) {\n      // Restart GIFs\n      toArray(element.querySelectorAll('img[src$=\".gif\"]')).forEach(function (el) {\n        // Setting the same unchanged source like this was confirmed\n        // to work in Chrome, FF & Safari\n        el.setAttribute('src', el.getAttribute('src'));\n      }); // HTML5 media elements\n\n      toArray(element.querySelectorAll('video, audio')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        } // Prefer an explicit global autoplay setting\n\n\n        var autoplay = config.autoPlayMedia; // If no global setting is available, fall back on the element's\n        // own autoplay setting\n\n        if (typeof autoplay !== 'boolean') {\n          autoplay = el.hasAttribute('data-autoplay') || !!closestParent(el, '.slide-background');\n        }\n\n        if (autoplay && typeof el.play === 'function') {\n          // If the media is ready, start playback\n          if (el.readyState > 1) {\n            startEmbeddedMedia({\n              target: el\n            });\n          } // Mobile devices never fire a loaded event so instead\n          // of waiting, we initiate playback\n          else if (isMobileDevice) {\n              var promise = el.play(); // If autoplay does not work, ensure that the controls are visible so\n              // that the viewer can start the media on their own\n\n              if (promise && typeof promise[\"catch\"] === 'function' && el.controls === false) {\n                promise[\"catch\"](function () {\n                  el.controls = true; // Once the video does start playing, hide the controls again\n\n                  el.addEventListener('play', function () {\n                    el.controls = false;\n                  });\n                });\n              }\n            } // If the media isn't loaded, wait before playing\n            else {\n                el.removeEventListener('loadeddata', startEmbeddedMedia); // remove first to avoid dupes\n\n                el.addEventListener('loadeddata', startEmbeddedMedia);\n              }\n        }\n      }); // Normal iframes\n\n      toArray(element.querySelectorAll('iframe[src]')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        }\n\n        startEmbeddedIframe({\n          target: el\n        });\n      }); // Lazy loading iframes\n\n      toArray(element.querySelectorAll('iframe[data-src]')).forEach(function (el) {\n        if (closestParent(el, '.fragment') && !closestParent(el, '.fragment.visible')) {\n          return;\n        }\n\n        if (el.getAttribute('src') !== el.getAttribute('data-src')) {\n          el.removeEventListener('load', startEmbeddedIframe); // remove first to avoid dupes\n\n          el.addEventListener('load', startEmbeddedIframe);\n          el.setAttribute('src', el.getAttribute('data-src'));\n        }\n      });\n    }\n  }\n  /**\n   * Starts playing an embedded video/audio element after\n   * it has finished loading.\n   *\n   * @param {object} event\n   */\n\n\n  function startEmbeddedMedia(event) {\n    var isAttachedToDOM = !!closestParent(event.target, 'html'),\n        isVisible = !!closestParent(event.target, '.present');\n\n    if (isAttachedToDOM && isVisible) {\n      event.target.currentTime = 0;\n      event.target.play();\n    }\n\n    event.target.removeEventListener('loadeddata', startEmbeddedMedia);\n  }\n  /**\n   * \"Starts\" the content of an embedded iframe using the\n   * postMessage API.\n   *\n   * @param {object} event\n   */\n\n\n  function startEmbeddedIframe(event) {\n    var iframe = event.target;\n\n    if (iframe && iframe.contentWindow) {\n      var isAttachedToDOM = !!closestParent(event.target, 'html'),\n          isVisible = !!closestParent(event.target, '.present');\n\n      if (isAttachedToDOM && isVisible) {\n        // Prefer an explicit global autoplay setting\n        var autoplay = config.autoPlayMedia; // If no global setting is available, fall back on the element's\n        // own autoplay setting\n\n        if (typeof autoplay !== 'boolean') {\n          autoplay = iframe.hasAttribute('data-autoplay') || !!closestParent(iframe, '.slide-background');\n        } // YouTube postMessage API\n\n\n        if (/youtube\\.com\\/embed\\//.test(iframe.getAttribute('src')) && autoplay) {\n          iframe.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n        } // Vimeo postMessage API\n        else if (/player\\.vimeo\\.com\\//.test(iframe.getAttribute('src')) && autoplay) {\n            iframe.contentWindow.postMessage('{\"method\":\"play\"}', '*');\n          } // Generic postMessage API\n          else {\n              iframe.contentWindow.postMessage('slide:start', '*');\n            }\n      }\n    }\n  }\n  /**\n   * Stop playback of any embedded content inside of\n   * the targeted slide.\n   *\n   * @param {HTMLElement} element\n   */\n\n\n  function stopEmbeddedContent(element, options) {\n    options = extend({\n      // Defaults\n      unloadIframes: true\n    }, options || {});\n\n    if (element && element.parentNode) {\n      // HTML5 media elements\n      toArray(element.querySelectorAll('video, audio')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && typeof el.pause === 'function') {\n          el.setAttribute('data-paused-by-reveal', '');\n          el.pause();\n        }\n      }); // Generic postMessage API for non-lazy loaded iframes\n\n      toArray(element.querySelectorAll('iframe')).forEach(function (el) {\n        if (el.contentWindow) el.contentWindow.postMessage('slide:stop', '*');\n        el.removeEventListener('load', startEmbeddedIframe);\n      }); // YouTube postMessage API\n\n      toArray(element.querySelectorAll('iframe[src*=\"youtube.com/embed/\"]')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && el.contentWindow && typeof el.contentWindow.postMessage === 'function') {\n          el.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n        }\n      }); // Vimeo postMessage API\n\n      toArray(element.querySelectorAll('iframe[src*=\"player.vimeo.com/\"]')).forEach(function (el) {\n        if (!el.hasAttribute('data-ignore') && el.contentWindow && typeof el.contentWindow.postMessage === 'function') {\n          el.contentWindow.postMessage('{\"method\":\"pause\"}', '*');\n        }\n      });\n\n      if (options.unloadIframes === true) {\n        // Unload lazy-loaded iframes\n        toArray(element.querySelectorAll('iframe[data-src]')).forEach(function (el) {\n          // Only removing the src doesn't actually unload the frame\n          // in all browsers (Firefox) so we set it to blank first\n          el.setAttribute('src', 'about:blank');\n          el.removeAttribute('src');\n        });\n      }\n    }\n  }\n  /**\n   * Returns the number of past slides. This can be used as a global\n   * flattened index for slides.\n   *\n   * @return {number} Past slide count\n   */\n\n\n  function getSlidePastCount() {\n    var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)); // The number of past slides\n\n    var pastCount = 0; // Step through all slides and count the past ones\n\n    mainLoop: for (var i = 0; i < horizontalSlides.length; i++) {\n      var horizontalSlide = horizontalSlides[i];\n      var verticalSlides = toArray(horizontalSlide.querySelectorAll('section'));\n\n      for (var j = 0; j < verticalSlides.length; j++) {\n        // Stop as soon as we arrive at the present\n        if (verticalSlides[j].classList.contains('present')) {\n          break mainLoop;\n        }\n\n        pastCount++;\n      } // Stop as soon as we arrive at the present\n\n\n      if (horizontalSlide.classList.contains('present')) {\n        break;\n      } // Don't count the wrapping section for vertical slides\n\n\n      if (horizontalSlide.classList.contains('stack') === false) {\n        pastCount++;\n      }\n    }\n\n    return pastCount;\n  }\n  /**\n   * Returns a value ranging from 0-1 that represents\n   * how far into the presentation we have navigated.\n   *\n   * @return {number}\n   */\n\n\n  function getProgress() {\n    // The number of past and total slides\n    var totalCount = getTotalSlides();\n    var pastCount = getSlidePastCount();\n\n    if (currentSlide) {\n      var allFragments = currentSlide.querySelectorAll('.fragment'); // If there are fragments in the current slide those should be\n      // accounted for in the progress.\n\n      if (allFragments.length > 0) {\n        var visibleFragments = currentSlide.querySelectorAll('.fragment.visible'); // This value represents how big a portion of the slide progress\n        // that is made up by its fragments (0-1)\n\n        var fragmentWeight = 0.9; // Add fragment progress to the past slide count\n\n        pastCount += visibleFragments.length / allFragments.length * fragmentWeight;\n      }\n    }\n\n    return Math.min(pastCount / (totalCount - 1), 1);\n  }\n  /**\n   * Checks if this presentation is running inside of the\n   * speaker notes window.\n   *\n   * @return {boolean}\n   */\n\n\n  function isSpeakerNotes() {\n    return !!window.location.search.match(/receiver/gi);\n  }\n  /**\n   * Reads the current URL (hash) and navigates accordingly.\n   */\n\n\n  function readURL() {\n    var hash = window.location.hash; // Attempt to parse the hash as either an index or name\n\n    var bits = hash.slice(2).split('/'),\n        name = hash.replace(/#|\\//gi, ''); // If the first bit is not fully numeric and there is a name we\n    // can assume that this is a named link\n\n    if (!/^[0-9]*$/.test(bits[0]) && name.length) {\n      var element; // Ensure the named link is a valid HTML ID attribute\n\n      try {\n        element = document.getElementById(decodeURIComponent(name));\n      } catch (error) {} // Ensure that we're not already on a slide with the same name\n\n\n      var isSameNameAsCurrentSlide = currentSlide ? currentSlide.getAttribute('id') === name : false;\n\n      if (element) {\n        // If the slide exists and is not the current slide...\n        if (!isSameNameAsCurrentSlide) {\n          // ...find the position of the named slide and navigate to it\n          var indices = Reveal.getIndices(element);\n          slide(indices.h, indices.v);\n        }\n      } // If the slide doesn't exist, navigate to the current slide\n      else {\n          slide(indexh || 0, indexv || 0);\n        }\n    } else {\n      var hashIndexBase = config.hashOneBasedIndex ? 1 : 0; // Read the index components of the hash\n\n      var h = parseInt(bits[0], 10) - hashIndexBase || 0,\n          v = parseInt(bits[1], 10) - hashIndexBase || 0,\n          f;\n\n      if (config.fragmentInURL) {\n        f = parseInt(bits[2], 10);\n\n        if (isNaN(f)) {\n          f = undefined;\n        }\n      }\n\n      if (h !== indexh || v !== indexv || f !== undefined) {\n        slide(h, v, f);\n      }\n    }\n  }\n  /**\n   * Updates the page URL (hash) to reflect the current\n   * state.\n   *\n   * @param {number} delay The time in ms to wait before\n   * writing the hash\n   */\n\n\n  function writeURL(delay) {\n    // Make sure there's never more than one timeout running\n    clearTimeout(writeURLTimeout); // If a delay is specified, timeout this call\n\n    if (typeof delay === 'number') {\n      writeURLTimeout = setTimeout(writeURL, delay);\n    } else if (currentSlide) {\n      // If we're configured to push to history OR the history\n      // API is not avaialble.\n      if (config.history || !window.history) {\n        window.location.hash = locationHash();\n      } // If we're configured to reflect the current slide in the\n      // URL without pushing to history.\n      else if (config.hash) {\n          window.history.replaceState(null, null, '#' + locationHash());\n        } // If history and hash are both disabled, a hash may still\n        // be added to the URL by clicking on a href with a hash\n        // target. Counter this by always removing the hash.\n        else {\n            window.history.replaceState(null, null, window.location.pathname + window.location.search);\n          }\n    }\n  }\n  /**\n   * Retrieves the h/v location and fragment of the current,\n   * or specified, slide.\n   *\n   * @param {HTMLElement} [slide] If specified, the returned\n   * index will be for this slide rather than the currently\n   * active one\n   *\n   * @return {{h: number, v: number, f: number}}\n   */\n\n\n  function getIndices(slide) {\n    // By default, return the current indices\n    var h = indexh,\n        v = indexv,\n        f; // If a slide is specified, return the indices of that slide\n\n    if (slide) {\n      var isVertical = isVerticalSlide(slide);\n      var slideh = isVertical ? slide.parentNode : slide; // Select all horizontal slides\n\n      var horizontalSlides = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)); // Now that we know which the horizontal slide is, get its index\n\n      h = Math.max(horizontalSlides.indexOf(slideh), 0); // Assume we're not vertical\n\n      v = undefined; // If this is a vertical slide, grab the vertical index\n\n      if (isVertical) {\n        v = Math.max(toArray(slide.parentNode.querySelectorAll('section')).indexOf(slide), 0);\n      }\n    }\n\n    if (!slide && currentSlide) {\n      var hasFragments = currentSlide.querySelectorAll('.fragment').length > 0;\n\n      if (hasFragments) {\n        var currentFragment = currentSlide.querySelector('.current-fragment');\n\n        if (currentFragment && currentFragment.hasAttribute('data-fragment-index')) {\n          f = parseInt(currentFragment.getAttribute('data-fragment-index'), 10);\n        } else {\n          f = currentSlide.querySelectorAll('.fragment.visible').length - 1;\n        }\n      }\n    }\n\n    return {\n      h: h,\n      v: v,\n      f: f\n    };\n  }\n  /**\n   * Retrieves all slides in this presentation.\n   */\n\n\n  function getSlides() {\n    return toArray(dom.wrapper.querySelectorAll(SLIDES_SELECTOR + ':not(.stack)'));\n  }\n  /**\n   * Returns an array of objects where each object represents the\n   * attributes on its respective slide.\n   */\n\n\n  function getSlidesAttributes() {\n    return getSlides().map(function (slide) {\n      var attributes = {};\n\n      for (var i = 0; i < slide.attributes.length; i++) {\n        var attribute = slide.attributes[i];\n        attributes[attribute.name] = attribute.value;\n      }\n\n      return attributes;\n    });\n  }\n  /**\n   * Retrieves the total number of slides in this presentation.\n   *\n   * @return {number}\n   */\n\n\n  function getTotalSlides() {\n    return getSlides().length;\n  }\n  /**\n   * Returns the slide element matching the specified index.\n   *\n   * @return {HTMLElement}\n   */\n\n\n  function getSlide(x, y) {\n    var horizontalSlide = dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)[x];\n    var verticalSlides = horizontalSlide && horizontalSlide.querySelectorAll('section');\n\n    if (verticalSlides && verticalSlides.length && typeof y === 'number') {\n      return verticalSlides ? verticalSlides[y] : undefined;\n    }\n\n    return horizontalSlide;\n  }\n  /**\n   * Returns the background element for the given slide.\n   * All slides, even the ones with no background properties\n   * defined, have a background element so as long as the\n   * index is valid an element will be returned.\n   *\n   * @param {mixed} x Horizontal background index OR a slide\n   * HTML element\n   * @param {number} y Vertical background index\n   * @return {(HTMLElement[]|*)}\n   */\n\n\n  function getSlideBackground(x, y) {\n    var slide = typeof x === 'number' ? getSlide(x, y) : x;\n\n    if (slide) {\n      return slide.slideBackgroundElement;\n    }\n\n    return undefined;\n  }\n  /**\n   * Retrieves the speaker notes from a slide. Notes can be\n   * defined in two ways:\n   * 1. As a data-notes attribute on the slide <section>\n   * 2. As an <aside class=\"notes\"> inside of the slide\n   *\n   * @param {HTMLElement} [slide=currentSlide]\n   * @return {(string|null)}\n   */\n\n\n  function getSlideNotes(slide) {\n    // Default to the current slide\n    slide = slide || currentSlide; // Notes can be specified via the data-notes attribute...\n\n    if (slide.hasAttribute('data-notes')) {\n      return slide.getAttribute('data-notes');\n    } // ... or using an <aside class=\"notes\"> element\n\n\n    var notesElement = slide.querySelector('aside.notes');\n\n    if (notesElement) {\n      return notesElement.innerHTML;\n    }\n\n    return null;\n  }\n  /**\n   * Retrieves the current state of the presentation as\n   * an object. This state can then be restored at any\n   * time.\n   *\n   * @return {{indexh: number, indexv: number, indexf: number, paused: boolean, overview: boolean}}\n   */\n\n\n  function getState() {\n    var indices = getIndices();\n    return {\n      indexh: indices.h,\n      indexv: indices.v,\n      indexf: indices.f,\n      paused: isPaused(),\n      overview: isOverview()\n    };\n  }\n  /**\n   * Restores the presentation to the given state.\n   *\n   * @param {object} state As generated by getState()\n   * @see {@link getState} generates the parameter `state`\n   */\n\n\n  function setState(state) {\n    if (typeof state === 'object') {\n      slide(deserialize(state.indexh), deserialize(state.indexv), deserialize(state.indexf));\n      var pausedFlag = deserialize(state.paused),\n          overviewFlag = deserialize(state.overview);\n\n      if (typeof pausedFlag === 'boolean' && pausedFlag !== isPaused()) {\n        togglePause(pausedFlag);\n      }\n\n      if (typeof overviewFlag === 'boolean' && overviewFlag !== isOverview()) {\n        toggleOverview(overviewFlag);\n      }\n    }\n  }\n  /**\n   * Return a sorted fragments list, ordered by an increasing\n   * \"data-fragment-index\" attribute.\n   *\n   * Fragments will be revealed in the order that they are returned by\n   * this function, so you can use the index attributes to control the\n   * order of fragment appearance.\n   *\n   * To maintain a sensible default fragment order, fragments are presumed\n   * to be passed in document order. This function adds a \"fragment-index\"\n   * attribute to each node if such an attribute is not already present,\n   * and sets that attribute to an integer value which is the position of\n   * the fragment within the fragments list.\n   *\n   * @param {object[]|*} fragments\n   * @param {boolean} grouped If true the returned array will contain\n   * nested arrays for all fragments with the same index\n   * @return {object[]} sorted Sorted array of fragments\n   */\n\n\n  function sortFragments(fragments, grouped) {\n    fragments = toArray(fragments);\n    var ordered = [],\n        unordered = [],\n        sorted = []; // Group ordered and unordered elements\n\n    fragments.forEach(function (fragment, i) {\n      if (fragment.hasAttribute('data-fragment-index')) {\n        var index = parseInt(fragment.getAttribute('data-fragment-index'), 10);\n\n        if (!ordered[index]) {\n          ordered[index] = [];\n        }\n\n        ordered[index].push(fragment);\n      } else {\n        unordered.push([fragment]);\n      }\n    }); // Append fragments without explicit indices in their\n    // DOM order\n\n    ordered = ordered.concat(unordered); // Manually count the index up per group to ensure there\n    // are no gaps\n\n    var index = 0; // Push all fragments in their sorted order to an array,\n    // this flattens the groups\n\n    ordered.forEach(function (group) {\n      group.forEach(function (fragment) {\n        sorted.push(fragment);\n        fragment.setAttribute('data-fragment-index', index);\n      });\n      index++;\n    });\n    return grouped === true ? ordered : sorted;\n  }\n  /**\n   * Refreshes the fragments on the current slide so that they\n   * have the appropriate classes (.visible + .current-fragment).\n   *\n   * @param {number} [index] The index of the current fragment\n   * @param {array} [fragments] Array containing all fragments\n   * in the current slide\n   *\n   * @return {{shown: array, hidden: array}}\n   */\n\n\n  function updateFragments(index, fragments) {\n    var changedFragments = {\n      shown: [],\n      hidden: []\n    };\n\n    if (currentSlide && config.fragments) {\n      fragments = fragments || sortFragments(currentSlide.querySelectorAll('.fragment'));\n\n      if (fragments.length) {\n        if (typeof index !== 'number') {\n          var currentFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n          if (currentFragment) {\n            index = parseInt(currentFragment.getAttribute('data-fragment-index') || 0, 10);\n          }\n        }\n\n        toArray(fragments).forEach(function (el, i) {\n          if (el.hasAttribute('data-fragment-index')) {\n            i = parseInt(el.getAttribute('data-fragment-index'), 10);\n          } // Visible fragments\n\n\n          if (i <= index) {\n            if (!el.classList.contains('visible')) changedFragments.shown.push(el);\n            el.classList.add('visible');\n            el.classList.remove('current-fragment'); // Announce the fragments one by one to the Screen Reader\n\n            dom.statusDiv.textContent = getStatusText(el);\n\n            if (i === index) {\n              el.classList.add('current-fragment');\n              startEmbeddedContent(el);\n            }\n          } // Hidden fragments\n          else {\n              if (el.classList.contains('visible')) changedFragments.hidden.push(el);\n              el.classList.remove('visible');\n              el.classList.remove('current-fragment');\n            }\n        });\n      }\n    }\n\n    return changedFragments;\n  }\n  /**\n   * Navigate to the specified slide fragment.\n   *\n   * @param {?number} index The index of the fragment that\n   * should be shown, -1 means all are invisible\n   * @param {number} offset Integer offset to apply to the\n   * fragment index\n   *\n   * @return {boolean} true if a change was made in any\n   * fragments visibility as part of this call\n   */\n\n\n  function navigateFragment(index, offset) {\n    if (currentSlide && config.fragments) {\n      var fragments = sortFragments(currentSlide.querySelectorAll('.fragment'));\n\n      if (fragments.length) {\n        // If no index is specified, find the current\n        if (typeof index !== 'number') {\n          var lastVisibleFragment = sortFragments(currentSlide.querySelectorAll('.fragment.visible')).pop();\n\n          if (lastVisibleFragment) {\n            index = parseInt(lastVisibleFragment.getAttribute('data-fragment-index') || 0, 10);\n          } else {\n            index = -1;\n          }\n        } // If an offset is specified, apply it to the index\n\n\n        if (typeof offset === 'number') {\n          index += offset;\n        }\n\n        var changedFragments = updateFragments(index, fragments);\n\n        if (changedFragments.hidden.length) {\n          dispatchEvent('fragmenthidden', {\n            fragment: changedFragments.hidden[0],\n            fragments: changedFragments.hidden\n          });\n        }\n\n        if (changedFragments.shown.length) {\n          dispatchEvent('fragmentshown', {\n            fragment: changedFragments.shown[0],\n            fragments: changedFragments.shown\n          });\n        }\n\n        updateControls();\n        updateProgress();\n\n        if (config.fragmentInURL) {\n          writeURL();\n        }\n\n        return !!(changedFragments.shown.length || changedFragments.hidden.length);\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Navigate to the next slide fragment.\n   *\n   * @return {boolean} true if there was a next fragment,\n   * false otherwise\n   */\n\n\n  function nextFragment() {\n    return navigateFragment(null, 1);\n  }\n  /**\n   * Navigate to the previous slide fragment.\n   *\n   * @return {boolean} true if there was a previous fragment,\n   * false otherwise\n   */\n\n\n  function previousFragment() {\n    return navigateFragment(null, -1);\n  }\n  /**\n   * Cues a new automated slide if enabled in the config.\n   */\n\n\n  function cueAutoSlide() {\n    cancelAutoSlide();\n\n    if (currentSlide && config.autoSlide !== false) {\n      var fragment = currentSlide.querySelector('.current-fragment'); // When the slide first appears there is no \"current\" fragment so\n      // we look for a data-autoslide timing on the first fragment\n\n      if (!fragment) fragment = currentSlide.querySelector('.fragment');\n      var fragmentAutoSlide = fragment ? fragment.getAttribute('data-autoslide') : null;\n      var parentAutoSlide = currentSlide.parentNode ? currentSlide.parentNode.getAttribute('data-autoslide') : null;\n      var slideAutoSlide = currentSlide.getAttribute('data-autoslide'); // Pick value in the following priority order:\n      // 1. Current fragment's data-autoslide\n      // 2. Current slide's data-autoslide\n      // 3. Parent slide's data-autoslide\n      // 4. Global autoSlide setting\n\n      if (fragmentAutoSlide) {\n        autoSlide = parseInt(fragmentAutoSlide, 10);\n      } else if (slideAutoSlide) {\n        autoSlide = parseInt(slideAutoSlide, 10);\n      } else if (parentAutoSlide) {\n        autoSlide = parseInt(parentAutoSlide, 10);\n      } else {\n        autoSlide = config.autoSlide;\n      } // If there are media elements with data-autoplay,\n      // automatically set the autoSlide duration to the\n      // length of that media. Not applicable if the slide\n      // is divided up into fragments.\n      // playbackRate is accounted for in the duration.\n\n\n      if (currentSlide.querySelectorAll('.fragment').length === 0) {\n        toArray(currentSlide.querySelectorAll('video, audio')).forEach(function (el) {\n          if (el.hasAttribute('data-autoplay')) {\n            if (autoSlide && el.duration * 1000 / el.playbackRate > autoSlide) {\n              autoSlide = el.duration * 1000 / el.playbackRate + 1000;\n            }\n          }\n        });\n      } // Cue the next auto-slide if:\n      // - There is an autoSlide value\n      // - Auto-sliding isn't paused by the user\n      // - The presentation isn't paused\n      // - The overview isn't active\n      // - The presentation isn't over\n\n\n      if (autoSlide && !autoSlidePaused && !isPaused() && !isOverview() && (!Reveal.isLastSlide() || availableFragments().next || config.loop === true)) {\n        autoSlideTimeout = setTimeout(function () {\n          typeof config.autoSlideMethod === 'function' ? config.autoSlideMethod() : navigateNext();\n          cueAutoSlide();\n        }, autoSlide);\n        autoSlideStartTime = Date.now();\n      }\n\n      if (autoSlidePlayer) {\n        autoSlidePlayer.setPlaying(autoSlideTimeout !== -1);\n      }\n    }\n  }\n  /**\n   * Cancels any ongoing request to auto-slide.\n   */\n\n\n  function cancelAutoSlide() {\n    clearTimeout(autoSlideTimeout);\n    autoSlideTimeout = -1;\n  }\n\n  function pauseAutoSlide() {\n    if (autoSlide && !autoSlidePaused) {\n      autoSlidePaused = true;\n      dispatchEvent('autoslidepaused');\n      clearTimeout(autoSlideTimeout);\n\n      if (autoSlidePlayer) {\n        autoSlidePlayer.setPlaying(false);\n      }\n    }\n  }\n\n  function resumeAutoSlide() {\n    if (autoSlide && autoSlidePaused) {\n      autoSlidePaused = false;\n      dispatchEvent('autoslideresumed');\n      cueAutoSlide();\n    }\n  }\n\n  function navigateLeft() {\n    // Reverse for RTL\n    if (config.rtl) {\n      if ((isOverview() || nextFragment() === false) && availableRoutes().left) {\n        slide(indexh + 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n    } // Normal navigation\n    else if ((isOverview() || previousFragment() === false) && availableRoutes().left) {\n        slide(indexh - 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n  }\n\n  function navigateRight() {\n    hasNavigatedRight = true; // Reverse for RTL\n\n    if (config.rtl) {\n      if ((isOverview() || previousFragment() === false) && availableRoutes().right) {\n        slide(indexh - 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n    } // Normal navigation\n    else if ((isOverview() || nextFragment() === false) && availableRoutes().right) {\n        slide(indexh + 1, config.navigationMode === 'grid' ? indexv : undefined);\n      }\n  }\n\n  function navigateUp() {\n    // Prioritize hiding fragments\n    if ((isOverview() || previousFragment() === false) && availableRoutes().up) {\n      slide(indexh, indexv - 1);\n    }\n  }\n\n  function navigateDown() {\n    hasNavigatedDown = true; // Prioritize revealing fragments\n\n    if ((isOverview() || nextFragment() === false) && availableRoutes().down) {\n      slide(indexh, indexv + 1);\n    }\n  }\n  /**\n   * Navigates backwards, prioritized in the following order:\n   * 1) Previous fragment\n   * 2) Previous vertical slide\n   * 3) Previous horizontal slide\n   */\n\n\n  function navigatePrev() {\n    // Prioritize revealing fragments\n    if (previousFragment() === false) {\n      if (availableRoutes().up) {\n        navigateUp();\n      } else {\n        // Fetch the previous horizontal slide, if there is one\n        var previousSlide;\n\n        if (config.rtl) {\n          previousSlide = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.future')).pop();\n        } else {\n          previousSlide = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR + '.past')).pop();\n        }\n\n        if (previousSlide) {\n          var v = previousSlide.querySelectorAll('section').length - 1 || undefined;\n          var h = indexh - 1;\n          slide(h, v);\n        }\n      }\n    }\n  }\n  /**\n   * The reverse of #navigatePrev().\n   */\n\n\n  function navigateNext() {\n    hasNavigatedRight = true;\n    hasNavigatedDown = true; // Prioritize revealing fragments\n\n    if (nextFragment() === false) {\n      var routes = availableRoutes(); // When looping is enabled `routes.down` is always available\n      // so we need a separate check for when we've reached the\n      // end of a stack and should move horizontally\n\n      if (routes.down && routes.right && config.loop && Reveal.isLastVerticalSlide(currentSlide)) {\n        routes.down = false;\n      }\n\n      if (routes.down) {\n        navigateDown();\n      } else if (config.rtl) {\n        navigateLeft();\n      } else {\n        navigateRight();\n      }\n    }\n  }\n  /**\n   * Checks if the target element prevents the triggering of\n   * swipe navigation.\n   */\n\n\n  function isSwipePrevented(target) {\n    while (target && typeof target.hasAttribute === 'function') {\n      if (target.hasAttribute('data-prevent-swipe')) return true;\n      target = target.parentNode;\n    }\n\n    return false;\n  } // --------------------------------------------------------------------//\n  // ----------------------------- EVENTS -------------------------------//\n  // --------------------------------------------------------------------//\n\n  /**\n   * Called by all event handlers that are based on user\n   * input.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onUserInput(event) {\n    if (config.autoSlideStoppable) {\n      pauseAutoSlide();\n    }\n  }\n  /**\n   * Called whenever there is mouse input at the document level\n   * to determine if the cursor is active or not.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentCursorActive(event) {\n    showCursor();\n    clearTimeout(cursorInactiveTimeout);\n    cursorInactiveTimeout = setTimeout(hideCursor, config.hideCursorTime);\n  }\n  /**\n   * Handler for the document level 'keypress' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentKeyPress(event) {\n    // Check if the pressed key is question mark\n    if (event.shiftKey && event.charCode === 63) {\n      toggleHelp();\n    }\n  }\n  /**\n   * Handler for the document level 'keydown' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentKeyDown(event) {\n    // If there's a condition specified and it returns false,\n    // ignore this event\n    if (typeof config.keyboardCondition === 'function' && config.keyboardCondition(event) === false) {\n      return true;\n    } // Shorthand\n\n\n    var keyCode = event.keyCode; // Remember if auto-sliding was paused so we can toggle it\n\n    var autoSlideWasPaused = autoSlidePaused;\n    onUserInput(event); // Is there a focused element that could be using the keyboard?\n\n    var activeElementIsCE = document.activeElement && document.activeElement.contentEditable !== 'inherit';\n    var activeElementIsInput = document.activeElement && document.activeElement.tagName && /input|textarea/i.test(document.activeElement.tagName);\n    var activeElementIsNotes = document.activeElement && document.activeElement.className && /speaker-notes/i.test(document.activeElement.className); // Whitelist specific modified + keycode combinations\n\n    var prevSlideShortcut = event.shiftKey && event.keyCode === 32;\n    var firstSlideShortcut = (event.metaKey || event.ctrlKey) && keyCode === 37;\n    var lastSlideShortcut = (event.metaKey || event.ctrlKey) && keyCode === 39; // Prevent all other events when a modifier is pressed\n\n    var unusedModifier = !prevSlideShortcut && !firstSlideShortcut && !lastSlideShortcut && (event.shiftKey || event.altKey || event.ctrlKey || event.metaKey); // Disregard the event if there's a focused element or a\n    // keyboard modifier key is present\n\n    if (activeElementIsCE || activeElementIsInput || activeElementIsNotes || unusedModifier) return; // While paused only allow resume keyboard events; 'b', 'v', '.'\n\n    var resumeKeyCodes = [66, 86, 190, 191];\n    var key; // Custom key bindings for togglePause should be able to resume\n\n    if (typeof config.keyboard === 'object') {\n      for (key in config.keyboard) {\n        if (config.keyboard[key] === 'togglePause') {\n          resumeKeyCodes.push(parseInt(key, 10));\n        }\n      }\n    }\n\n    if (isPaused() && resumeKeyCodes.indexOf(keyCode) === -1) {\n      return false;\n    }\n\n    var triggered = false; // 1. User defined key bindings\n\n    if (typeof config.keyboard === 'object') {\n      for (key in config.keyboard) {\n        // Check if this binding matches the pressed key\n        if (parseInt(key, 10) === keyCode) {\n          var value = config.keyboard[key]; // Callback function\n\n          if (typeof value === 'function') {\n            value.apply(null, [event]);\n          } // String shortcuts to reveal.js API\n          else if (typeof value === 'string' && typeof Reveal[value] === 'function') {\n              Reveal[value].call();\n            }\n\n          triggered = true;\n        }\n      }\n    } // 2. Registered custom key bindings\n\n\n    if (triggered === false) {\n      for (key in registeredKeyBindings) {\n        // Check if this binding matches the pressed key\n        if (parseInt(key, 10) === keyCode) {\n          var action = registeredKeyBindings[key].callback; // Callback function\n\n          if (typeof action === 'function') {\n            action.apply(null, [event]);\n          } // String shortcuts to reveal.js API\n          else if (typeof action === 'string' && typeof Reveal[action] === 'function') {\n              Reveal[action].call();\n            }\n\n          triggered = true;\n        }\n      }\n    } // 3. System defined key bindings\n\n\n    if (triggered === false) {\n      // Assume true and try to prove false\n      triggered = true; // P, PAGE UP\n\n      if (keyCode === 80 || keyCode === 33) {\n        navigatePrev();\n      } // N, PAGE DOWN\n      else if (keyCode === 78 || keyCode === 34) {\n          navigateNext();\n        } // H, LEFT\n        else if (keyCode === 72 || keyCode === 37) {\n            if (firstSlideShortcut) {\n              slide(0);\n            } else if (!isOverview() && config.navigationMode === 'linear') {\n              navigatePrev();\n            } else {\n              navigateLeft();\n            }\n          } // L, RIGHT\n          else if (keyCode === 76 || keyCode === 39) {\n              if (lastSlideShortcut) {\n                slide(Number.MAX_VALUE);\n              } else if (!isOverview() && config.navigationMode === 'linear') {\n                navigateNext();\n              } else {\n                navigateRight();\n              }\n            } // K, UP\n            else if (keyCode === 75 || keyCode === 38) {\n                if (!isOverview() && config.navigationMode === 'linear') {\n                  navigatePrev();\n                } else {\n                  navigateUp();\n                }\n              } // J, DOWN\n              else if (keyCode === 74 || keyCode === 40) {\n                  if (!isOverview() && config.navigationMode === 'linear') {\n                    navigateNext();\n                  } else {\n                    navigateDown();\n                  }\n                } // HOME\n                else if (keyCode === 36) {\n                    slide(0);\n                  } // END\n                  else if (keyCode === 35) {\n                      slide(Number.MAX_VALUE);\n                    } // SPACE\n                    else if (keyCode === 32) {\n                        if (isOverview()) {\n                          deactivateOverview();\n                        }\n\n                        if (event.shiftKey) {\n                          navigatePrev();\n                        } else {\n                          navigateNext();\n                        }\n                      } // TWO-SPOT, SEMICOLON, B, V, PERIOD, LOGITECH PRESENTER TOOLS \"BLACK SCREEN\" BUTTON\n                      else if (keyCode === 58 || keyCode === 59 || keyCode === 66 || keyCode === 86 || keyCode === 190 || keyCode === 191) {\n                          togglePause();\n                        } // F\n                        else if (keyCode === 70) {\n                            enterFullscreen();\n                          } // A\n                          else if (keyCode === 65) {\n                              if (config.autoSlideStoppable) {\n                                toggleAutoSlide(autoSlideWasPaused);\n                              }\n                            } else {\n                              triggered = false;\n                            }\n    } // If the input resulted in a triggered action we should prevent\n    // the browsers default behavior\n\n\n    if (triggered) {\n      event.preventDefault && event.preventDefault();\n    } // ESC or O key\n    else if ((keyCode === 27 || keyCode === 79) && features.transforms3d) {\n        if (dom.overlay) {\n          closeOverlay();\n        } else {\n          toggleOverview();\n        }\n\n        event.preventDefault && event.preventDefault();\n      } // If auto-sliding is enabled we need to cue up\n    // another timeout\n\n\n    cueAutoSlide();\n  }\n  /**\n   * Handler for the 'touchstart' event, enables support for\n   * swipe and pinch gestures.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchStart(event) {\n    if (isSwipePrevented(event.target)) return true;\n    touch.startX = event.touches[0].clientX;\n    touch.startY = event.touches[0].clientY;\n    touch.startCount = event.touches.length;\n  }\n  /**\n   * Handler for the 'touchmove' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchMove(event) {\n    if (isSwipePrevented(event.target)) return true; // Each touch should only trigger one action\n\n    if (!touch.captured) {\n      onUserInput(event);\n      var currentX = event.touches[0].clientX;\n      var currentY = event.touches[0].clientY; // There was only one touch point, look for a swipe\n\n      if (event.touches.length === 1 && touch.startCount !== 2) {\n        var deltaX = currentX - touch.startX,\n            deltaY = currentY - touch.startY;\n\n        if (deltaX > touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n          touch.captured = true;\n          navigateLeft();\n        } else if (deltaX < -touch.threshold && Math.abs(deltaX) > Math.abs(deltaY)) {\n          touch.captured = true;\n          navigateRight();\n        } else if (deltaY > touch.threshold) {\n          touch.captured = true;\n          navigateUp();\n        } else if (deltaY < -touch.threshold) {\n          touch.captured = true;\n          navigateDown();\n        } // If we're embedded, only block touch events if they have\n        // triggered an action\n\n\n        if (config.embedded) {\n          if (touch.captured || isVerticalSlide(currentSlide)) {\n            event.preventDefault();\n          }\n        } // Not embedded? Block them all to avoid needless tossing\n        // around of the viewport in iOS\n        else {\n            event.preventDefault();\n          }\n      }\n    } // There's a bug with swiping on some Android devices unless\n    // the default action is always prevented\n    else if (UA.match(/android/gi)) {\n        event.preventDefault();\n      }\n  }\n  /**\n   * Handler for the 'touchend' event.\n   *\n   * @param {object} event\n   */\n\n\n  function onTouchEnd(event) {\n    touch.captured = false;\n  }\n  /**\n   * Convert pointer down to touch start.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerDown(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchStart(event);\n    }\n  }\n  /**\n   * Convert pointer move to touch move.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerMove(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchMove(event);\n    }\n  }\n  /**\n   * Convert pointer up to touch end.\n   *\n   * @param {object} event\n   */\n\n\n  function onPointerUp(event) {\n    if (event.pointerType === event.MSPOINTER_TYPE_TOUCH || event.pointerType === \"touch\") {\n      event.touches = [{\n        clientX: event.clientX,\n        clientY: event.clientY\n      }];\n      onTouchEnd(event);\n    }\n  }\n  /**\n   * Handles mouse wheel scrolling, throttled to avoid skipping\n   * multiple slides.\n   *\n   * @param {object} event\n   */\n\n\n  function onDocumentMouseScroll(event) {\n    if (Date.now() - lastMouseWheelStep > 600) {\n      lastMouseWheelStep = Date.now();\n      var delta = event.detail || -event.wheelDelta;\n\n      if (delta > 0) {\n        navigateNext();\n      } else if (delta < 0) {\n        navigatePrev();\n      }\n    }\n  }\n  /**\n   * Clicking on the progress bar results in a navigation to the\n   * closest approximate horizontal slide using this equation:\n   *\n   * ( clickX / presentationWidth ) * numberOfSlides\n   *\n   * @param {object} event\n   */\n\n\n  function onProgressClicked(event) {\n    onUserInput(event);\n    event.preventDefault();\n    var slidesTotal = toArray(dom.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR)).length;\n    var slideIndex = Math.floor(event.clientX / dom.wrapper.offsetWidth * slidesTotal);\n\n    if (config.rtl) {\n      slideIndex = slidesTotal - slideIndex;\n    }\n\n    slide(slideIndex);\n  }\n  /**\n   * Event handler for navigation control buttons.\n   */\n\n\n  function onNavigateLeftClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    config.navigationMode === 'linear' ? navigatePrev() : navigateLeft();\n  }\n\n  function onNavigateRightClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    config.navigationMode === 'linear' ? navigateNext() : navigateRight();\n  }\n\n  function onNavigateUpClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateUp();\n  }\n\n  function onNavigateDownClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateDown();\n  }\n\n  function onNavigatePrevClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigatePrev();\n  }\n\n  function onNavigateNextClicked(event) {\n    event.preventDefault();\n    onUserInput();\n    navigateNext();\n  }\n  /**\n   * Handler for the window level 'hashchange' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onWindowHashChange(event) {\n    readURL();\n  }\n  /**\n   * Handler for the window level 'resize' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onWindowResize(event) {\n    layout();\n  }\n  /**\n   * Handle for the window level 'visibilitychange' event.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onPageVisibilityChange(event) {\n    var isHidden = document.webkitHidden || document.msHidden || document.hidden; // If, after clicking a link or similar and we're coming back,\n    // focus the document.body to ensure we can use keyboard shortcuts\n\n    if (isHidden === false && document.activeElement !== document.body) {\n      // Not all elements support .blur() - SVGs among them.\n      if (typeof document.activeElement.blur === 'function') {\n        document.activeElement.blur();\n      }\n\n      document.body.focus();\n    }\n  }\n  /**\n   * Invoked when a slide is and we're in the overview.\n   *\n   * @param {object} event\n   */\n\n\n  function onOverviewSlideClicked(event) {\n    // TODO There's a bug here where the event listeners are not\n    // removed after deactivating the overview.\n    if (eventsAreBound && isOverview()) {\n      event.preventDefault();\n      var element = event.target;\n\n      while (element && !element.nodeName.match(/section/gi)) {\n        element = element.parentNode;\n      }\n\n      if (element && !element.classList.contains('disabled')) {\n        deactivateOverview();\n\n        if (element.nodeName.match(/section/gi)) {\n          var h = parseInt(element.getAttribute('data-index-h'), 10),\n              v = parseInt(element.getAttribute('data-index-v'), 10);\n          slide(h, v);\n        }\n      }\n    }\n  }\n  /**\n   * Handles clicks on links that are set to preview in the\n   * iframe overlay.\n   *\n   * @param {object} event\n   */\n\n\n  function onPreviewLinkClicked(event) {\n    if (event.currentTarget && event.currentTarget.hasAttribute('href')) {\n      var url = event.currentTarget.getAttribute('href');\n\n      if (url) {\n        showPreview(url);\n        event.preventDefault();\n      }\n    }\n  }\n  /**\n   * Handles click on the auto-sliding controls element.\n   *\n   * @param {object} [event]\n   */\n\n\n  function onAutoSlidePlayerClick(event) {\n    // Replay\n    if (Reveal.isLastSlide() && config.loop === false) {\n      slide(0, 0);\n      resumeAutoSlide();\n    } // Resume\n    else if (autoSlidePaused) {\n        resumeAutoSlide();\n      } // Pause\n      else {\n          pauseAutoSlide();\n        }\n  } // --------------------------------------------------------------------//\n  // ------------------------ PLAYBACK COMPONENT ------------------------//\n  // --------------------------------------------------------------------//\n\n  /**\n   * Constructor for the playback component, which displays\n   * play/pause/progress controls.\n   *\n   * @param {HTMLElement} container The component will append\n   * itself to this\n   * @param {function} progressCheck A method which will be\n   * called frequently to get the current progress on a range\n   * of 0-1\n   */\n\n\n  function Playback(container, progressCheck) {\n    // Cosmetics\n    this.diameter = 100;\n    this.diameter2 = this.diameter / 2;\n    this.thickness = 6; // Flags if we are currently playing\n\n    this.playing = false; // Current progress on a 0-1 range\n\n    this.progress = 0; // Used to loop the animation smoothly\n\n    this.progressOffset = 1;\n    this.container = container;\n    this.progressCheck = progressCheck;\n    this.canvas = document.createElement('canvas');\n    this.canvas.className = 'playback';\n    this.canvas.width = this.diameter;\n    this.canvas.height = this.diameter;\n    this.canvas.style.width = this.diameter2 + 'px';\n    this.canvas.style.height = this.diameter2 + 'px';\n    this.context = this.canvas.getContext('2d');\n    this.container.appendChild(this.canvas);\n    this.render();\n  }\n  /**\n   * @param value\n   */\n\n\n  Playback.prototype.setPlaying = function (value) {\n    var wasPlaying = this.playing;\n    this.playing = value; // Start repainting if we weren't already\n\n    if (!wasPlaying && this.playing) {\n      this.animate();\n    } else {\n      this.render();\n    }\n  };\n\n  Playback.prototype.animate = function () {\n    var progressBefore = this.progress;\n    this.progress = this.progressCheck(); // When we loop, offset the progress so that it eases\n    // smoothly rather than immediately resetting\n\n    if (progressBefore > 0.8 && this.progress < 0.2) {\n      this.progressOffset = this.progress;\n    }\n\n    this.render();\n\n    if (this.playing) {\n      features.requestAnimationFrameMethod.call(window, this.animate.bind(this));\n    }\n  };\n  /**\n   * Renders the current progress and playback state.\n   */\n\n\n  Playback.prototype.render = function () {\n    var progress = this.playing ? this.progress : 0,\n        radius = this.diameter2 - this.thickness,\n        x = this.diameter2,\n        y = this.diameter2,\n        iconSize = 28; // Ease towards 1\n\n    this.progressOffset += (1 - this.progressOffset) * 0.1;\n    var endAngle = -Math.PI / 2 + progress * (Math.PI * 2);\n    var startAngle = -Math.PI / 2 + this.progressOffset * (Math.PI * 2);\n    this.context.save();\n    this.context.clearRect(0, 0, this.diameter, this.diameter); // Solid background color\n\n    this.context.beginPath();\n    this.context.arc(x, y, radius + 4, 0, Math.PI * 2, false);\n    this.context.fillStyle = 'rgba( 0, 0, 0, 0.4 )';\n    this.context.fill(); // Draw progress track\n\n    this.context.beginPath();\n    this.context.arc(x, y, radius, 0, Math.PI * 2, false);\n    this.context.lineWidth = this.thickness;\n    this.context.strokeStyle = 'rgba( 255, 255, 255, 0.2 )';\n    this.context.stroke();\n\n    if (this.playing) {\n      // Draw progress on top of track\n      this.context.beginPath();\n      this.context.arc(x, y, radius, startAngle, endAngle, false);\n      this.context.lineWidth = this.thickness;\n      this.context.strokeStyle = '#fff';\n      this.context.stroke();\n    }\n\n    this.context.translate(x - iconSize / 2, y - iconSize / 2); // Draw play/pause icons\n\n    if (this.playing) {\n      this.context.fillStyle = '#fff';\n      this.context.fillRect(0, 0, iconSize / 2 - 4, iconSize);\n      this.context.fillRect(iconSize / 2 + 4, 0, iconSize / 2 - 4, iconSize);\n    } else {\n      this.context.beginPath();\n      this.context.translate(4, 0);\n      this.context.moveTo(0, 0);\n      this.context.lineTo(iconSize - 4, iconSize / 2);\n      this.context.lineTo(0, iconSize);\n      this.context.fillStyle = '#fff';\n      this.context.fill();\n    }\n\n    this.context.restore();\n  };\n\n  Playback.prototype.on = function (type, listener) {\n    this.canvas.addEventListener(type, listener, false);\n  };\n\n  Playback.prototype.off = function (type, listener) {\n    this.canvas.removeEventListener(type, listener, false);\n  };\n\n  Playback.prototype.destroy = function () {\n    this.playing = false;\n\n    if (this.canvas.parentNode) {\n      this.container.removeChild(this.canvas);\n    }\n  }; // --------------------------------------------------------------------//\n  // ------------------------------- API --------------------------------//\n  // --------------------------------------------------------------------//\n\n\n  Reveal = {\n    VERSION: VERSION,\n    initialize: initialize,\n    configure: configure,\n    sync: sync,\n    syncSlide: syncSlide,\n    syncFragments: syncFragments,\n    // Navigation methods\n    slide: slide,\n    left: navigateLeft,\n    right: navigateRight,\n    up: navigateUp,\n    down: navigateDown,\n    prev: navigatePrev,\n    next: navigateNext,\n    // Fragment methods\n    navigateFragment: navigateFragment,\n    prevFragment: previousFragment,\n    nextFragment: nextFragment,\n    // Deprecated aliases\n    navigateTo: slide,\n    navigateLeft: navigateLeft,\n    navigateRight: navigateRight,\n    navigateUp: navigateUp,\n    navigateDown: navigateDown,\n    navigatePrev: navigatePrev,\n    navigateNext: navigateNext,\n    // Forces an update in slide layout\n    layout: layout,\n    // Randomizes the order of slides\n    shuffle: shuffle,\n    // Returns an object with the available routes as booleans (left/right/top/bottom)\n    availableRoutes: availableRoutes,\n    // Returns an object with the available fragments as booleans (prev/next)\n    availableFragments: availableFragments,\n    // Toggles a help overlay with keyboard shortcuts\n    toggleHelp: toggleHelp,\n    // Toggles the overview mode on/off\n    toggleOverview: toggleOverview,\n    // Toggles the \"black screen\" mode on/off\n    togglePause: togglePause,\n    // Toggles the auto slide mode on/off\n    toggleAutoSlide: toggleAutoSlide,\n    // State checks\n    isOverview: isOverview,\n    isPaused: isPaused,\n    isAutoSliding: isAutoSliding,\n    isSpeakerNotes: isSpeakerNotes,\n    // Slide preloading\n    loadSlide: loadSlide,\n    unloadSlide: unloadSlide,\n    // Adds or removes all internal event listeners (such as keyboard)\n    addEventListeners: addEventListeners,\n    removeEventListeners: removeEventListeners,\n    // Facility for persisting and restoring the presentation state\n    getState: getState,\n    setState: setState,\n    // Presentation progress\n    getSlidePastCount: getSlidePastCount,\n    // Presentation progress on range of 0-1\n    getProgress: getProgress,\n    // Returns the indices of the current, or specified, slide\n    getIndices: getIndices,\n    // Returns an Array of all slides\n    getSlides: getSlides,\n    // Returns an Array of objects representing the attributes on\n    // the slides\n    getSlidesAttributes: getSlidesAttributes,\n    // Returns the total number of slides\n    getTotalSlides: getTotalSlides,\n    // Returns the slide element at the specified index\n    getSlide: getSlide,\n    // Returns the slide background element at the specified index\n    getSlideBackground: getSlideBackground,\n    // Returns the speaker notes string for a slide, or null\n    getSlideNotes: getSlideNotes,\n    // Returns the previous slide element, may be null\n    getPreviousSlide: function getPreviousSlide() {\n      return previousSlide;\n    },\n    // Returns the current slide element\n    getCurrentSlide: function getCurrentSlide() {\n      return currentSlide;\n    },\n    // Returns the current scale of the presentation content\n    getScale: function getScale() {\n      return scale;\n    },\n    // Returns the current configuration object\n    getConfig: function getConfig() {\n      return config;\n    },\n    // Helper method, retrieves query string as a key/value hash\n    getQueryHash: function getQueryHash() {\n      var query = {};\n      location.search.replace(/[A-Z0-9]+?=([\\w\\.%-]*)/gi, function (a) {\n        query[a.split('=').shift()] = a.split('=').pop();\n      }); // Basic deserialization\n\n      for (var i in query) {\n        var value = query[i];\n        query[i] = deserialize(unescape(value));\n      }\n\n      return query;\n    },\n    // Returns the top-level DOM element\n    getRevealElement: function getRevealElement() {\n      return dom.wrapper || document.querySelector('.reveal');\n    },\n    // Returns a hash with all registered plugins\n    getPlugins: function getPlugins() {\n      return plugins;\n    },\n    // Returns true if we're currently on the first slide\n    isFirstSlide: function isFirstSlide() {\n      return indexh === 0 && indexv === 0;\n    },\n    // Returns true if we're currently on the last slide\n    isLastSlide: function isLastSlide() {\n      if (currentSlide) {\n        // Does this slide have a next sibling?\n        if (currentSlide.nextElementSibling) return false; // If it's vertical, does its parent have a next sibling?\n\n        if (isVerticalSlide(currentSlide) && currentSlide.parentNode.nextElementSibling) return false;\n        return true;\n      }\n\n      return false;\n    },\n    // Returns true if we're on the last slide in the current\n    // vertical stack\n    isLastVerticalSlide: function isLastVerticalSlide() {\n      if (currentSlide && isVerticalSlide(currentSlide)) {\n        // Does this slide have a next sibling?\n        if (currentSlide.nextElementSibling) return false;\n        return true;\n      }\n\n      return false;\n    },\n    // Checks if reveal.js has been loaded and is ready for use\n    isReady: function isReady() {\n      return loaded;\n    },\n    // Forward event binding to the reveal DOM element\n    addEventListener: function addEventListener(type, listener, useCapture) {\n      if ('addEventListener' in window) {\n        Reveal.getRevealElement().addEventListener(type, listener, useCapture);\n      }\n    },\n    removeEventListener: function removeEventListener(type, listener, useCapture) {\n      if ('addEventListener' in window) {\n        Reveal.getRevealElement().removeEventListener(type, listener, useCapture);\n      }\n    },\n    // Adds/removes a custom key binding\n    addKeyBinding: addKeyBinding,\n    removeKeyBinding: removeKeyBinding,\n    // API for registering and retrieving plugins\n    registerPlugin: registerPlugin,\n    hasPlugin: hasPlugin,\n    getPlugin: getPlugin,\n    // Programmatically triggers a keyboard event\n    triggerKey: function triggerKey(keyCode) {\n      onDocumentKeyDown({\n        keyCode: keyCode\n      });\n    },\n    // Registers a new shortcut to include in the help overlay\n    registerKeyboardShortcut: function registerKeyboardShortcut(key, value) {\n      keyboardShortcuts[key] = value;\n    }\n  };\n  return Reveal;\n});","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","var map = {\n\t\"./beige.css\": 232,\n\t\"./black.css\": 233,\n\t\"./blood.css\": 234,\n\t\"./league.css\": 235,\n\t\"./moon.css\": 236,\n\t\"./night.css\": 237,\n\t\"./serif.css\": 238,\n\t\"./simple.css\": 239,\n\t\"./sky.css\": 240,\n\t\"./solarized.css\": 241,\n\t\"./white.css\": 242\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 231;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 243;","var map = {\n\t\"./prism-coy.css\": 245,\n\t\"./prism-dark.css\": 246,\n\t\"./prism-funky.css\": 247,\n\t\"./prism-okaidia.css\": 248,\n\t\"./prism-solarizedlight.css\": 249,\n\t\"./prism-tomorrow.css\": 250,\n\t\"./prism-twilight.css\": 251,\n\t\"./prism.css\": 252\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 244;"],"sourceRoot":""}